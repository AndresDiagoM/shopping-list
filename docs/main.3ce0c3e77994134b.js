"use strict";(self.webpackChunkshopping_list=self.webpackChunkshopping_list||[]).push([[179],{460:()=>{function xe(n){return"function"==typeof n}function Hu(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const zd=Hu(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function $o(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Fn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(xe(r))try{r()}catch(s){e=s instanceof zd?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{ZS(s)}catch(o){e=e??[],o instanceof zd?e=[...e,...o.errors]:e.push(o)}}if(e)throw new zd(e)}}add(e){var t;if(e&&e!==this)if(this.closed)ZS(e);else{if(e instanceof Fn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&$o(t,e)}remove(e){const{_finalizers:t}=this;t&&$o(t,e),e instanceof Fn&&e._removeParent(this)}}Fn.EMPTY=(()=>{const n=new Fn;return n.closed=!0,n})();const XS=Fn.EMPTY;function JS(n){return n instanceof Fn||n&&"closed"in n&&xe(n.remove)&&xe(n.add)&&xe(n.unsubscribe)}function ZS(n){xe(n)?n():n.unsubscribe()}const Ns={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},qd={setTimeout(n,e,...t){const{delegate:r}=qd;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=qd;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function eA(n){qd.setTimeout(()=>{const{onUnhandledError:e}=Ns;if(!e)throw n;e(n)})}function tA(){}const PH=Cm("C",void 0,void 0);function Cm(n,e,t){return{kind:n,value:e,error:t}}let Os=null;function Wd(n){if(Ns.useDeprecatedSynchronousErrorHandling){const e=!Os;if(e&&(Os={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Os;if(Os=null,t)throw r}}else n()}class bm extends Fn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,JS(e)&&e.add(this)):this.destination=VH}static create(e,t,r){return new Gu(e,t,r)}next(e){this.isStopped?Tm(function kH(n){return Cm("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Tm(function RH(n){return Cm("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Tm(PH,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const OH=Function.prototype.bind;function Dm(n,e){return OH.call(n,e)}class FH{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Kd(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Kd(r)}else Kd(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Kd(t)}}}class Gu extends bm{constructor(e,t,r){let i;if(super(),xe(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&Ns.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Dm(e.next,s),error:e.error&&Dm(e.error,s),complete:e.complete&&Dm(e.complete,s)}):i=e}this.destination=new FH(i)}}function Kd(n){Ns.useDeprecatedSynchronousErrorHandling?function NH(n){Ns.useDeprecatedSynchronousErrorHandling&&Os&&(Os.errorThrown=!0,Os.error=n)}(n):eA(n)}function Tm(n,e){const{onStoppedNotification:t}=Ns;t&&qd.setTimeout(()=>t(n,e))}const VH={closed:!0,next:tA,error:function LH(n){throw n},complete:tA},Sm="function"==typeof Symbol&&Symbol.observable||"@@observable";function Fs(n){return n}function nA(...n){return rA(n)}function rA(n){return 0===n.length?Fs:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let Oe=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function BH(n){return n&&n instanceof bm||function UH(n){return n&&xe(n.next)&&xe(n.error)&&xe(n.complete)}(n)&&JS(n)}(t)?t:new Gu(t,r,i);return Wd(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=iA(r))((i,s)=>{const o=new Gu({next:a=>{try{t(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Sm](){return this}pipe(...t){return rA(t)(this)}toPromise(t){return new(t=iA(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function iA(n){var e;return null!==(e=n??Ns.Promise)&&void 0!==e?e:Promise}const $H=Hu(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ni=(()=>{class n extends Oe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new sA(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new $H}next(t){Wd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Wd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Wd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?XS:(this.currentObservers=null,s.push(t),new Fn(()=>{this.currentObservers=null,$o(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new Oe;return t.source=this,t}}return n.create=(e,t)=>new sA(e,t),n})();class sA extends ni{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:XS}}function oA(n){return xe(n?.lift)}function St(n){return e=>{if(oA(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function It(n,e,t,r,i){return new jH(n,e,t,r,i)}class jH extends bm{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ee(n,e){return St((t,r)=>{let i=0;t.subscribe(It(r,s=>{r.next(n.call(e,s,i++))}))})}function Mm(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function qi(n){return this instanceof qi?(this.v=n,this):new qi(n)}function lA(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Rm(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=n[s](o)).done,o.value)})}}}const dA=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function hA(n){return xe(n?.then)}function fA(n){return xe(n[Sm])}function pA(n){return Symbol.asyncIterator&&xe(n?.[Symbol.asyncIterator])}function gA(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const mA=function o4(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function yA(n){return xe(n?.[mA])}function _A(n){return function cA(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof qi?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield qi(t.read());if(i)return yield qi(void 0);yield yield qi(r)}}finally{t.releaseLock()}})}function vA(n){return xe(n?.getReader)}function Yn(n){if(n instanceof Oe)return n;if(null!=n){if(fA(n))return function a4(n){return new Oe(e=>{const t=n[Sm]();if(xe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(dA(n))return function u4(n){return new Oe(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(hA(n))return function c4(n){return new Oe(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,eA)})}(n);if(pA(n))return wA(n);if(yA(n))return function l4(n){return new Oe(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(vA(n))return function d4(n){return wA(_A(n))}(n)}throw gA(n)}function wA(n){return new Oe(e=>{(function h4(n,e){var t,r,i,s;return function aA(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=lA(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function ri(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Vt(n,e,t=1/0){return xe(e)?Vt((r,i)=>ee((s,o)=>e(r,s,i,o))(Yn(n(r,i))),t):("number"==typeof e&&(t=e),St((r,i)=>function f4(n,e,t,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=m=>c<r?p(m):u.push(m),p=m=>{s&&e.next(m),c++;let y=!1;Yn(t(m,l++)).subscribe(It(e,_=>{i?.(_),s?f(_):e.next(_)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const _=u.shift();o?ri(e,o,()=>p(_)):p(_)}h()}catch(_){e.error(_)}}))};return n.subscribe(It(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function jo(n=1/0){return Vt(Fs,n)}const Dr=new Oe(n=>n.complete());function km(n){return n[n.length-1]}function IA(n){return xe(km(n))?n.pop():void 0}function zu(n){return function g4(n){return n&&xe(n.schedule)}(km(n))?n.pop():void 0}function Qd(n,e=0){return St((t,r)=>{t.subscribe(It(r,i=>ri(r,n,()=>r.next(i),e),()=>ri(r,n,()=>r.complete(),e),i=>ri(r,n,()=>r.error(i),e)))})}function Yd(n,e=0){return St((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function EA(n,e){if(!n)throw new Error("Iterable cannot be null");return new Oe(t=>{ri(t,e,()=>{const r=n[Symbol.asyncIterator]();ri(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function ht(n,e){return e?function E4(n,e){if(null!=n){if(fA(n))return function y4(n,e){return Yn(n).pipe(Yd(e),Qd(e))}(n,e);if(dA(n))return function v4(n,e){return new Oe(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(hA(n))return function _4(n,e){return Yn(n).pipe(Yd(e),Qd(e))}(n,e);if(pA(n))return EA(n,e);if(yA(n))return function w4(n,e){return new Oe(t=>{let r;return ri(t,e,()=>{r=n[mA](),ri(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>xe(r?.return)&&r.return()})}(n,e);if(vA(n))return function I4(n,e){return EA(_A(n),e)}(n,e)}throw gA(n)}(n,e):Yn(n)}function Nm(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Gu({next:()=>{r.unsubscribe(),n()}});return Yn(e(...t)).subscribe(r)}function Ae(n){for(let e in n)if(n[e]===Ae)return e;throw Error("Could not find renamed property on target object.")}function Om(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Me(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Me).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Fm(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const D4=Ae({__forward_ref__:Ae});function Pe(n){return n.__forward_ref__=Pe,n.toString=function(){return Me(this())},n}function Q(n){return Lm(n)?n():n}function Lm(n){return"function"==typeof n&&n.hasOwnProperty(D4)&&n.__forward_ref__===Pe}function Vm(n){return n&&!!n.\u0275providers}const CA="https://g.co/ng/security#xss";class x extends Error{constructor(e,t){super(Xd(e,t)),this.code=e}}function Xd(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}function re(n){return"string"==typeof n?n:null==n?"":String(n)}function Jd(n,e){throw new x(-201,!1)}function Xn(n,e){null==n&&function Ce(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function $(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Jt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Zd(n){return bA(n,eh)||bA(n,TA)}function bA(n,e){return n.hasOwnProperty(e)?n[e]:null}function DA(n){return n&&(n.hasOwnProperty(Um)||n.hasOwnProperty(k4))?n[Um]:null}const eh=Ae({\u0275prov:Ae}),Um=Ae({\u0275inj:Ae}),TA=Ae({ngInjectableDef:Ae}),k4=Ae({ngInjectorDef:Ae});var Y=(()=>((Y=Y||{})[Y.Default=0]="Default",Y[Y.Host=1]="Host",Y[Y.Self=2]="Self",Y[Y.SkipSelf=4]="SkipSelf",Y[Y.Optional=8]="Optional",Y))();let Bm;function Jn(n){const e=Bm;return Bm=n,e}function SA(n,e,t){const r=Zd(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Y.Optional?null:void 0!==e?e:void Jd(Me(n))}const Fe=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),qu={},$m="__NG_DI_FLAG__",th="ngTempTokenPath",O4="ngTokenPath",F4=/\n/gm,L4="\u0275",AA="__source";let Wu;function Ho(n){const e=Wu;return Wu=n,e}function V4(n,e=Y.Default){if(void 0===Wu)throw new x(-203,!1);return null===Wu?SA(n,void 0,e):Wu.get(n,e&Y.Optional?null:void 0,e)}function L(n,e=Y.Default){return(function N4(){return Bm}()||V4)(Q(n),e)}function de(n,e=Y.Default){return L(n,nh(e))}function nh(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function jm(n){const e=[];for(let t=0;t<n.length;t++){const r=Q(n[t]);if(Array.isArray(r)){if(0===r.length)throw new x(900,!1);let i,s=Y.Default;for(let o=0;o<r.length;o++){const a=r[o],u=U4(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(L(i,s))}else e.push(L(r))}return e}function Ku(n,e){return n[$m]=e,n.prototype[$m]=e,n}function U4(n){return n[$m]}function ii(n){return{toString:n}.toString()}var Tr=(()=>((Tr=Tr||{})[Tr.OnPush=0]="OnPush",Tr[Tr.Default=1]="Default",Tr))(),Sr=(()=>{return(n=Sr||(Sr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Sr;var n})();const si={},Ie=[],rh=Ae({\u0275cmp:Ae}),Hm=Ae({\u0275dir:Ae}),Gm=Ae({\u0275pipe:Ae}),MA=Ae({\u0275mod:Ae}),oi=Ae({\u0275fac:Ae}),Qu=Ae({__NG_ELEMENT_ID__:Ae});let j4=0;function Zn(n){return ii(()=>{const e=RA(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Tr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||Sr.Emulated,id:"c"+j4++,styles:n.styles||Ie,_:null,schemas:n.schemas||null,tView:null};kA(t);const r=n.dependencies;return t.directiveDefs=ih(r,!1),t.pipeDefs=ih(r,!0),t})}function G4(n){return be(n)||Zt(n)}function z4(n){return null!==n}function fn(n){return ii(()=>({type:n.type,bootstrap:n.bootstrap||Ie,declarations:n.declarations||Ie,imports:n.imports||Ie,exports:n.exports||Ie,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function PA(n,e){if(null==n)return si;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}function J(n){return ii(()=>{const e=RA(n);return kA(e),e})}function Dn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function be(n){return n[rh]||null}function Zt(n){return n[Hm]||null}function Tn(n){return n[Gm]||null}function Vn(n,e){const t=n[MA]||null;if(!t&&!0===e)throw new Error(`Type ${Me(n)} does not have '\u0275mod' property.`);return t}function RA(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Ie,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:PA(n.inputs,e),outputs:PA(n.outputs)}}function kA(n){n.features?.forEach(e=>e(n))}function ih(n,e){if(!n)return null;const t=e?Tn:G4;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(z4)}const ai=0,V=1,ce=2,Ye=3,dr=4,Ls=5,en=6,zo=7,rt=8,sh=9,oh=10,he=11,zm=12,Yu=13,NA=14,qo=15,tn=16,Xu=17,Wo=18,Ar=19,Ju=20,OA=21,Le=22,qm=1,FA=2,ah=7,uh=8,Ko=9,pn=10;function Un(n){return Array.isArray(n)&&"object"==typeof n[qm]}function hr(n){return Array.isArray(n)&&!0===n[qm]}function Wm(n){return 0!=(4&n.flags)}function Zu(n){return n.componentOffset>-1}function ch(n){return 1==(1&n.flags)}function fr(n){return!!n.template}function W4(n){return 0!=(256&n[ce])}function Vs(n,e){return n.hasOwnProperty(oi)?n[oi]:null}class Y4{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Bn(){return UA}function UA(n){return n.type.prototype.ngOnChanges&&(n.setInput=J4),X4}function X4(){const n=$A(this),e=n?.current;if(e){const t=n.previous;if(t===si)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function J4(n,e,t,r){const i=this.declaredInputs[t],s=$A(n)||function Z4(n,e){return n[BA]=e}(n,{previous:si,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new Y4(u&&u.currentValue,e,a===si),n[r]=e}Bn.ngInherit=!0;const BA="__ngSimpleChanges__";function $A(n){return n[BA]||null}const er=function(n,e,t){};function Ut(n){for(;Array.isArray(n);)n=n[ai];return n}function lh(n,e){return Ut(e[n])}function $n(n,e){return Ut(e[n.index])}function GA(n,e){return n.data[e]}function Qo(n,e){return n[e]}function Sn(n,e){const t=e[n];return Un(t)?t:t[ai]}function dh(n){return 64==(64&n[ce])}function Ki(n,e){return null==e?null:n[e]}function zA(n){n[Wo]=0}function Qm(n,e){n[Ls]+=e;let t=n,r=n[Ye];for(;null!==r&&(1===e&&1===t[Ls]||-1===e&&0===t[Ls]);)r[Ls]+=e,t=r,r=r[Ye]}const ie={lFrame:tx(null),bindingsEnabled:!0};function WA(){return ie.bindingsEnabled}function D(){return ie.lFrame.lView}function _e(){return ie.lFrame.tView}function ui(n){return ie.lFrame.contextLView=n,n[rt]}function ci(n){return ie.lFrame.contextLView=null,n}function Bt(){let n=KA();for(;null!==n&&64===n.type;)n=n.parent;return n}function KA(){return ie.lFrame.currentTNode}function xr(n,e){const t=ie.lFrame;t.currentTNode=n,t.isParent=e}function Ym(){return ie.lFrame.isParent}function gn(){const n=ie.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Yo(){return ie.lFrame.bindingIndex++}function h3(n,e){const t=ie.lFrame;t.bindingIndex=t.bindingRootIndex=n,Jm(e)}function Jm(n){ie.lFrame.currentDirectiveIndex=n}function ey(n){ie.lFrame.currentQueryIndex=n}function p3(n){const e=n[V];return 2===e.type?e.declTNode:1===e.type?n[en]:null}function ZA(n,e,t){if(t&Y.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&Y.Host||(i=p3(s),null===i||(s=s[qo],10&i.type))););if(null===i)return!1;e=i,n=s}const r=ie.lFrame=ex();return r.currentTNode=e,r.lView=n,!0}function ty(n){const e=ex(),t=n[V];ie.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function ex(){const n=ie.lFrame,e=null===n?null:n.child;return null===e?tx(n):e}function tx(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function nx(){const n=ie.lFrame;return ie.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const rx=nx;function ny(){const n=nx();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function mn(){return ie.lFrame.selectedIndex}function Us(n){ie.lFrame.selectedIndex=n}function qe(){const n=ie.lFrame;return GA(n.tView,n.selectedIndex)}function hh(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(n.contentHooks??(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks??(n.contentHooks=[])).push(t,a),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks??(n.viewHooks=[])).push(-t,u),c&&((n.viewHooks??(n.viewHooks=[])).push(t,c),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(t,c)),null!=l&&(n.destroyHooks??(n.destroyHooks=[])).push(t,l)}}function fh(n,e,t){ix(n,e,3,t)}function ph(n,e,t,r){(3&n[ce])===t&&ix(n,e,t,r)}function ry(n,e){let t=n[ce];(3&t)===e&&(t&=2047,t+=1,n[ce]=t)}function ix(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&n[Wo]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[Wo]+=65536),(a<s||-1==s)&&(C3(n,t,e,u),n[Wo]=(4294901760&n[Wo])+u+2),u++}function C3(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[ce]>>11<n[Wo]>>16&&(3&n[ce])===e){n[ce]+=2048,er(4,a,s);try{s.call(a)}finally{er(5,a,s)}}}else{er(4,a,s);try{s.call(a)}finally{er(5,a,s)}}}const Xo=-1;class tc{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function sy(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];ox(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function sx(n){return 3===n||4===n||6===n}function ox(n){return 64===n.charCodeAt(0)}function nc(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||ax(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function ax(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function ux(n){return n!==Xo}function gh(n){return 32767&n}function mh(n,e){let t=function S3(n){return n>>16}(n),r=e;for(;t>0;)r=r[qo],t--;return r}let oy=!0;function yh(n){const e=oy;return oy=n,e}const cx=255,lx=5;let A3=0;const Mr={};function _h(n,e){const t=dx(n,e);if(-1!==t)return t;const r=e[V];r.firstCreatePass&&(n.injectorIndex=e.length,ay(r.data,n),ay(e,null),ay(r.blueprint,null));const i=uy(n,e),s=n.injectorIndex;if(ux(i)){const o=gh(i),a=mh(i,e),u=a[V].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function ay(n,e){n.push(0,0,0,0,0,0,0,0,e)}function dx(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function uy(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=_x(i),null===r)return Xo;if(t++,i=i[qo],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Xo}function cy(n,e,t){!function x3(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Qu)&&(r=t[Qu]),null==r&&(r=t[Qu]=A3++);const i=r&cx;e.data[n+(i>>lx)]|=1<<i}(n,e,t)}function hx(n,e,t){if(t&Y.Optional||void 0!==n)return n;Jd()}function fx(n,e,t,r){if(t&Y.Optional&&void 0===r&&(r=null),!(t&(Y.Self|Y.Host))){const i=n[sh],s=Jn(void 0);try{return i?i.get(e,r,t&Y.Optional):SA(e,r,t&Y.Optional)}finally{Jn(s)}}return hx(r,0,t)}function px(n,e,t,r=Y.Default,i){if(null!==n){if(1024&e[ce]){const o=function N3(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&1024&o[ce]&&!(256&o[ce]);){const a=gx(s,o,t,r|Y.Self,Mr);if(a!==Mr)return a;let u=s.parent;if(!u){const c=o[OA];if(c){const l=c.get(t,Mr,r);if(l!==Mr)return l}u=_x(o),o=o[qo]}s=u}return i}(n,e,t,r,Mr);if(o!==Mr)return o}const s=gx(n,e,t,r,Mr);if(s!==Mr)return s}return fx(e,t,r,i)}function gx(n,e,t,r,i){const s=function R3(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Qu)?n[Qu]:void 0;return"number"==typeof e?e>=0?e&cx:k3:e}(t);if("function"==typeof s){if(!ZA(e,n,r))return r&Y.Host?hx(i,0,r):fx(e,t,r,i);try{const o=s(r);if(null!=o||r&Y.Optional)return o;Jd()}finally{rx()}}else if("number"==typeof s){let o=null,a=dx(n,e),u=Xo,c=r&Y.Host?e[tn][en]:null;for((-1===a||r&Y.SkipSelf)&&(u=-1===a?uy(n,e):e[a+8],u!==Xo&&yx(r,!1)?(o=e[V],a=gh(u),e=mh(u,e)):a=-1);-1!==a;){const l=e[V];if(mx(s,a,l.data)){const d=P3(a,e,t,o,r,c);if(d!==Mr)return d}u=e[a+8],u!==Xo&&yx(r,e[V].data[a+8]===c)&&mx(s,a,e)?(o=l,a=gh(u),e=mh(u,e)):a=-1}}return i}function P3(n,e,t,r,i,s){const o=e[V],a=o.data[n+8],l=function vh(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,u=n.directiveStart,l=s>>20,h=i?a+l:n.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&t===p||f>=u&&p.type===t)return f}if(i){const f=o[u];if(f&&fr(f)&&f.type===t)return u}return null}(a,o,t,null==r?Zu(a)&&oy:r!=o&&0!=(3&a.type),i&Y.Host&&s===a);return null!==l?Bs(e,o,l,a):Mr}function Bs(n,e,t,r){let i=n[t];const s=e.data;if(function b3(n){return n instanceof tc}(i)){const o=i;o.resolving&&function T4(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new x(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Ee(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():re(n)}(s[t]));const a=yh(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Jn(o.injectImpl):null;ZA(n,r,Y.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function E3(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=UA(e);(t.preOrderHooks??(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks??(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks??(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==u&&Jn(u),yh(a),o.resolving=!1,rx()}}return i}function mx(n,e,t){return!!(t[e+(n>>lx)]&1<<n)}function yx(n,e){return!(n&Y.Self||n&Y.Host&&e)}class Jo{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return px(this._tNode,this._lView,e,nh(r),t)}}function k3(){return new Jo(Bt(),D())}function $t(n){return ii(()=>{const e=n.prototype.constructor,t=e[oi]||ly(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[oi]||ly(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function ly(n){return Lm(n)?()=>{const e=ly(Q(n));return e&&e()}:Vs(n)}function _x(n){const e=n[V],t=e.type;return 2===t?e.declTNode:1===t?n[en]:null}const ea="__parameters__";function na(n,e,t){return ii(()=>{const r=function dy(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(ea)?u[ea]:Object.defineProperty(u,ea,{value:[]})[ea];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class B{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=$({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function $s(n,e){n.forEach(t=>Array.isArray(t)?$s(t,e):e(t))}function wx(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Ih(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function jn(n,e,t){let r=ra(n,e);return r>=0?n[1|r]=t:(r=~r,function V3(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function fy(n,e){const t=ra(n,e);if(t>=0)return n[1|t]}function ra(n,e){return function Ix(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const nn=Ku(na("Optional"),8),oc=Ku(na("SkipSelf"),4);var An=(()=>((An=An||{})[An.Important=1]="Important",An[An.DashCase=2]="DashCase",An))();const vy=new Map;let oG=0;const Iy="__ngContext__";function rn(n,e){Un(e)?(n[Iy]=e[Ju],function uG(n){vy.set(n[Ju],n)}(e)):n[Iy]=e}let Ey;function Cy(n,e){return Ey(n,e)}function lc(n){const e=n[Ye];return hr(e)?e[Ye]:e}function by(n){return $x(n[Yu])}function Dy(n){return $x(n[dr])}function $x(n){for(;null!==n&&!hr(n);)n=n[dr];return n}function sa(n,e,t,r,i){if(null!=r){let s,o=!1;hr(r)?s=r:Un(r)&&(o=!0,r=r[ai]);const a=Ut(r);0===n&&null!==t?null==i?Wx(e,t,a):js(e,t,a,i||null,!0):1===n&&null!==t?js(e,t,a,i||null,!0):2===n?function Ry(n,e,t){const r=Dh(n,e);r&&function AG(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function PG(n,e,t,r,i){const s=t[ah];s!==Ut(t)&&sa(e,n,r,s,i);for(let a=pn;a<t.length;a++){const u=t[a];dc(u[V],u,n,e,r,s)}}(e,n,s,t,i)}}function Sy(n,e,t){return n.createElement(e,t)}function Hx(n,e){const t=n[Ko],r=t.indexOf(e),i=e[Ye];512&e[ce]&&(e[ce]&=-513,Qm(i,-1)),t.splice(r,1)}function Ay(n,e){if(n.length<=pn)return;const t=pn+e,r=n[t];if(r){const i=r[Xu];null!==i&&i!==n&&Hx(i,r),e>0&&(n[t-1][dr]=r[dr]);const s=Ih(n,pn+e);!function wG(n,e){dc(n,e,e[he],2,null,null),e[ai]=null,e[en]=null}(r[V],r);const o=s[Ar];null!==o&&o.detachView(s[V]),r[Ye]=null,r[dr]=null,r[ce]&=-65}return r}function Gx(n,e){if(!(128&e[ce])){const t=e[he];t.destroyNode&&dc(n,e,t,3,null,null),function CG(n){let e=n[Yu];if(!e)return xy(n[V],n);for(;e;){let t=null;if(Un(e))t=e[Yu];else{const r=e[pn];r&&(t=r)}if(!t){for(;e&&!e[dr]&&e!==n;)Un(e)&&xy(e[V],e),e=e[Ye];null===e&&(e=n),Un(e)&&xy(e[V],e),t=e&&e[dr]}e=t}}(e)}}function xy(n,e){if(!(128&e[ce])){e[ce]&=-65,e[ce]|=128,function SG(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof tc)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];er(4,a,u);try{u.call(a)}finally{er(5,a,u)}}else{er(4,i,s);try{s.call(i)}finally{er(5,i,s)}}}}}(n,e),function TG(n,e){const t=n.cleanup,r=e[zo];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[zo]=null}}(n,e),1===e[V].type&&e[he].destroy();const t=e[Xu];if(null!==t&&hr(e[Ye])){t!==e[Ye]&&Hx(t,e);const r=e[Ar];null!==r&&r.detachView(n)}!function cG(n){vy.delete(n[Ju])}(e)}}function zx(n,e,t){return function qx(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[ai];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===Sr.None||s===Sr.Emulated)return null}return $n(r,t)}}(n,e.parent,t)}function js(n,e,t,r,i){n.insertBefore(e,t,r,i)}function Wx(n,e,t){n.appendChild(e,t)}function Kx(n,e,t,r,i){null!==r?js(n,e,t,r,i):Wx(n,e,t)}function Dh(n,e){return n.parentNode(e)}let My,Oy,xh,Xx=function Yx(n,e,t){return 40&n.type?$n(n,t):null};function Th(n,e,t,r){const i=zx(n,r,e),s=e[he],a=function Qx(n,e,t){return Xx(n,e,t)}(r.parent||e[en],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)Kx(s,i,t[u],a,!1);else Kx(s,i,t,a,!1);void 0!==My&&My(s,r,e,t,i)}function Sh(n,e){if(null!==e){const t=e.type;if(3&t)return $n(e,n);if(4&t)return Py(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Sh(n,r);{const i=n[e.index];return hr(i)?Py(-1,i):Ut(i)}}if(32&t)return Cy(e,n)()||Ut(n[e.index]);{const r=Zx(n,e);return null!==r?Array.isArray(r)?r[0]:Sh(lc(n[tn]),r):Sh(n,e.next)}}return null}function Zx(n,e){return null!==e?n[tn][en].projection[e.projection]:null}function Py(n,e){const t=pn+n+1;if(t<e.length){const r=e[t],i=r[V].firstChild;if(null!==i)return Sh(r,i)}return e[ah]}function ky(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],u=t.type;if(o&&0===e&&(a&&rn(Ut(a),r),t.flags|=2),32!=(32&t.flags))if(8&u)ky(n,e,t.child,r,i,s,!1),sa(e,n,i,a,s);else if(32&u){const c=Cy(t,r);let l;for(;l=c();)sa(e,n,i,l,s);sa(e,n,i,a,s)}else 16&u?eM(n,e,r,t,i,s):sa(e,n,i,a,s);t=o?t.projectionNext:t.next}}function dc(n,e,t,r,i,s){ky(t,r,n.firstChild,e,i,s,!1)}function eM(n,e,t,r,i,s){const o=t[tn],u=o[en].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)sa(e,n,i,u[c],s);else ky(n,e,u,o[Ye],i,s,!0)}function tM(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function nM(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&sy(n,e,r),null!==i&&tM(n,e,i),null!==s&&function kG(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function oM(n){return function Fy(){if(void 0===xh&&(xh=null,Fe.trustedTypes))try{xh=Fe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return xh}()?.createScriptURL(n)||n}class aM{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${CA})`}}function Qi(n){return n instanceof aM?n.changingThisBreaksApplicationSecurity:n}function hc(n,e){const t=function HG(n){return n instanceof aM&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${CA})`)}return t===e}const WG=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var ft=(()=>((ft=ft||{})[ft.NONE=0]="NONE",ft[ft.HTML=1]="HTML",ft[ft.STYLE=2]="STYLE",ft[ft.SCRIPT=3]="SCRIPT",ft[ft.URL=4]="URL",ft[ft.RESOURCE_URL=5]="RESOURCE_URL",ft))();function pc(n){const e=gc();return e?e.sanitize(ft.URL,n)||"":hc(n,"URL")?Qi(n):function Ly(n){return(n=String(n)).match(WG)?n:"unsafe:"+n}(re(n))}function pM(n){const e=gc();if(e)return oM(e.sanitize(ft.RESOURCE_URL,n)||"");if(hc(n,"ResourceURL"))return oM(Qi(n));throw new x(904,!1)}function gc(){const n=D();return n&&n[zm]}const Ph=new B("ENVIRONMENT_INITIALIZER"),mM=new B("INJECTOR",-1),yM=new B("INJECTOR_DEF_TYPES");class _M{get(e,t=qu){if(t===qu){const r=new Error(`NullInjectorError: No provider for ${Me(e)}!`);throw r.name="NullInjectorError",r}return t}}function az(...n){return{\u0275providers:vM(0,n),\u0275fromNgModule:!0}}function vM(n,...e){const t=[],r=new Set;let i;return $s(e,s=>{const o=s;$y(o,t,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&wM(i,t),t}function wM(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];jy(i,s=>{e.push(s)})}}function $y(n,e,t,r){if(!(n=Q(n)))return!1;let i=null,s=DA(n);const o=!s&&be(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const u=n.ngModule;if(s=DA(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)$y(c,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{$s(s.imports,l=>{$y(l,e,t,r)&&(c||(c=[]),c.push(l))})}finally{}void 0!==c&&wM(c,e)}if(!a){const c=Vs(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:Ie},{provide:yM,useValue:i,multi:!0},{provide:Ph,useValue:()=>L(i),multi:!0})}const u=s.providers;null==u||a||jy(u,l=>{e.push(l)})}}return i!==n&&void 0!==n.providers}function jy(n,e){for(let t of n)Vm(t)&&(t=t.\u0275providers),Array.isArray(t)?jy(t,e):e(t)}const uz=Ae({provide:String,useValue:Ae});function Hy(n){return null!==n&&"object"==typeof n&&uz in n}function Hs(n){return"function"==typeof n}const Gy=new B("Set Injector scope."),Rh={},lz={};let zy;function kh(){return void 0===zy&&(zy=new _M),zy}class Pr{}class CM extends Pr{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Wy(e,o=>this.processProvider(o)),this.records.set(mM,aa(void 0,this)),i.has("environment")&&this.records.set(Pr,aa(void 0,this));const s=this.records.get(Gy);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(yM.multi,Ie,Y.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=Ho(this),r=Jn(void 0);try{return e()}finally{Ho(t),Jn(r)}}get(e,t=qu,r=Y.Default){this.assertNotDestroyed(),r=nh(r);const i=Ho(this),s=Jn(void 0);try{if(!(r&Y.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function gz(n){return"function"==typeof n||"object"==typeof n&&n instanceof B}(e)&&Zd(e);a=u&&this.injectableDefInScope(u)?aa(qy(e),Rh):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&Y.Self?kh():this.parent).get(e,t=r&Y.Optional&&t===qu?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[th]=o[th]||[]).unshift(Me(e)),i)throw o;return function B4(n,e,t,r){const i=n[th];throw e[AA]&&i.unshift(e[AA]),n.message=function $4(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==L4?n.slice(2):n;let i=Me(e);if(Array.isArray(e))i=e.map(Me).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Me(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(F4,"\n  ")}`}("\n"+n.message,i,t,r),n[O4]=i,n[th]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{Jn(s),Ho(i)}}resolveInjectorInitializers(){const e=Ho(this),t=Jn(void 0);try{const r=this.get(Ph.multi,Ie,Y.Self);for(const i of r)i()}finally{Ho(e),Jn(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Me(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new x(205,!1)}processProvider(e){let t=Hs(e=Q(e))?e:Q(e&&e.provide);const r=function hz(n){return Hy(n)?aa(void 0,n.useValue):aa(bM(n),Rh)}(e);if(Hs(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=aa(void 0,Rh,!0),i.factory=()=>jm(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===Rh&&(t.value=lz,t.value=t.factory()),"object"==typeof t.value&&t.value&&function pz(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Q(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function qy(n){const e=Zd(n),t=null!==e?e.factory:Vs(n);if(null!==t)return t;if(n instanceof B)throw new x(204,!1);if(n instanceof Function)return function dz(n){const e=n.length;if(e>0)throw function sc(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new x(204,!1);const t=function R4(n){return n&&(n[eh]||n[TA])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new x(204,!1)}function bM(n,e,t){let r;if(Hs(n)){const i=Q(n);return Vs(i)||qy(i)}if(Hy(n))r=()=>Q(n.useValue);else if(function EM(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...jm(n.deps||[]));else if(function IM(n){return!(!n||!n.useExisting)}(n))r=()=>L(Q(n.useExisting));else{const i=Q(n&&(n.useClass||n.provide));if(!function fz(n){return!!n.deps}(n))return Vs(i)||qy(i);r=()=>new i(...jm(n.deps))}return r}function aa(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Wy(n,e){for(const t of n)Array.isArray(t)?Wy(t,e):t&&Vm(t)?Wy(t.\u0275providers,e):e(t)}class mz{}class DM{}class _z{resolveComponentFactory(e){throw function yz(n){const e=Error(`No component factory found for ${Me(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let mc=(()=>{class n{}return n.NULL=new _z,n})();function vz(){return ua(Bt(),D())}function ua(n,e){return new Hn($n(n,e))}let Hn=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=vz,n})();class SM{}let fi=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Iz(){const n=D(),t=Sn(Bt().index,n);return(Un(t)?t:n)[he]}(),n})(),Ez=(()=>{class n{}return n.\u0275prov=$({token:n,providedIn:"root",factory:()=>null}),n})();class ca{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const AM=new ca("15.2.9"),Ky={},Qy="ngOriginalError";function Yy(n){return n[Qy]}class la{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Yy(e);for(;t&&Yy(t);)t=Yy(t);return t||null}}function pi(n){return n instanceof Function?n():n}function MM(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const PM="ng-template";function kz(n,e,t){let r=0,i=!0;for(;r<n.length;){let s=n[r++];if("string"==typeof s&&i){const o=n[r++];if(t&&"class"===s&&-1!==MM(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<n.length&&"string"==typeof(s=n[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function RM(n){return 4===n.type&&n.value!==PM}function Nz(n,e,t){return e===(4!==n.type||t?n.value:PM)}function Oz(n,e,t){let r=4;const i=n.attrs||[],s=function Vz(n){for(let e=0;e<n.length;e++)if(sx(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!Nz(n,u,t)||""===u&&1===e.length){if(pr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!kz(n.attrs,c,t)){if(pr(r))return!1;o=!0}continue}const d=Fz(8&r?"class":u,i,RM(n),t);if(-1===d){if(pr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==MM(f,c,0)||2&r&&c!==h){if(pr(r))return!1;o=!0}}}}else{if(!o&&!pr(r)&&!pr(u))return!1;if(o&&pr(u))continue;o=!1,r=u|1&r}}return pr(r)||o}function pr(n){return 0==(1&n)}function Fz(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function Uz(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function kM(n,e,t=!1){for(let r=0;r<e.length;r++)if(Oz(n,e[r],t))return!0;return!1}function NM(n,e){return n?":not("+e.trim()+")":e}function $z(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!pr(o)&&(e+=NM(s,i),i=""),r=o,s=s||!pr(r);t++}return""!==i&&(e+=NM(s,i)),e}const se={};function z(n){OM(_e(),D(),mn()+n,!1)}function OM(n,e,t,r){if(!r)if(3==(3&e[ce])){const s=n.preOrderCheckHooks;null!==s&&fh(e,s,t)}else{const s=n.preOrderHooks;null!==s&&ph(e,s,0,t)}Us(t)}function UM(n,e=null,t=null,r){const i=BM(n,e,t,r);return i.resolveInjectorInitializers(),i}function BM(n,e=null,t=null,r,i=new Set){const s=[t||Ie,az(n)];return r=r||("object"==typeof n?void 0:Me(n)),new CM(s,e||kh(),r||null,i)}let Gn=(()=>{class n{static create(t,r){if(Array.isArray(t))return UM({name:""},r,t,"");{const i=t.name??"";return UM({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=qu,n.NULL=new _M,n.\u0275prov=$({token:n,providedIn:"any",factory:()=>L(mM)}),n.__NG_ELEMENT_ID__=-1,n})();function E(n,e=Y.Default){const t=D();return null===t?L(n,e):px(Bt(),t,Q(n),e)}function KM(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const o=n.data[s];ey(t[r]),o.contentQueries(2,e[s],s)}}}function Oh(n,e,t,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[ai]=i,d[ce]=76|r,(null!==l||n&&1024&n[ce])&&(d[ce]|=1024),zA(d),d[Ye]=d[qo]=n,d[rt]=t,d[oh]=o||n&&n[oh],d[he]=a||n&&n[he],d[zm]=u||n&&n[zm]||null,d[sh]=c||n&&n[sh]||null,d[en]=s,d[Ju]=function aG(){return oG++}(),d[OA]=l,d[tn]=2==e.type?n[tn]:d,d}function fa(n,e,t,r,i){let s=n.data[e];if(null===s)s=function t_(n,e,t,r,i){const s=KA(),o=Ym(),u=n.data[e]=function fq(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(n,e,t,r,i),function d3(){return ie.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function ec(){const n=ie.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return xr(s,!0),s}function yc(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function n_(n,e,t){ty(e);try{const r=n.viewQuery;null!==r&&d_(1,r,t);const i=n.template;null!==i&&QM(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&KM(n,e),n.staticViewQueries&&d_(2,n.viewQuery,t);const s=n.components;null!==s&&function lq(n,e){for(let t=0;t<e.length;t++)kq(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ce]&=-5,ny()}}function Fh(n,e,t,r){const i=e[ce];if(128!=(128&i)){ty(e);try{zA(e),function YA(n){return ie.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&QM(n,e,t,2,r);const o=3==(3&i);if(o){const c=n.preOrderCheckHooks;null!==c&&fh(e,c,null)}else{const c=n.preOrderHooks;null!==c&&ph(e,c,0,null),ry(e,0)}if(function Pq(n){for(let e=by(n);null!==e;e=Dy(e)){if(!e[FA])continue;const t=e[Ko];for(let r=0;r<t.length;r++){const i=t[r];512&i[ce]||Qm(i[Ye],1),i[ce]|=512}}}(e),function Mq(n){for(let e=by(n);null!==e;e=Dy(e))for(let t=pn;t<e.length;t++){const r=e[t],i=r[V];dh(r)&&Fh(i,r,i.template,r[rt])}}(e),null!==n.contentQueries&&KM(n,e),o){const c=n.contentCheckHooks;null!==c&&fh(e,c)}else{const c=n.contentHooks;null!==c&&ph(e,c,1),ry(e,1)}!function uq(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Us(~i);else{const s=i,o=t[++r],a=t[++r];h3(o,s),a(2,e[s])}}}finally{Us(-1)}}(n,e);const a=n.components;null!==a&&function cq(n,e){for(let t=0;t<e.length;t++)Rq(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&d_(2,u,r),o){const c=n.viewCheckHooks;null!==c&&fh(e,c)}else{const c=n.viewHooks;null!==c&&ph(e,c,2),ry(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[ce]&=-41,512&e[ce]&&(e[ce]&=-513,Qm(e[Ye],-1))}finally{ny()}}}function QM(n,e,t,r,i){const s=mn(),o=2&r;try{Us(-1),o&&e.length>Le&&OM(n,e,Le,!1),er(o?2:0,i),t(r,i)}finally{Us(s),er(o?3:1,i)}}function r_(n,e,t){if(Wm(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function i_(n,e,t){WA()&&(function wq(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;Zu(t)&&function Sq(n,e,t){const r=$n(e,n),i=YM(t),s=n[oh],o=Lh(n,Oh(n,i,null,t.onPush?32:16,r,e,s,s.createRenderer(r,t),null,null,null));n[e.index]=o}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||_h(t,e),rn(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const u=n.data[a],c=Bs(e,n,a,t);rn(c,e),null!==o&&Aq(0,a-i,c,u,0,o),fr(u)&&(Sn(t.index,e)[rt]=Bs(e,n,a,t))}}(n,e,t,$n(t,e)),64==(64&t.flags)&&t1(n,e,t))}function s_(n,e,t=$n){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function YM(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=o_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function o_(n,e,t,r,i,s,o,a,u,c){const l=Le+r,d=l+i,h=function dq(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:se);return t}(l,d),f="function"==typeof c?c():c;return h[V]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function JM(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?ZM(t,e,i,s):r.hasOwnProperty(i)&&ZM(t,e,r[i],s)}return t}function ZM(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function a_(n,e,t,r){if(WA()){const i=null===r?null:{"":-1},s=function Eq(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(kM(e,o.selectors,!1))if(r||(r=[]),fr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),u_(n,e,a.length)}else r.unshift(o),u_(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&e1(n,e,t,o,i,a),i&&function Cq(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new x(-301,!1);r.push(e[i],s)}}}(t,r,i)}t.mergedAttrs=nc(t.mergedAttrs,t.attrs)}function e1(n,e,t,r,i,s){for(let c=0;c<r.length;c++)cy(_h(t,e),n,r[c].type);!function Dq(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=yc(n,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];t.mergedAttrs=nc(t.mergedAttrs,l.hostAttrs),Tq(n,t,e,u,l),bq(u,l,i),null!==l.contentQueries&&(t.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(t.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(t.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t.index),a=!0),u++}!function pq(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=t?t.get(d):null,p=h?h.outputs:null;u=JM(d.inputs,l,u,h?h.inputs:null),c=JM(d.outputs,l,c,p);const m=null===u||null===o||RM(e)?null:xq(u,l,o);a.push(m)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(n,t,s)}function t1(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function f3(){return ie.lFrame.currentDirectiveIndex}();try{Us(s);for(let a=r;a<i;a++){const u=n.data[a],c=e[a];Jm(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&Iq(u,c)}}finally{Us(-1),Jm(o)}}function Iq(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function u_(n,e,t){e.componentOffset=t,(n.components??(n.components=[])).push(e.index)}function bq(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;fr(e)&&(t[""]=n)}}function Tq(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=Vs(i.type)),o=new tc(s,fr(i),E);n.blueprint[r]=o,t[r]=o,function _q(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function vq(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,yc(n,t,i.hostVars,se),i)}function Rr(n,e,t,r,i,s){const o=$n(n,e);!function c_(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?re(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[he],o,s,n.value,t,r,i)}function Aq(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(t,d,c,l):t[l]=d}}}function xq(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function n1(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function Rq(n,e){const t=Sn(e,n);if(dh(t)){const r=t[V];48&t[ce]?Fh(r,t,r.template,t[rt]):t[Ls]>0&&l_(t)}}function l_(n){for(let r=by(n);null!==r;r=Dy(r))for(let i=pn;i<r.length;i++){const s=r[i];if(dh(s))if(512&s[ce]){const o=s[V];Fh(o,s,o.template,s[rt])}else s[Ls]>0&&l_(s)}const t=n[V].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Sn(t[r],n);dh(i)&&i[Ls]>0&&l_(i)}}function kq(n,e){const t=Sn(e,n),r=t[V];(function Nq(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),n_(r,t,t[rt])}function Lh(n,e){return n[Yu]?n[NA][dr]=e:n[Yu]=e,n[NA]=e,e}function Vh(n){for(;n;){n[ce]|=32;const e=lc(n);if(W4(n)&&!e)return n;n=e}return null}function Uh(n,e,t,r=!0){const i=e[oh];i.begin&&i.begin();try{Fh(n,e,n.template,t)}catch(o){throw r&&o1(e,o),o}finally{i.end&&i.end()}}function d_(n,e,t){ey(0),e(n,t)}function r1(n){return n[zo]||(n[zo]=[])}function i1(n){return n.cleanup||(n.cleanup=[])}function o1(n,e){const t=n[sh],r=t?t.get(la,null):null;r&&r.handleError(e)}function h_(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],u=e[o],c=n.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Bh(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Fm(i,a):2==s&&(r=Fm(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function $h(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(Ut(s)),hr(s))for(let a=pn;a<s.length;a++){const u=s[a],c=u[V].firstChild;null!==c&&$h(u[V],u,c,r)}const o=t.type;if(8&o)$h(n,e,t.child,r);else if(32&o){const a=Cy(t,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=Zx(e,t);if(Array.isArray(a))r.push(...a);else{const u=lc(e[tn]);$h(u[V],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class _c{get rootNodes(){const e=this._lView,t=e[V];return $h(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[rt]}set context(e){this._lView[rt]=e}get destroyed(){return 128==(128&this._lView[ce])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Ye];if(hr(e)){const t=e[uh],r=t?t.indexOf(this):-1;r>-1&&(Ay(e,r),Ih(t,r))}this._attachedToViewContainer=!1}Gx(this._lView[V],this._lView)}onDestroy(e){!function XM(n,e,t,r){const i=r1(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&i1(n).push(r,i.length-1))}(this._lView[V],this._lView,null,e)}markForCheck(){Vh(this._cdRefInjectingView||this._lView)}detach(){this._lView[ce]&=-65}reattach(){this._lView[ce]|=64}detectChanges(){Uh(this._lView[V],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new x(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function EG(n,e){dc(n,e,e[he],2,null,null)}(this._lView[V],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new x(902,!1);this._appRef=e}}class Oq extends _c{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Uh(e[V],e,e[rt],!1)}checkNoChanges(){}get context(){return null}}class a1 extends mc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=be(e);return new vc(t,this.ngModule)}}function u1(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class Lq{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=nh(r);const i=this.injector.get(e,Ky,r);return i!==Ky||t===Ky?i:this.parentInjector.get(e,t,r)}}class vc extends DM{get inputs(){return u1(this.componentDef.inputs)}get outputs(){return u1(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function jz(n){return n.map($z).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof Pr?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new Lq(e,s):e,a=o.get(SM,null);if(null===a)throw new x(407,!1);const u=o.get(Ez,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",d=r?function hq(n,e,t){return n.selectRootElement(e,t===Sr.ShadowDom)}(c,r,this.componentDef.encapsulation):Sy(c,l,function Fq(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(l)),h=this.componentDef.onPush?288:272,f=o_(0,null,null,1,0,null,null,null,null,null),p=Oh(null,f,null,h,null,null,a,c,u,o,null);let m,y;ty(p);try{const _=this.componentDef;let C,v=null;_.findHostDirectiveDefs?(C=[],v=new Map,_.findHostDirectiveDefs(_,C,v),C.push(_)):C=[_];const k=function Uq(n,e){const t=n[V],r=Le;return n[r]=e,fa(t,r,2,"#host",null)}(p,d),G=function Bq(n,e,t,r,i,s,o,a){const u=i[V];!function $q(n,e,t,r){for(const i of n)e.mergedAttrs=nc(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Bh(e,e.mergedAttrs,!0),null!==t&&nM(r,t,e))}(r,n,e,o);const c=s.createRenderer(e,t),l=Oh(i,YM(t),null,t.onPush?32:16,i[n.index],n,s,c,a||null,null,null);return u.firstCreatePass&&u_(u,n,r.length-1),Lh(i,l),i[n.index]=l}(k,d,_,C,p,a,c);y=GA(f,Le),d&&function Hq(n,e,t,r){if(r)sy(n,t,["ng-version",AM.full]);else{const{attrs:i,classes:s}=function Hz(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!pr(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&sy(n,t,i),s&&s.length>0&&tM(n,t,s.join(" "))}}(c,_,d,r),void 0!==t&&function Gq(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(y,this.ngContentSelectors,t),m=function jq(n,e,t,r,i,s){const o=Bt(),a=i[V],u=$n(o,i);e1(a,i,o,t,null,r);for(let l=0;l<t.length;l++)rn(Bs(i,a,o.directiveStart+l,o),i);t1(a,i,o),u&&rn(u,i);const c=Bs(i,a,o.directiveStart+o.componentOffset,o);if(n[rt]=i[rt]=c,null!==s)for(const l of s)l(c,e);return r_(a,o,n),c}(G,_,C,v,p,[zq]),n_(f,p,null)}finally{ny()}return new Vq(this.componentType,m,ua(y,p),p,y)}}class Vq extends mz{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new Oq(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;h_(s[V],s,i,e,t),Vh(Sn(this._tNode.index,s))}}get injector(){return new Jo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function zq(){const n=Bt();hh(D()[V],n)}function De(n){let e=function c1(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(fr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new x(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=f_(n.inputs),o.declaredInputs=f_(n.declaredInputs),o.outputs=f_(n.outputs);const a=i.hostBindings;a&&Qq(n,a);const u=i.viewQuery,c=i.contentQueries;if(u&&Wq(n,u),c&&Kq(n,c),Om(n.inputs,i.inputs),Om(n.declaredInputs,i.declaredInputs),Om(n.outputs,i.outputs),fr(i)&&i.data.animation){const l=n.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===De&&(t=!1)}}e=Object.getPrototypeOf(e)}!function qq(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=nc(i.hostAttrs,t=nc(t,i.hostAttrs))}}(r)}function f_(n){return n===si?{}:n===Ie?[]:n}function Wq(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function Kq(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function Qq(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function jh(n){return!!p_(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function p_(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function kr(n,e,t){return n[e]=t}function sn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Gs(n,e,t,r){const i=sn(n,e,t);return sn(n,e+1,r)||i}function Nr(n,e,t,r){const i=D();return sn(i,Yo(),e)&&(_e(),Rr(qe(),i,n,e,t,r)),Nr}function jt(n,e,t,r,i,s,o,a){const u=D(),c=_e(),l=n+Le,d=c.firstCreatePass?function s5(n,e,t,r,i,s,o,a,u){const c=e.consts,l=fa(e,n,4,o||null,Ki(c,a));a_(e,t,l,Ki(c,u)),hh(e,l);const d=l.tView=o_(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,t,r,i,s,o):c.data[l];xr(d,!1);const h=u[he].createComment("");Th(c,u,h,d),rn(h,u),Lh(u,u[l]=n1(h,u,h,d)),ch(d)&&i_(c,u,d),null!=o&&s_(u,d,a)}function zs(n){return Qo(function l3(){return ie.lFrame.contextLView}(),Le+n)}function oe(n,e,t){const r=D();return sn(r,Yo(),e)&&function zn(n,e,t,r,i,s,o,a){const u=$n(e,t);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(h_(n,t,l,r,i),Zu(e)&&function mq(n,e){const t=Sn(e,n);16&t[ce]||(t[ce]|=32)}(t,e.index)):3&e.type&&(r=function gq(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}(_e(),qe(),r,n,e,r[he],t,!1),oe}function g_(n,e,t,r,i){const o=i?"class":"style";h_(n,t,e.inputs[o],o,r)}function b(n,e,t,r){const i=D(),s=_e(),o=Le+n,a=i[he],u=s.firstCreatePass?function a5(n,e,t,r,i,s){const o=e.consts,u=fa(e,n,2,r,Ki(o,i));return a_(e,t,u,Ki(o,s)),null!==u.attrs&&Bh(u,u.attrs,!1),null!==u.mergedAttrs&&Bh(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,t,r):s.data[o],c=i[o]=Sy(a,e,function I3(){return ie.lFrame.currentNamespace}()),l=ch(u);return xr(u,!0),nM(a,c,u),32!=(32&u.flags)&&Th(s,i,c,u),0===function s3(){return ie.lFrame.elementDepthCount}()&&rn(c,i),function o3(){ie.lFrame.elementDepthCount++}(),l&&(i_(s,i,u),r_(s,u,i)),null!==r&&s_(i,u),b}function S(){let n=Bt();Ym()?function Xm(){ie.lFrame.isParent=!1}():(n=n.parent,xr(n,!1));const e=n;!function a3(){ie.lFrame.elementDepthCount--}();const t=_e();return t.firstCreatePass&&(hh(t,n),Wm(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function D3(n){return 0!=(8&n.flags)}(e)&&g_(t,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function T3(n){return 0!=(16&n.flags)}(e)&&g_(t,e,D(),e.stylesWithoutHost,!1),S}function Ve(n,e,t,r){return b(n,e,t,r),S(),Ve}function Ic(){return D()}function Ec(n){return!!n&&"function"==typeof n.then}const __=function C1(n){return!!n&&"function"==typeof n.subscribe};function te(n,e,t,r){const i=D(),s=_e(),o=Bt();return function D1(n,e,t,r,i,s,o){const a=ch(r),c=n.firstCreatePass&&i1(n),l=e[rt],d=r1(e);let h=!0;if(3&r.type||o){const m=$n(r,e),y=o?o(m):m,_=d.length,C=o?k=>o(Ut(k[r.index])):r.index;let v=null;if(!o&&a&&(v=function c5(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[zo],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==v)(v.__ngLastListenerFn__||v).__ngNextListenerFn__=s,v.__ngLastListenerFn__=s,h=!1;else{s=S1(r,e,l,s,!1);const k=t.listen(y,i,s);d.push(s,k),c&&c.push(i,C,_,_+1)}}else s=S1(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const m=p.length;if(m)for(let y=0;y<m;y+=2){const G=e[p[y]][p[y+1]].subscribe(s),K=d.length;d.push(s,G),c&&c.push(i,r.index,K,-(K+1))}}}(s,i,i[he],o,n,e,r),te}function T1(n,e,t,r){try{return er(6,e,t),!1!==t(r)}catch(i){return o1(n,i),!1}finally{er(7,e,t)}}function S1(n,e,t,r,i){return function s(o){if(o===Function)return r;Vh(n.componentOffset>-1?Sn(n.index,e):e);let u=T1(e,t,r,o),c=s.__ngNextListenerFn__;for(;c;)u=T1(e,t,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Mn(n=1){return function g3(n){return(ie.lFrame.contextLView=function m3(n,e){for(;n>0;)e=e[qo],n--;return e}(n,ie.lFrame.contextLView))[rt]}(n)}function Gh(n,e){return n<<17|e<<2}function Yi(n){return n>>17&32767}function w_(n){return 2|n}function qs(n){return(131068&n)>>2}function I_(n,e){return-131069&n|e<<2}function E_(n){return 1|n}function L1(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?Yi(s):qs(s),u=!1;for(;0!==a&&(!1===u||o);){const l=n[a+1];_5(n[a],e)&&(u=!0,n[a+1]=r?E_(l):w_(l)),a=r?Yi(l):qs(l)}u&&(n[t+1]=r?w_(s):E_(s))}function _5(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&ra(n,e)>=0}function zh(n,e){return function gr(n,e,t,r){const i=D(),s=_e(),o=function di(n){const e=ie.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);s.firstUpdatePass&&function q1(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[mn()],o=function z1(n,e){return e>=n.expandoStartIndex}(n,t);(function Y1(n,e){return 0!=(n.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function S5(n,e,t,r){const i=function Zm(n){const e=ie.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Cc(t=C_(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=C_(i,n,e,t,r),null===s){let u=function A5(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==qs(r))return n[Yi(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=C_(null,n,e,u[1],r),u=Cc(u,e.attrs,r),function x5(n,e,t,r){n[Yi(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else s=function M5(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Cc(r,n[s].hostAttrs,t);return Cc(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function m5(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Yi(o),u=qs(o);n[r]=t;let l,c=!1;if(Array.isArray(t)?(l=t[1],(null===l||ra(t,l)>0)&&(c=!0)):l=t,i)if(0!==u){const h=Yi(n[a+1]);n[r+1]=Gh(h,a),0!==h&&(n[h+1]=I_(n[h+1],r)),n[a+1]=function p5(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Gh(a,0),0!==a&&(n[a+1]=I_(n[a+1],r)),a=r;else n[r+1]=Gh(u,0),0===a?a=r:n[u+1]=I_(n[u+1],r),u=r;c&&(n[r+1]=w_(n[r+1])),L1(n,l,r,!0),L1(n,l,r,!1),function y5(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&ra(s,e)>=0&&(t[r+1]=E_(t[r+1]))}(e,l,n,r,s),o=Gh(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}(s,n,o,r),e!==se&&sn(i,o,e)&&function K1(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const u=n.data,c=u[a+1],l=function g5(n){return 1==(1&n)}(c)?Q1(u,e,t,i,qs(c),o):void 0;qh(l)||(qh(s)||function f5(n){return 2==(2&n)}(c)&&(s=Q1(u,null,t,i,a,o)),function RG(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:An.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=An.Important),n.setStyle(t,r,i,s))}}(r,o,lh(mn(),t),i,s))}(s,s.data[mn()],i,i[he],n,i[o+1]=function N5(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Me(Qi(n)))),n}(e,t),r,o)}(n,e,null,!0),zh}function C_(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=Cc(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Cc(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),jn(n,o,!!t||e[++s]))}return void 0===n?null:n}function Q1(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const u=n[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=t[i+1];h===se&&(h=d?Ie:void 0);let f=d?fy(h,r):l===r?h:void 0;if(c&&!qh(f)&&(f=fy(u,r)),qh(f)&&(a=f,o))return a;const p=n[i+1];i=o?Yi(p):qs(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=fy(u,r))}return a}function qh(n){return void 0!==n}function P(n,e=""){const t=D(),r=_e(),i=n+Le,s=r.firstCreatePass?fa(r,i,1,e,null):r.data[i],o=t[i]=function Ty(n,e){return n.createText(e)}(t[he],e);Th(r,t,o,s),xr(s,!1)}function mi(n){return rr("",n,""),mi}function rr(n,e,t){const r=D(),i=function ga(n,e,t,r){return sn(n,Yo(),t)?e+re(t)+r:se}(r,n,e,t);return i!==se&&function gi(n,e,t){const r=lh(e,n);!function jx(n,e,t){n.setValue(e,t)}(n[he],r,t)}(r,mn(),i),rr}const Ws=void 0;var e6=["en",[["a","p"],["AM","PM"],Ws],[["AM","PM"],Ws,Ws],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ws,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ws,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ws,"{1} 'at' {0}",Ws],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Z5(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let ba={};function yn(n){const e=function t6(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=yP(e);if(t)return t;const r=e.split("-")[0];if(t=yP(r),t)return t;if("en"===r)return e6;throw new x(701,!1)}function yP(n){return n in ba||(ba[n]=Fe.ng&&Fe.ng.common&&Fe.ng.common.locales&&Fe.ng.common.locales[n]),ba[n]}var F=(()=>((F=F||{})[F.LocaleId=0]="LocaleId",F[F.DayPeriodsFormat=1]="DayPeriodsFormat",F[F.DayPeriodsStandalone=2]="DayPeriodsStandalone",F[F.DaysFormat=3]="DaysFormat",F[F.DaysStandalone=4]="DaysStandalone",F[F.MonthsFormat=5]="MonthsFormat",F[F.MonthsStandalone=6]="MonthsStandalone",F[F.Eras=7]="Eras",F[F.FirstDayOfWeek=8]="FirstDayOfWeek",F[F.WeekendRange=9]="WeekendRange",F[F.DateFormat=10]="DateFormat",F[F.TimeFormat=11]="TimeFormat",F[F.DateTimeFormat=12]="DateTimeFormat",F[F.NumberSymbols=13]="NumberSymbols",F[F.NumberFormats=14]="NumberFormats",F[F.CurrencyCode=15]="CurrencyCode",F[F.CurrencySymbol=16]="CurrencySymbol",F[F.CurrencyName=17]="CurrencyName",F[F.Currencies=18]="Currencies",F[F.Directionality=19]="Directionality",F[F.PluralCase=20]="PluralCase",F[F.ExtraData=21]="ExtraData",F))();const Da="en-US";let _P=Da;function T_(n,e,t,r,i){if(n=Q(n),Array.isArray(n))for(let s=0;s<n.length;s++)T_(n[s],e,t,r,i);else{const s=_e(),o=D();let a=Hs(n)?n:Q(n.provide),u=bM(n);const c=Bt(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Hs(n)||!n.multi){const f=new tc(u,i,E),p=A_(a,e,i?l:l+h,d);-1===p?(cy(_h(c,o),s,a),S_(s,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=A_(a,e,l+h,d),p=A_(a,e,l,l+h),y=p>=0&&t[p];if(i&&!y||!i&&!(f>=0&&t[f])){cy(_h(c,o),s,a);const _=function J6(n,e,t,r,i){const s=new tc(n,t,E);return s.multi=[],s.index=e,s.componentProviders=0,HP(s,i,r&&!t),s}(i?X6:Y6,t.length,i,r,u);!i&&y&&(t[p].providerFactory=_),S_(s,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(_),o.push(_)}else S_(s,n,f>-1?f:p,HP(t[i?p:f],u,!i&&r));!i&&r&&y&&t[p].componentProviders++}}}function S_(n,e,t,r){const i=Hs(e),s=function cz(n){return!!n.useClass}(e);if(i||s){const u=(s?Q(e.useClass):e).prototype.ngOnDestroy;if(u){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(t);-1===l?c.push(t,[r,u]):c[l+1].push(r,u)}else c.push(t,u)}}}function HP(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function A_(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function Y6(n,e,t,r){return x_(this.multi,[])}function X6(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Bs(t,t[V],this.providerFactory.index,r);s=a.slice(0,o),x_(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],x_(i,s);return s}function x_(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Ge(n,e=[]){return t=>{t.providersResolver=(r,i)=>function Q6(n,e,t){const r=_e();if(r.firstCreatePass){const i=fr(n);T_(t,r.data,r.blueprint,i,!0),T_(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class Ta{}class GP{}class zP extends Ta{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new a1(this);const r=Vn(e);this._bootstrapComponents=pi(r.bootstrap),this._r3Injector=BM(e,t,[{provide:Ta,useValue:this},{provide:mc,useValue:this.componentFactoryResolver}],Me(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class M_ extends GP{constructor(e){super(),this.moduleType=e}create(e){return new zP(this.moduleType,e)}}class e9 extends Ta{constructor(e,t,r){super(),this.componentFactoryResolver=new a1(this),this.instance=null;const i=new CM([...e,{provide:Ta,useValue:this},{provide:mc,useValue:this.componentFactoryResolver}],t||kh(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Xh(n,e,t=null){return new e9(n,e,t).injector}let t9=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=vM(0,t.type),i=r.length>0?Xh([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=$({token:n,providedIn:"environment",factory:()=>new n(L(Pr))}),n})();function qP(n){n.getStandaloneInjector=e=>e.get(t9).getOrCreateStandaloneInjector(n)}function R_(n,e,t){const r=gn()+n,i=D();return i[r]===se?kr(i,r,t?e.call(t):e()):function wc(n,e){return n[e]}(i,r)}function yi(n,e,t,r){return function ZP(n,e,t,r,i,s){const o=e+t;return sn(n,o,i)?kr(n,o+1,s?r.call(s,i):r(i)):xc(n,o+1)}(D(),gn(),n,e,t,r)}function k_(n,e,t,r,i){return eR(D(),gn(),n,e,t,r,i)}function xc(n,e){const t=n[e];return t===se?void 0:t}function eR(n,e,t,r,i,s,o){const a=e+t;return Gs(n,a,i,s)?kr(n,a+2,o?r.call(o,i,s):r(i,s)):xc(n,a+2)}function tR(n,e,t,r,i,s,o,a){const u=e+t;return function Hh(n,e,t,r,i){const s=Gs(n,e,t,r);return sn(n,e+2,i)||s}(n,u,i,s,o)?kr(n,u+3,a?r.call(a,i,s,o):r(i,s,o)):xc(n,u+3)}function Sa(n,e){const t=_e();let r;const i=n+Le;t.firstCreatePass?(r=function y9(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=Vs(r.type)),o=Jn(E);try{const a=yh(!1),u=s();return yh(a),function o5(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,D(),i,u),u}finally{Jn(o)}}function Mc(n,e,t,r){const i=n+Le,s=D(),o=Qo(s,i);return Pc(s,i)?eR(s,gn(),e,o.transform,t,r,o):o.transform(t,r)}function Pc(n,e){return n[V].data[e].pure}function N_(n){return e=>{setTimeout(n,void 0,e)}}const Re=class I9 extends ni{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=N_(s),i&&(i=N_(i)),o&&(o=N_(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Fn&&e.add(a),a}};let _i=(()=>{class n{}return n.__NG_ELEMENT_ID__=D9,n})();const C9=_i,b9=class extends C9{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tView,i=Oh(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[Xu]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[Ar];return null!==o&&(i[Ar]=o.createEmbeddedView(r)),n_(r,i,e),new _c(i)}};function D9(){return Jh(Bt(),D())}function Jh(n,e){return 4&n.type?new b9(e,n,ua(n,e)):null}let yr=(()=>{class n{}return n.__NG_ELEMENT_ID__=T9,n})();function T9(){return function aR(n,e){let t;const r=e[n.index];if(hr(r))t=r;else{let i;if(8&n.type)i=Ut(r);else{const s=e[he];i=s.createComment("");const o=$n(n,e);js(s,Dh(s,o),i,function xG(n,e){return n.nextSibling(e)}(s,o),!1)}e[n.index]=t=n1(r,e,i,n),Lh(e,t)}return new sR(t,n,e)}(Bt(),D())}const S9=yr,sR=class extends S9{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ua(this._hostTNode,this._hostLView)}get injector(){return new Jo(this._hostTNode,this._hostLView)}get parentInjector(){const e=uy(this._hostTNode,this._hostLView);if(ux(e)){const t=mh(e,this._hostLView),r=gh(e);return new Jo(t[V].data[r+8],t)}return new Jo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=oR(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-pn}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(t||{},s);return this.insert(o,i),o}createComponent(e,t,r,i,s){const o=e&&!function ic(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const u=o?e:new vc(be(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?c:this.parentInjector).get(Pr,null);h&&(s=h)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,t){const r=e._lView,i=r[V];if(function i3(n){return hr(n[Ye])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[Ye],h=new sR(d,d[en],d[Ye]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function bG(n,e,t,r){const i=pn+r,s=t.length;r>0&&(t[i-1][dr]=e),r<s-pn?(e[dr]=t[i],wx(t,pn+r,e)):(t.push(e),e[dr]=null),e[Ye]=t;const o=e[Xu];null!==o&&t!==o&&function DG(n,e){const t=n[Ko];e[tn]!==e[Ye][Ye][tn]&&(n[FA]=!0),null===t?n[Ko]=[e]:t.push(e)}(o,e);const a=e[Ar];null!==a&&a.insertView(n),e[ce]|=64}(i,r,o,s);const a=Py(s,o),u=r[he],c=Dh(u,o[ah]);return null!==c&&function IG(n,e,t,r,i,s){r[ai]=i,r[en]=e,dc(n,r,t,1,i,s)}(i,o[en],u,r,c,a),e.attachToViewContainerRef(),wx(F_(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=oR(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Ay(this._lContainer,t);r&&(Ih(F_(this._lContainer),t),Gx(r[V],r))}detach(e){const t=this._adjustIndex(e,-1),r=Ay(this._lContainer,t);return r&&null!=Ih(F_(this._lContainer),t)?new _c(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function oR(n){return n[uh]}function F_(n){return n[uh]||(n[uh]=[])}function j_(n,e){return Jh(n,e)}function ef(...n){}const tf=new B("Application Initializer");let nf=(()=>{class n{constructor(t){this.appInits=t,this.resolve=ef,this.reject=ef,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Ec(s))t.push(s);else if(__(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(L(tf,8))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kc=new B("AppId",{providedIn:"root",factory:function kR(){return`${K_()}${K_()}${K_()}`}});function K_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const NR=new B("Platform Initializer"),Nc=new B("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let eW=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const vi=new B("LocaleId",{providedIn:"root",factory:()=>de(vi,Y.Optional|Y.SkipSelf)||function tW(){return typeof $localize<"u"&&$localize.locale||Da}()}),nW=new B("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class rW{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let OR=(()=>{class n{compileModuleSync(t){return new M_(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=pi(Vn(t).declarations).reduce((o,a)=>{const u=be(a);return u&&o.push(new vc(u)),o},[]);return new rW(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const oW=(()=>Promise.resolve(0))();function Q_(n){typeof Zone>"u"?oW.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ue{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Re(!1),this.onMicrotaskEmpty=new Re(!1),this.onStable=new Re(!1),this.onError=new Re(!1),typeof Zone>"u")throw new x(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function aW(){let n=Fe.requestAnimationFrame,e=Fe.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function lW(n){const e=()=>{!function cW(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Fe,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,X_(n),n.isCheckStableRunning=!0,Y_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),X_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return VR(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),UR(n)}},onInvoke:(t,r,i,s,o,a,u)=>{try{return VR(n),t.invoke(i,s,o,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),UR(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,X_(n),Y_(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ue.isInAngularZone())throw new x(909,!1)}static assertNotInAngularZone(){if(Ue.isInAngularZone())throw new x(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,uW,ef,ef);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const uW={};function Y_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function X_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function VR(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function UR(n){n._nesting--,Y_(n)}class dW{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Re,this.onMicrotaskEmpty=new Re,this.onStable=new Re,this.onError=new Re}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const BR=new B(""),rf=new B("");let ev,J_=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ev||(function hW(n){ev=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ue.assertNotInAngularZone(),Q_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Q_(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(L(Ue),L(Z_),L(rf))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})(),Z_=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return ev?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const wi=!1;let Xi=null;const $R=new B("AllowMultipleToken"),tv=new B("PlatformDestroyListeners"),jR=new B("appBootstrapListener");class HR{constructor(e,t){this.name=e,this.token=t}}function zR(n,e,t=[]){const r=`Platform: ${e}`,i=new B(r);return(s=[])=>{let o=nv();if(!o||o.injector.get($R,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function gW(n){if(Xi&&!Xi.get($R,!1))throw new x(400,!1);Xi=n;const e=n.get(WR);(function GR(n){const e=n.get(NR,null);e&&e.forEach(t=>t())})(n)}(function qR(n=[],e){return Gn.create({name:e,providers:[{provide:Gy,useValue:"platform"},{provide:tv,useValue:new Set([()=>Xi=null])},...n]})}(a,r))}return function yW(n){const e=nv();if(!e)throw new x(401,!1);return e}()}}function nv(){return Xi?.get(WR)??null}let WR=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function QR(n,e){let t;return t="noop"===n?new dW:("zone.js"===n?void 0:n)||new Ue(e),t}(r?.ngZone,function KR(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:Ue,useValue:i}];return i.run(()=>{const o=Gn.create({providers:s,parent:this.injector,name:t.moduleType.name}),a=t.create(o),u=a.injector.get(la,null);if(!u)throw new x(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:l=>{u.handleError(l)}});a.onDestroy(()=>{af(this._modules,a),c.unsubscribe()})}),function YR(n,e,t){try{const r=t();return Ec(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(u,i,()=>{const c=a.injector.get(nf);return c.runInitializers(),c.donePromise.then(()=>(function vP(n){Xn(n,"Expected localeId to be defined"),"string"==typeof n&&(_P=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(vi,Da)||Da),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=XR({},r);return function fW(n,e,t){const r=new M_(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(sf);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new x(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new x(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(tv,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(L(Gn))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function XR(n,e){return Array.isArray(e)?e.reduce(XR,n):{...n,...e}}let sf=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Oe(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new Oe(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Ue.assertNotInAngularZone(),Q_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Ue.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=function C4(...n){const e=zu(n),t=function m4(n,e){return"number"==typeof km(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Yn(r[0]):jo(t)(ht(r,e)):Dr}(s,o.pipe(function b4(n={}){const{connector:e=(()=>new ni),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const m=o;f(),m?.unsubscribe()};return St((m,y)=>{c++,!d&&!l&&h();const _=u=u??e();y.add(()=>{c--,0===c&&!d&&!l&&(a=Nm(p,i))}),_.subscribe(y),!o&&c>0&&(o=new Gu({next:C=>_.next(C),error:C=>{d=!0,h(),a=Nm(f,t,C),_.error(C)},complete:()=>{l=!0,h(),a=Nm(f,r),_.complete()}}),Yn(m).subscribe(o))})(s)}}()))}bootstrap(t,r){const i=t instanceof DM;if(!this._injector.get(nf).done){!i&&function Go(n){const e=be(n)||Zt(n)||Tn(n);return null!==e&&e.standalone}(t);throw new x(405,wi)}let o;o=i?t:this._injector.get(mc).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function pW(n){return n.isBoundToModule}(o)?void 0:this._injector.get(Ta),c=o.create(Gn.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(BR,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),af(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new x(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;af(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(jR,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>af(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new x(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(L(Ue),L(Pr),L(la))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function af(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let uf=(()=>{class n{}return n.__NG_ELEMENT_ID__=vW,n})();function vW(n){return function wW(n,e,t){if(Zu(n)&&!t){const r=Sn(n.index,e);return new _c(r,r)}return 47&n.type?new _c(e[tn],e):null}(Bt(),D(),16==(16&n))}class nk{constructor(){}supports(e){return jh(e)}create(e){return new TW(e)}}const DW=(n,e)=>e;class TW{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||DW}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<ik(r,i,s)?t:r,a=ik(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!jh(e))throw new x(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function n5(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new SW(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new rk),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new rk),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class SW{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class AW{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class rk{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new AW,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ik(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class sk{constructor(){}supports(e){return e instanceof Map||p_(e)}create(){return new xW}}class xW{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||p_(e)))throw new x(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new MW(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class MW{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ok(){return new df([new nk])}let df=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||ok()),deps:[[n,new oc,new nn]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new x(901,!1)}}return n.\u0275prov=$({token:n,providedIn:"root",factory:ok}),n})();function ak(){return new Oc([new sk])}let Oc=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||ak()),deps:[[n,new oc,new nn]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new x(901,!1)}}return n.\u0275prov=$({token:n,providedIn:"root",factory:ak}),n})();const kW=zR(null,"core",[]);let NW=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(L(sf))},n.\u0275mod=fn({type:n}),n.\u0275inj=Jt({}),n})();function Ma(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let av=null;function Ii(){return av}class LW{}const vn=new B("DocumentToken");let uv=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:function(){return function VW(){return L(uk)}()},providedIn:"platform"}),n})();const UW=new B("Location Initialized");let uk=(()=>{class n extends uv{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ii().getBaseHref(this._doc)}onPopState(t){const r=Ii().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Ii().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){ck()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){ck()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(L(vn))},n.\u0275prov=$({token:n,factory:function(){return function BW(){return new uk(L(vn))}()},providedIn:"platform"}),n})();function ck(){return!!window.history.pushState}function cv(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function lk(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ei(n){return n&&"?"!==n[0]?"?"+n:n}let Qs=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:function(){return de(hk)},providedIn:"root"}),n})();const dk=new B("appBaseHref");let hk=(()=>{class n extends Qs{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??de(vn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return cv(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ei(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+Ei(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+Ei(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(L(uv),L(dk,8))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$W=(()=>{class n extends Qs{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=cv(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Ei(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Ei(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(L(uv),L(dk,8))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})(),lv=(()=>{class n{constructor(t){this._subject=new Re,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function GW(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(lk(fk(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ei(r))}normalize(t){return n.stripTrailingSlash(function HW(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,fk(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ei(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ei(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Ei,n.joinWithSlash=cv,n.stripTrailingSlash=lk,n.\u0275fac=function(t){return new(t||n)(L(Qs))},n.\u0275prov=$({token:n,factory:function(){return function jW(){return new lv(L(Qs))}()},providedIn:"root"}),n})();function fk(n){return n.replace(/\/index.html$/,"")}const pk={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Pn=(()=>((Pn=Pn||{})[Pn.Decimal=0]="Decimal",Pn[Pn.Percent=1]="Percent",Pn[Pn.Currency=2]="Currency",Pn[Pn.Scientific=3]="Scientific",Pn))(),it=(()=>((it=it||{})[it.Format=0]="Format",it[it.Standalone=1]="Standalone",it))(),pe=(()=>((pe=pe||{})[pe.Narrow=0]="Narrow",pe[pe.Abbreviated=1]="Abbreviated",pe[pe.Wide=2]="Wide",pe[pe.Short=3]="Short",pe))(),We=(()=>((We=We||{})[We.Short=0]="Short",We[We.Medium=1]="Medium",We[We.Long=2]="Long",We[We.Full=3]="Full",We))(),W=(()=>((W=W||{})[W.Decimal=0]="Decimal",W[W.Group=1]="Group",W[W.List=2]="List",W[W.PercentSign=3]="PercentSign",W[W.PlusSign=4]="PlusSign",W[W.MinusSign=5]="MinusSign",W[W.Exponential=6]="Exponential",W[W.SuperscriptingExponent=7]="SuperscriptingExponent",W[W.PerMille=8]="PerMille",W[W.Infinity=9]="Infinity",W[W.NaN=10]="NaN",W[W.TimeSeparator=11]="TimeSeparator",W[W.CurrencyDecimal=12]="CurrencyDecimal",W[W.CurrencyGroup=13]="CurrencyGroup",W))();function hf(n,e){return sr(yn(n)[F.DateFormat],e)}function ff(n,e){return sr(yn(n)[F.TimeFormat],e)}function pf(n,e){return sr(yn(n)[F.DateTimeFormat],e)}function ir(n,e){const t=yn(n),r=t[F.NumberSymbols][e];if(typeof r>"u"){if(e===W.CurrencyDecimal)return t[F.NumberSymbols][W.Decimal];if(e===W.CurrencyGroup)return t[F.NumberSymbols][W.Group]}return r}function gk(n){if(!n[F.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[F.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function sr(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function hv(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const t7=2,r7=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Fc={},i7=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var bt=(()=>((bt=bt||{})[bt.Short=0]="Short",bt[bt.ShortGMT=1]="ShortGMT",bt[bt.Long=2]="Long",bt[bt.Extended=3]="Extended",bt))(),X=(()=>((X=X||{})[X.FullYear=0]="FullYear",X[X.Month=1]="Month",X[X.Date=2]="Date",X[X.Hours=3]="Hours",X[X.Minutes=4]="Minutes",X[X.Seconds=5]="Seconds",X[X.FractionalSeconds=6]="FractionalSeconds",X[X.Day=7]="Day",X))(),le=(()=>((le=le||{})[le.DayPeriods=0]="DayPeriods",le[le.Days=1]="Days",le[le.Months=2]="Months",le[le.Eras=3]="Eras",le))();function s7(n,e,t,r){let i=function p7(n){if(_k(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,s=1,o=1]=n.split("-").map(a=>+a);return gf(i,s-1,o)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(r7))return function g7(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-t,a=Number(n[5]||0)-r,u=Number(n[6]||0),c=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(e,o,a,u,c),e}(r)}const e=new Date(n);if(!_k(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Ci(t,e)||e;let a,o=[];for(;e;){if(a=i7.exec(e),!a){o.push(e);break}{o=o.concat(a.slice(1));const l=o.pop();if(!l)break;e=l}}let u=i.getTimezoneOffset();r&&(u=yk(r,u),i=function f7(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function h7(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(yk(e,i)-i))}(i,r,!0));let c="";return o.forEach(l=>{const d=function d7(n){if(pv[n])return pv[n];let e;switch(n){case"G":case"GG":case"GGG":e=ke(le.Eras,pe.Abbreviated);break;case"GGGG":e=ke(le.Eras,pe.Wide);break;case"GGGGG":e=ke(le.Eras,pe.Narrow);break;case"y":e=gt(X.FullYear,1,0,!1,!0);break;case"yy":e=gt(X.FullYear,2,0,!0,!0);break;case"yyy":e=gt(X.FullYear,3,0,!1,!0);break;case"yyyy":e=gt(X.FullYear,4,0,!1,!0);break;case"Y":e=vf(1);break;case"YY":e=vf(2,!0);break;case"YYY":e=vf(3);break;case"YYYY":e=vf(4);break;case"M":case"L":e=gt(X.Month,1,1);break;case"MM":case"LL":e=gt(X.Month,2,1);break;case"MMM":e=ke(le.Months,pe.Abbreviated);break;case"MMMM":e=ke(le.Months,pe.Wide);break;case"MMMMM":e=ke(le.Months,pe.Narrow);break;case"LLL":e=ke(le.Months,pe.Abbreviated,it.Standalone);break;case"LLLL":e=ke(le.Months,pe.Wide,it.Standalone);break;case"LLLLL":e=ke(le.Months,pe.Narrow,it.Standalone);break;case"w":e=fv(1);break;case"ww":e=fv(2);break;case"W":e=fv(1,!0);break;case"d":e=gt(X.Date,1);break;case"dd":e=gt(X.Date,2);break;case"c":case"cc":e=gt(X.Day,1);break;case"ccc":e=ke(le.Days,pe.Abbreviated,it.Standalone);break;case"cccc":e=ke(le.Days,pe.Wide,it.Standalone);break;case"ccccc":e=ke(le.Days,pe.Narrow,it.Standalone);break;case"cccccc":e=ke(le.Days,pe.Short,it.Standalone);break;case"E":case"EE":case"EEE":e=ke(le.Days,pe.Abbreviated);break;case"EEEE":e=ke(le.Days,pe.Wide);break;case"EEEEE":e=ke(le.Days,pe.Narrow);break;case"EEEEEE":e=ke(le.Days,pe.Short);break;case"a":case"aa":case"aaa":e=ke(le.DayPeriods,pe.Abbreviated);break;case"aaaa":e=ke(le.DayPeriods,pe.Wide);break;case"aaaaa":e=ke(le.DayPeriods,pe.Narrow);break;case"b":case"bb":case"bbb":e=ke(le.DayPeriods,pe.Abbreviated,it.Standalone,!0);break;case"bbbb":e=ke(le.DayPeriods,pe.Wide,it.Standalone,!0);break;case"bbbbb":e=ke(le.DayPeriods,pe.Narrow,it.Standalone,!0);break;case"B":case"BB":case"BBB":e=ke(le.DayPeriods,pe.Abbreviated,it.Format,!0);break;case"BBBB":e=ke(le.DayPeriods,pe.Wide,it.Format,!0);break;case"BBBBB":e=ke(le.DayPeriods,pe.Narrow,it.Format,!0);break;case"h":e=gt(X.Hours,1,-12);break;case"hh":e=gt(X.Hours,2,-12);break;case"H":e=gt(X.Hours,1);break;case"HH":e=gt(X.Hours,2);break;case"m":e=gt(X.Minutes,1);break;case"mm":e=gt(X.Minutes,2);break;case"s":e=gt(X.Seconds,1);break;case"ss":e=gt(X.Seconds,2);break;case"S":e=gt(X.FractionalSeconds,1);break;case"SS":e=gt(X.FractionalSeconds,2);break;case"SSS":e=gt(X.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=yf(bt.Short);break;case"ZZZZZ":e=yf(bt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=yf(bt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=yf(bt.Long);break;default:return null}return pv[n]=e,e}(l);c+=d?d(i,t,u):"''"===l?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function gf(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Ci(n,e){const t=function zW(n){return yn(n)[F.LocaleId]}(n);if(Fc[t]=Fc[t]||{},Fc[t][e])return Fc[t][e];let r="";switch(e){case"shortDate":r=hf(n,We.Short);break;case"mediumDate":r=hf(n,We.Medium);break;case"longDate":r=hf(n,We.Long);break;case"fullDate":r=hf(n,We.Full);break;case"shortTime":r=ff(n,We.Short);break;case"mediumTime":r=ff(n,We.Medium);break;case"longTime":r=ff(n,We.Long);break;case"fullTime":r=ff(n,We.Full);break;case"short":const i=Ci(n,"shortTime"),s=Ci(n,"shortDate");r=mf(pf(n,We.Short),[i,s]);break;case"medium":const o=Ci(n,"mediumTime"),a=Ci(n,"mediumDate");r=mf(pf(n,We.Medium),[o,a]);break;case"long":const u=Ci(n,"longTime"),c=Ci(n,"longDate");r=mf(pf(n,We.Long),[u,c]);break;case"full":const l=Ci(n,"fullTime"),d=Ci(n,"fullDate");r=mf(pf(n,We.Full),[l,d])}return r&&(Fc[t][e]=r),r}function mf(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function vr(n,e,t="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function gt(n,e,t=0,r=!1,i=!1){return function(s,o){let a=function a7(n,e){switch(n){case X.FullYear:return e.getFullYear();case X.Month:return e.getMonth();case X.Date:return e.getDate();case X.Hours:return e.getHours();case X.Minutes:return e.getMinutes();case X.Seconds:return e.getSeconds();case X.FractionalSeconds:return e.getMilliseconds();case X.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((t>0||a>-t)&&(a+=t),n===X.Hours)0===a&&-12===t&&(a=12);else if(n===X.FractionalSeconds)return function o7(n,e){return vr(n,3).substring(0,e)}(a,e);const u=ir(o,W.MinusSign);return vr(a,e,u,r,i)}}function ke(n,e,t=it.Format,r=!1){return function(i,s){return function u7(n,e,t,r,i,s){switch(t){case le.Months:return function KW(n,e,t){const r=yn(n),s=sr([r[F.MonthsFormat],r[F.MonthsStandalone]],e);return sr(s,t)}(e,i,r)[n.getMonth()];case le.Days:return function WW(n,e,t){const r=yn(n),s=sr([r[F.DaysFormat],r[F.DaysStandalone]],e);return sr(s,t)}(e,i,r)[n.getDay()];case le.DayPeriods:const o=n.getHours(),a=n.getMinutes();if(s){const c=function JW(n){const e=yn(n);return gk(e),(e[F.ExtraData][2]||[]).map(r=>"string"==typeof r?hv(r):[hv(r[0]),hv(r[1])])}(e),l=function ZW(n,e,t){const r=yn(n);gk(r);const s=sr([r[F.ExtraData][0],r[F.ExtraData][1]],e)||[];return sr(s,t)||[]}(e,i,r),d=c.findIndex(h=>{if(Array.isArray(h)){const[f,p]=h,m=o>=f.hours&&a>=f.minutes,y=o<p.hours||o===p.hours&&a<p.minutes;if(f.hours<p.hours){if(m&&y)return!0}else if(m||y)return!0}else if(h.hours===o&&h.minutes===a)return!0;return!1});if(-1!==d)return l[d]}return function qW(n,e,t){const r=yn(n),s=sr([r[F.DayPeriodsFormat],r[F.DayPeriodsStandalone]],e);return sr(s,t)}(e,i,r)[o<12?0:1];case le.Eras:return function QW(n,e){return sr(yn(n)[F.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,s,n,e,t,r)}}function yf(n){return function(e,t,r){const i=-1*r,s=ir(t,W.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case bt.Short:return(i>=0?"+":"")+vr(o,2,s)+vr(Math.abs(i%60),2,s);case bt.ShortGMT:return"GMT"+(i>=0?"+":"")+vr(o,1,s);case bt.Long:return"GMT"+(i>=0?"+":"")+vr(o,2,s)+":"+vr(Math.abs(i%60),2,s);case bt.Extended:return 0===r?"Z":(i>=0?"+":"")+vr(o,2,s)+":"+vr(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}const c7=0,_f=4;function mk(n){return gf(n.getFullYear(),n.getMonth(),n.getDate()+(_f-n.getDay()))}function fv(n,e=!1){return function(t,r){let i;if(e){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();i=1+Math.floor((o+s)/7)}else{const s=mk(t),o=function l7(n){const e=gf(n,c7,1).getDay();return gf(n,0,1+(e<=_f?_f:_f+7)-e)}(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return vr(i,n,ir(r,W.MinusSign))}}function vf(n,e=!1){return function(t,r){return vr(mk(t).getFullYear(),n,ir(r,W.MinusSign),e)}}const pv={};function yk(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function _k(n){return n instanceof Date&&!isNaN(n.valueOf())}const m7=/^(\d+)?\.((\d+)(-(\d+))?)?$/,vk=22,wf=".",Lc="0",y7=";",_7=",",gv="#",wk="\xa4";function w7(n,e,t,r,i){const o=function yv(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(y7),i=r[0],s=r[1],o=-1!==i.indexOf(wf)?i.split(wf):[i.substring(0,i.lastIndexOf(Lc)+1),i.substring(i.lastIndexOf(Lc)+1)],a=o[0],u=o[1]||"";t.posPre=a.substring(0,a.indexOf(gv));for(let l=0;l<u.length;l++){const d=u.charAt(l);d===Lc?t.minFrac=t.maxFrac=l+1:d===gv?t.maxFrac=l+1:t.posSuf+=d}const c=a.split(_7);if(t.gSize=c[1]?c[1].length:0,t.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const l=i.length-t.posPre.length-t.posSuf.length,d=s.indexOf(gv);t.negPre=s.substring(0,d).replace(/'/g,""),t.negSuf=s.slice(d+l).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function dv(n,e){return yn(n)[F.NumberFormats][e]}(e,Pn.Currency),ir(e,W.MinusSign));return o.minFrac=function n7(n){let e;const t=pk[n];return t&&(e=t[2]),"number"==typeof e?e:t7}(r),o.maxFrac=o.minFrac,function mv(n,e,t,r,i,s,o=!1){let a="",u=!1;if(isFinite(n)){let c=function b7(n){let r,i,s,o,a,e=Math.abs(n)+"",t=0;for((i=e.indexOf(wf))>-1&&(e=e.replace(wf,"")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;e.charAt(s)===Lc;s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===Lc;)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>vk&&(r=r.splice(0,vk-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);o&&(c=function C7(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(c));let l=e.minInt,d=e.minFrac,h=e.maxFrac;if(s){const C=s.match(m7);if(null===C)throw new Error(`${s} is not a valid digit info`);const v=C[1],k=C[3],G=C[5];null!=v&&(l=_v(v)),null!=k&&(d=_v(k)),null!=G?h=_v(G):null!=k&&d>h&&(h=d)}!function D7(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const s=Math.min(Math.max(e,i),t);let o=s+n.integerLen,a=r[o];if(o>0){r.splice(Math.max(n.integerLen,o));for(let d=o;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let d=1;d<o;d++)r[d]=0}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let u=0!==s;const c=e+n.integerLen,l=r.reduceRight(function(d,h,f,p){return p[f]=(h+=d)<10?h:h-10,u&&(0===p[f]&&f>=c?p.pop():u=!1),h>=10?1:0},0);l&&(r.unshift(l),n.integerLen++)}(c,d,h);let f=c.digits,p=c.integerLen;const m=c.exponent;let y=[];for(u=f.every(C=>!C);p<l;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?y=f.splice(p,f.length):(y=f,f=[0]);const _=[];for(f.length>=e.lgSize&&_.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)_.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&_.unshift(f.join("")),a=_.join(ir(t,r)),y.length&&(a+=ir(t,i)+y.join("")),m&&(a+=ir(t,W.Exponential)+"+"+m)}else a=ir(t,W.Infinity);return a=n<0&&!u?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(n,o,e,W.CurrencyGroup,W.CurrencyDecimal,i).replace(wk,t).replace(wk,"").trim()}function _v(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function Ek(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}const wv=/\s+/,Ck=[];let If=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=Ck,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(wv):Ck}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(wv):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,Boolean(t[r]));this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(wv).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(E(df),E(Oc),E(Hn),E(fi))},n.\u0275dir=J({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class A7{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ef=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new A7(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),Tk(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Tk(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(E(yr),E(_i),E(df))},n.\u0275dir=J({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Tk(n,e){n.context.$implicit=e.item}let Pa=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new M7,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Sk("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Sk("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(E(yr),E(_i))},n.\u0275dir=J({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class M7{constructor(){this.$implicit=null,this.ngIf=null}}function Sk(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Me(e)}'.`)}function wr(n,e){return new x(2100,!1)}const H7=new B("DATE_PIPE_DEFAULT_TIMEZONE"),G7=new B("DATE_PIPE_DEFAULT_OPTIONS");let xk=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,s){if(null==t||""===t||t!=t)return null;try{return s7(t,r??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(o){throw wr()}}}return n.\u0275fac=function(t){return new(t||n)(E(vi,16),E(H7,24),E(G7,24))},n.\u0275pipe=Dn({name:"date",type:n,pure:!0,standalone:!0}),n})(),Cf=(()=>{class n{constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",s,o){if(!function Cv(n){return!(null==n||""===n||n!=n)}(t))return null;o=o||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;"code"!==i&&(a="symbol"===i||"symbol-narrow"===i?function e7(n,e,t="en"){const r=function YW(n){return yn(n)[F.Currencies]}(t)[n]||pk[n]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||n}(a,"symbol"===i?"wide":"narrow",o):i);try{return w7(function bv(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),o,a,r,s)}catch(u){throw wr()}}}return n.\u0275fac=function(t){return new(t||n)(E(vi,16),E(nW,16))},n.\u0275pipe=Dn({name:"currency",type:n,pure:!0,standalone:!0}),n})();let Pk=(()=>{class n{transform(t,r,i){if(null==t)return null;if(!this.supports(t))throw wr();return t.slice(r,i)}supports(t){return"string"==typeof t||Array.isArray(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=Dn({name:"slice",type:n,pure:!1,standalone:!0}),n})(),Z7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fn({type:n}),n.\u0275inj=Jt({}),n})();let r8=(()=>{class n{}return n.\u0275prov=$({token:n,providedIn:"root",factory:()=>new i8(L(vn),window)}),n})();class i8{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function s8(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=kk(this.window.history)||kk(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function kk(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Nk{}class R8 extends LW{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Sv extends R8{static makeCurrent(){!function FW(n){av||(av=n)}(new Sv)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function k8(){return Uc=Uc||document.querySelector("base"),Uc?Uc.getAttribute("href"):null}();return null==t?null:function N8(n){Tf=Tf||document.createElement("a"),Tf.setAttribute("href",n);const e=Tf.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Uc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ek(document.cookie,e)}}let Tf,Uc=null;const Uk=new B("TRANSITION_ID"),F8=[{provide:tf,useFactory:function O8(n,e,t){return()=>{t.get(nf).donePromise.then(()=>{const r=Ii(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[Uk,vn,Gn],multi:!0}];let V8=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();const Sf=new B("EventManagerPlugins");let Af=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(L(Sf),L(Ue))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();class Bk{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Ii().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let $k=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let s=i.get(t)??0;return s+=r,s>0?i.set(t,s):i.delete(t),s}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})(),Bc=(()=>{class n extends $k{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(s=>s.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const s=this.styleRef.get(r);s?s.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(L(vn))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();const Av={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},xv=/%COMP%/g,Gk=new B("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function zk(n,e){return e.flat(100).map(t=>t.replace(xv,n))}function qk(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Mv=(()=>{class n{constructor(t,r,i,s){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new Pv(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof Qk?i.applyToHost(t):i instanceof Rv&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.eventManager,a=this.sharedStylesHost,u=this.removeStylesOnCompDestory;switch(r.encapsulation){case Sr.Emulated:s=new Qk(o,a,r,this.appId,u);break;case Sr.ShadowDom:return new z8(o,a,t,r);default:s=new Rv(o,a,r,u)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(L(Af),L(Bc),L(kc),L(Gk))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();class Pv{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Av[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Kk(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Kk(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=Av[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Av[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(An.DashCase|An.Important)?e.style.setProperty(t,r,i&An.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&An.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,qk(r)):this.eventManager.addEventListener(e,t,qk(r))}}function Kk(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class z8 extends Pv{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=zk(i.id,i.styles);for(const o of s){const a=document.createElement("style");a.textContent=o,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Rv extends Pv{constructor(e,t,r,i,s=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=zk(s,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Qk extends Rv{constructor(e,t,r,i,s){const o=i+"-"+r.id;super(e,t,r,s,o),this.contentAttr=function j8(n){return"_ngcontent-%COMP%".replace(xv,n)}(o),this.hostAttr=function H8(n){return"_nghost-%COMP%".replace(xv,n)}(o)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let q8=(()=>{class n extends Bk{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(L(vn))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();const Yk=["alt","control","meta","shift"],W8={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},K8={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Q8=(()=>{class n extends Bk{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ii().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),Yk.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(t,r){let i=W8[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Yk.forEach(o=>{o!==i&&(0,K8[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(L(vn))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();const Jk=[{provide:Nc,useValue:"browser"},{provide:NR,useValue:function Y8(){Sv.makeCurrent()},multi:!0},{provide:vn,useFactory:function J8(){return function LG(n){Oy=n}(document),document},deps:[]}],Z8=zR(kW,"browser",Jk),Zk=new B(""),eN=[{provide:rf,useClass:class L8{addToWindow(e){Fe.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Fe.getAllAngularTestabilities=()=>e.getAllTestabilities(),Fe.getAllAngularRootElements=()=>e.getAllRootElements(),Fe.frameworkStabilizers||(Fe.frameworkStabilizers=[]),Fe.frameworkStabilizers.push(r=>{const i=Fe.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Ii().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:BR,useClass:J_,deps:[Ue,Z_,rf]},{provide:J_,useClass:J_,deps:[Ue,Z_,rf]}],tN=[{provide:Gy,useValue:"root"},{provide:la,useFactory:function X8(){return new la},deps:[]},{provide:Sf,useClass:q8,multi:!0,deps:[vn,Ue,Nc]},{provide:Sf,useClass:Q8,multi:!0,deps:[vn]},{provide:Mv,useClass:Mv,deps:[Af,Bc,kc,Gk]},{provide:SM,useExisting:Mv},{provide:$k,useExisting:Bc},{provide:Bc,useClass:Bc,deps:[vn]},{provide:Af,useClass:Af,deps:[Sf,Ue]},{provide:Nk,useClass:V8,deps:[]},[]];let eK=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:kc,useValue:t.appId},{provide:Uk,useExisting:kc},F8]}}}return n.\u0275fac=function(t){return new(t||n)(L(Zk,12))},n.\u0275mod=fn({type:n}),n.\u0275inj=Jt({providers:[...tN,...eN],imports:[Z7,NW]}),n})(),nN=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(L(vn))},n.\u0275prov=$({token:n,factory:function(t){let r=null;return r=t?new t:function nK(){return new nN(L(vn))}(),r},providedIn:"root"}),n})();function q(...n){return ht(n,zu(n))}function Zi(n,e){return xe(e)?Vt(n,e,1):Vt(n,1)}function bi(n,e){return St((t,r)=>{let i=0;t.subscribe(It(r,s=>n.call(e,s,i++)&&r.next(s)))})}typeof window<"u"&&window;class xf{}class Ov{}class Di{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{let i;if(i="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(s=>s.toString()),i.length>0){const s=t.toLowerCase();this.headers.set(s,i),this.maybeSetNormalizedName(t,s)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Di?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Di;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Di?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class uK{encodeKey(e){return sN(e)}encodeValue(e){return sN(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const lK=/%(\d[a-f0-9])/gi,dK={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function sN(n){return encodeURIComponent(n).replace(lK,(e,t)=>dK[t]??e)}function Mf(n){return`${n}`}class es{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new uK,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function cK(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=t.get(o)||[];u.push(a),t.set(o,u)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(Mf):[Mf(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new es({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Mf(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Mf(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class hK{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function oN(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function aN(n){return typeof Blob<"u"&&n instanceof Blob}function uN(n){return typeof FormData<"u"&&n instanceof FormData}class $c{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function fK(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Di),this.context||(this.context=new hK),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new es,this.urlWithParams=t}serializeBody(){return null===this.body?null:oN(this.body)||aN(this.body)||uN(this.body)||function pK(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof es?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||uN(this.body)?null:aN(this.body)?this.body.type||null:oN(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof es?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,c=e.params||this.params;const l=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new $c(t,r,s,{params:c,headers:u,context:l,reportProgress:a,responseType:i,withCredentials:o})}}var mt=(()=>((mt=mt||{})[mt.Sent=0]="Sent",mt[mt.UploadProgress=1]="UploadProgress",mt[mt.ResponseHeader=2]="ResponseHeader",mt[mt.DownloadProgress=3]="DownloadProgress",mt[mt.Response=4]="Response",mt[mt.User=5]="User",mt))();class Fv{constructor(e,t=200,r="OK"){this.headers=e.headers||new Di,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Lv extends Fv{constructor(e={}){super(e),this.type=mt.ResponseHeader}clone(e={}){return new Lv({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Pf extends Fv{constructor(e={}){super(e),this.type=mt.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Pf({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class cN extends Fv{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Vv(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Rf=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof $c)s=t;else{let u,c;u=i.headers instanceof Di?i.headers:new Di(i.headers),i.params&&(c=i.params instanceof es?i.params:new es({fromObject:i.params})),s=new $c(t,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=q(s).pipe(Zi(u=>this.handler.handle(u)));if(t instanceof $c||"events"===i.observe)return o;const a=o.pipe(bi(u=>u instanceof Pf));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(ee(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(ee(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(ee(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(ee(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new es).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Vv(i,r))}post(t,r,i={}){return this.request("POST",t,Vv(i,r))}put(t,r,i={}){return this.request("PUT",t,Vv(i,r))}}return n.\u0275fac=function(t){return new(t||n)(L(xf))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();function lN(n,e){return e(n)}function gK(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const yK=new B("HTTP_INTERCEPTORS"),jc=new B("HTTP_INTERCEPTOR_FNS");function _K(){let n=null;return(e,t)=>(null===n&&(n=(de(yK,{optional:!0})??[]).reduceRight(gK,lN)),n(e,t))}let dN=(()=>{class n extends xf{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(jc)));this.chain=r.reduceRight((i,s)=>function mK(n,e,t){return(r,i)=>t.runInContext(()=>e(r,s=>n(s,i)))}(i,s,this.injector),lN)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(L(Ov),L(Pr))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();const EK=/^\)\]\}',?\n/;let fN=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Oe(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((f,p)=>i.setRequestHeader(f,p.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const f=t.detectContentTypeHeader();null!==f&&i.setRequestHeader("Content-Type",f)}if(t.responseType){const f=t.responseType.toLowerCase();i.responseType="json"!==f?f:"text"}const s=t.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const f=i.statusText||"OK",p=new Di(i.getAllResponseHeaders()),m=function CK(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return o=new Lv({headers:p,status:i.status,statusText:f,url:m}),o},u=()=>{let{headers:f,status:p,statusText:m,url:y}=a(),_=null;204!==p&&(_=typeof i.response>"u"?i.responseText:i.response),0===p&&(p=_?200:0);let C=p>=200&&p<300;if("json"===t.responseType&&"string"==typeof _){const v=_;_=_.replace(EK,"");try{_=""!==_?JSON.parse(_):null}catch(k){_=v,C&&(C=!1,_={error:k,text:_})}}C?(r.next(new Pf({body:_,headers:f,status:p,statusText:m,url:y||void 0})),r.complete()):r.error(new cN({error:_,headers:f,status:p,statusText:m,url:y||void 0}))},c=f=>{const{url:p}=a(),m=new cN({error:f,status:i.status||0,statusText:i.statusText||"Unknown Error",url:p||void 0});r.error(m)};let l=!1;const d=f=>{l||(r.next(a()),l=!0);let p={type:mt.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),"text"===t.responseType&&i.responseText&&(p.partialText=i.responseText),r.next(p)},h=f=>{let p={type:mt.UploadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),r.next(p)};return i.addEventListener("load",u),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),t.reportProgress&&(i.addEventListener("progress",d),null!==s&&i.upload&&i.upload.addEventListener("progress",h)),i.send(s),r.next({type:mt.Sent}),()=>{i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",u),i.removeEventListener("timeout",c),t.reportProgress&&(i.removeEventListener("progress",d),null!==s&&i.upload&&i.upload.removeEventListener("progress",h)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(L(Nk))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();const Uv=new B("XSRF_ENABLED"),pN=new B("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),gN=new B("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class mN{}let TK=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ek(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(L(vn),L(Nc),L(pN))},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();function SK(n,e){const t=n.url.toLowerCase();if(!de(Uv)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=de(mN).getToken(),i=de(gN);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var ot=(()=>((ot=ot||{})[ot.Interceptors=0]="Interceptors",ot[ot.LegacyInterceptors=1]="LegacyInterceptors",ot[ot.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",ot[ot.NoXsrfProtection=3]="NoXsrfProtection",ot[ot.JsonpSupport=4]="JsonpSupport",ot[ot.RequestsMadeViaParent=5]="RequestsMadeViaParent",ot))();function Ra(n,e){return{\u0275kind:n,\u0275providers:e}}function AK(...n){const e=[Rf,fN,dN,{provide:xf,useExisting:dN},{provide:Ov,useExisting:fN},{provide:jc,useValue:SK,multi:!0},{provide:Uv,useValue:!0},{provide:mN,useClass:TK}];for(const t of n)e.push(...t.\u0275providers);return function oz(n){return{\u0275providers:n}}(e)}const yN=new B("LEGACY_INTERCEPTOR_FN");let MK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fn({type:n}),n.\u0275inj=Jt({providers:[AK(Ra(ot.LegacyInterceptors,[{provide:yN,useFactory:_K},{provide:jc,useExisting:yN,multi:!0}]))]}),n})();const{isArray:PK}=Array,{getPrototypeOf:RK,prototype:kK,keys:NK}=Object;function _N(n){if(1===n.length){const e=n[0];if(PK(e))return{args:e,keys:null};if(function OK(n){return n&&"object"==typeof n&&RK(n)===kK}(e)){const t=NK(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:FK}=Array;function vN(n){return ee(e=>function LK(n,e){return FK(e)?n(...e):n(e)}(n,e))}function wN(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let IN=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(E(fi),E(Hn))},n.\u0275dir=J({type:n}),n})(),Ys=(()=>{class n extends IN{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=$t(n)))(r||n)}}(),n.\u0275dir=J({type:n,features:[De]}),n})();const Lr=new B("NgValueAccessor"),BK={provide:Lr,useExisting:Pe(()=>Xs),multi:!0},jK=new B("CompositionEventMode");let Xs=(()=>{class n extends IN{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function $K(){const n=Ii()?Ii().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(E(fi),E(Hn),E(jK,8))},n.\u0275dir=J({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&te("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Ge([BK]),De]}),n})();const HK=!1;function ts(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function CN(n){return null!=n&&"number"==typeof n.length}const on=new B("NgValidators"),ns=new B("NgAsyncValidators"),GK=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Vr{static min(e){return function bN(n){return e=>{if(ts(e.value)||ts(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function DN(n){return e=>{if(ts(e.value)||ts(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return TN(e)}static requiredTrue(e){return function SN(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function AN(n){return ts(n.value)||GK.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function xN(n){return e=>ts(e.value)||!CN(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function MN(n){return e=>CN(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function PN(n){if(!n)return kf;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(ts(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return LN(e)}static composeAsync(e){return VN(e)}}function TN(n){return ts(n.value)?{required:!0}:null}function kf(n){return null}function RN(n){return null!=n}function kN(n){const e=Ec(n)?ht(n):n;if(HK&&!__(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new x(-1101,t)}return e}function NN(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function ON(n,e){return e.map(t=>t(n))}function FN(n){return n.map(e=>function zK(n){return!n.validate}(e)?e:t=>e.validate(t))}function LN(n){if(!n)return null;const e=n.filter(RN);return 0==e.length?null:function(t){return NN(ON(t,e))}}function Bv(n){return null!=n?LN(FN(n)):null}function VN(n){if(!n)return null;const e=n.filter(RN);return 0==e.length?null:function(t){return function VK(...n){const e=IA(n),{args:t,keys:r}=_N(n),i=new Oe(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;Yn(t[l]).subscribe(It(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?wN(r,a):a),s.complete())}))}});return e?i.pipe(vN(e)):i}(ON(t,e).map(kN)).pipe(ee(NN))}}function $v(n){return null!=n?VN(FN(n)):null}function UN(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function BN(n){return n._rawValidators}function $N(n){return n._rawAsyncValidators}function jv(n){return n?Array.isArray(n)?n:[n]:[]}function Nf(n,e){return Array.isArray(n)?n.includes(e):n===e}function jN(n,e){const t=jv(e);return jv(n).forEach(i=>{Nf(t,i)||t.push(i)}),t}function HN(n,e){return jv(e).filter(t=>!Nf(n,t))}class GN{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Bv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=$v(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class wn extends GN{get formDirective(){return null}get path(){return null}}class rs extends GN{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class zN{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Hc=(()=>{class n extends zN{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(E(rs,2))},n.\u0275dir=J({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&zh("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[De]}),n})(),Gc=(()=>{class n extends zN{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(E(wn,10))},n.\u0275dir=J({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&zh("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[De]}),n})();function qN(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const zv=!1,zc="VALID",Ff="INVALID",ka="PENDING",qc="DISABLED";function qv(n){return(Lf(n)?n.validators:n)||null}function Wv(n,e){return(Lf(e)?e.asyncValidators:n)||null}function Lf(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function WN(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new x(1e3,zv?function QK(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new x(1001,zv?function YK(n,e){return`Cannot find form control ${qN(n,e)}`}(e,t):"")}function KN(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new x(1002,zv?function XK(n,e){return`Must supply a value for form control ${qN(n,e)}`}(e,i):"")})}class Vf{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===zc}get invalid(){return this.status===Ff}get pending(){return this.status==ka}get disabled(){return this.status===qc}get enabled(){return this.status!==qc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(jN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(jN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(HN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(HN(e,this._rawAsyncValidators))}hasValidator(e){return Nf(this._rawValidators,e)}hasAsyncValidator(e){return Nf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ka,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=qc,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=zc,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zc||this.status===ka)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?qc:zc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ka,this._hasOwnPendingAsyncValidator=!0;const t=kN(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Re,this.statusChanges=new Re}_calculateStatus(){return this._allControlsDisabled()?qc:this.errors?Ff:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ka)?ka:this._anyControlsHaveStatus(Ff)?Ff:zc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Lf(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function JK(n){return Array.isArray(n)?Bv(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function ZK(n){return Array.isArray(n)?$v(n):n||null}(this._rawAsyncValidators)}}class Wc extends Vf{constructor(e,t,r){super(qv(t),Wv(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){KN(this,!0,e),Object.keys(e).forEach(r=>{WN(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class QN extends Wc{}const Js=new B("CallSetDisabledState",{providedIn:"root",factory:()=>Kc}),Kc="always";function Uf(n,e){return[...e.path,n]}function Qc(n,e,t=Kc){Kv(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function tQ(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&YN(n,e)})}(n,e),function rQ(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function nQ(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&YN(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function eQ(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Bf(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),jf(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function $f(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Kv(n,e){const t=BN(n);null!==e.validator?n.setValidators(UN(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=$N(n);null!==e.asyncValidator?n.setAsyncValidators(UN(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();$f(e._rawValidators,i),$f(e._rawAsyncValidators,i)}function jf(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=BN(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=$N(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return $f(e._rawValidators,r),$f(e._rawAsyncValidators,r),t}function YN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function XN(n,e){Kv(n,e)}function Yv(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function JN(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Xv(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Xs?t=s:function oQ(n){return Object.getPrototypeOf(n.constructor)===Ys}(s)?r=s:i=s}),i||r||t||null}const uQ={provide:wn,useExisting:Pe(()=>Hf)},Yc=(()=>Promise.resolve())();let Hf=(()=>{class n extends wn{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Re,this.form=new Wc({},Bv(t),$v(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Yc.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Qc(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Yc.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Yc.then(()=>{const r=this._findContainer(t.path),i=new Wc({});XN(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Yc.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Yc.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,JN(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(E(on,10),E(ns,10),E(Js,8))},n.\u0275dir=J({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&te("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ge([uQ]),De]}),n})();function ZN(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function eO(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Xc=class extends Vf{constructor(e=null,t,r){super(qv(t),Wv(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Lf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=eO(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ZN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ZN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){eO(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},dQ={provide:rs,useExisting:Pe(()=>Jv)},rO=(()=>Promise.resolve())();let Jv=(()=>{class n extends rs{constructor(t,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new Xc,this._registered=!1,this.update=new Re,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Xv(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Yv(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Qc(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){rO.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&Ma(r);rO.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Uf(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(E(wn,9),E(on,10),E(ns,10),E(Lr,10),E(uf,8),E(Js,8))},n.\u0275dir=J({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ge([dQ]),De,Bn]}),n})(),Jc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=J({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),sO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fn({type:n}),n.\u0275inj=Jt({}),n})();const Zv=new B("NgModelWithFormControlWarning"),yQ={provide:wn,useExisting:Pe(()=>Na)};let Na=(()=>{class n extends wn{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Re,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(jf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Qc(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Bf(t.control||null,t,!1),function aQ(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,JN(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Bf(r||null,t),(n=>n instanceof Xc)(i)&&(Qc(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);XN(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function iQ(n,e){return jf(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Kv(this.form,this),this._oldForm&&jf(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(E(on,10),E(ns,10),E(Js,8))},n.\u0275dir=J({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&te("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ge([yQ]),De,Bn]}),n})();const wQ={provide:rs,useExisting:Pe(()=>Zc)};let Zc=(()=>{class n extends rs{set isDisabled(t){}constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new Re,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Xv(0,s)}ngOnChanges(t){this._added||this._setUpControl(),Yv(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Uf(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(E(wn,13),E(on,10),E(ns,10),E(Lr,10),E(Zv,8))},n.\u0275dir=J({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ge([wQ]),De,Bn]}),n})(),Zs=(()=>{class n{constructor(){this._validator=kf}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):kf,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=J({type:n,features:[Bn]}),n})();const xQ={provide:on,useExisting:Pe(()=>Oa),multi:!0};let Oa=(()=>{class n extends Zs{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ma,this.createValidator=t=>TN}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=$t(n)))(r||n)}}(),n.\u0275dir=J({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&Nr("required",r._enabled?"":null)},inputs:{required:"required"},features:[Ge([xQ]),De]}),n})(),IO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fn({type:n}),n.\u0275inj=Jt({imports:[sO]}),n})();class EO extends Vf{constructor(e,t,r){super(qv(t),Wv(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){KN(this,!1,e),e.forEach((r,i)=>{WN(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function CO(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let iw=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let s={};return CO(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Wc(i,s)}record(t,r=null){const i=this._reduceControls(t);return new QN(i,r)}control(t,r,i){let s={};return this.useNonNullable?(CO(r)?s=r:(s.validators=r,s.asyncValidators=i),new Xc(t,{...s,nonNullable:!0})):new Xc(t,r,i)}array(t,r,i){const s=t.map(o=>this._createControl(o));return new EO(s,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof Xc||t instanceof Vf?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bO=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Js,useValue:t.callSetDisabledState??Kc}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fn({type:n}),n.\u0275inj=Jt({imports:[IO]}),n})(),OQ=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Zv,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Js,useValue:t.callSetDisabledState??Kc}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fn({type:n}),n.\u0275inj=Jt({imports:[IO]}),n})();class or extends ni{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Gf=Hu(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function DO(...n){const e=zu(n),t=IA(n),{args:r,keys:i}=_N(n);if(0===r.length)return ht([],e);const s=new Oe(function FQ(n,e,t=Fs){return r=>{TO(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)TO(e,()=>{const c=ht(n[u],e);let l=!1;c.subscribe(It(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>wN(i,o):Fs));return t?s.pipe(vN(t)):s}function TO(n,e,t){n?ri(t,n,e):e()}function sw(...n){return function LQ(){return jo(1)}()(ht(n,zu(n)))}function SO(n){return new Oe(e=>{Yn(n()).subscribe(e)})}function el(n,e){const t=xe(n)?n:()=>n,r=i=>i.error(t());return new Oe(e?i=>e.schedule(r,0,i):r)}function ow(){return St((n,e)=>{let t=null;n._refCount++;const r=It(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class AO extends Oe{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,oA(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Fn;const t=this.getSubject();e.add(this.source.subscribe(It(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Fn.EMPTY)}return e}refCount(){return ow()(this)}}function Ur(n,e){return St((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(It(r,u=>{i?.unsubscribe();let c=0;const l=s++;Yn(n(u,l)).subscribe(i=It(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function eo(n){return n<=0?()=>Dr:St((e,t)=>{let r=0;e.subscribe(It(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function zf(n){return St((e,t)=>{let r=!1;e.subscribe(It(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function xO(n=UQ){return St((e,t)=>{let r=!1;e.subscribe(It(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function UQ(){return new Gf}function is(n,e){const t=arguments.length>=2;return r=>r.pipe(n?bi((i,s)=>n(i,s,r)):Fs,eo(1),t?zf(e):xO(()=>new Gf))}function Ht(n,e,t){const r=xe(n)||e||t?{next:n,error:e,complete:t}:n;return r?St((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(It(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Fs}function ss(n){return St((e,t)=>{let s,r=null,i=!1;r=e.subscribe(It(t,void 0,void 0,o=>{s=Yn(n(o,ss(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function MO(n,e){return St(function BQ(n,e,t,r,i){return(s,o)=>{let a=t,u=e,c=0;s.subscribe(It(o,l=>{const d=c++;u=a?n(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(n,e,arguments.length>=2,!0))}function aw(n){return n<=0?()=>Dr:St((e,t)=>{let r=[];e.subscribe(It(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function PO(n,e){const t=arguments.length>=2;return r=>r.pipe(n?bi((i,s)=>n(i,s,r)):Fs,aw(1),t?zf(e):xO(()=>new Gf))}function uw(n){return St((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const ae="primary",tl=Symbol("RouteTitle");class HQ{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Fa(n){return new HQ(n)}function GQ(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Br(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!RO(n[i],e[i]))return!1;return!0}function RO(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function kO(n){return Array.prototype.concat.apply([],n)}function NO(n){return n.length>0?n[n.length-1]:null}function Gt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function os(n){return __(n)?n:Ec(n)?ht(Promise.resolve(n)):q(n)}const qf=!1,qQ={exact:function LO(n,e,t){if(!to(n.segments,e.segments)||!Wf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!LO(n.children[r],e.children[r],t))return!1;return!0},subset:VO},OO={exact:function WQ(n,e){return Br(n,e)},subset:function KQ(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>RO(n[t],e[t]))},ignored:()=>!0};function FO(n,e,t){return qQ[t.paths](n.root,e.root,t.matrixParams)&&OO[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function VO(n,e,t){return UO(n,e,e.segments,t)}function UO(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!to(i,t)||e.hasChildren()||!Wf(i,t,r))}if(n.segments.length===t.length){if(!to(n.segments,t)||!Wf(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!VO(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(to(n.segments,i)&&Wf(n.segments,i,r)&&n.children[ae])&&UO(n.children[ae],e,s,r)}}function Wf(n,e,t){return e.every((r,i)=>OO[t](n[i].parameters,r.parameters))}class as{constructor(e=new fe([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fa(this.queryParams)),this._queryParamMap}toString(){return XQ.serialize(this)}}class fe{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Gt(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Kf(this)}}class nl{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Fa(this.parameters)),this._parameterMap}toString(){return jO(this)}}function to(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let rl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:function(){return new cw},providedIn:"root"}),n})();class cw{parse(e){const t=new oY(e);return new as(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${il(e.root,!0)}`,r=function eY(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Qf(t)}=${Qf(i)}`).join("&"):`${Qf(t)}=${Qf(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function JQ(n){return encodeURI(n)}(e.fragment)}`:""}`}}const XQ=new cw;function Kf(n){return n.segments.map(e=>jO(e)).join("/")}function il(n,e){if(!n.hasChildren())return Kf(n);if(e){const t=n.children[ae]?il(n.children[ae],!1):"",r=[];return Gt(n.children,(i,s)=>{s!==ae&&r.push(`${s}:${il(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function YQ(n,e){let t=[];return Gt(n.children,(r,i)=>{i===ae&&(t=t.concat(e(r,i)))}),Gt(n.children,(r,i)=>{i!==ae&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===ae?[il(n.children[ae],!1)]:[`${i}:${il(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ae]?`${Kf(n)}/${t[0]}`:`${Kf(n)}/(${t.join("//")})`}}function BO(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Qf(n){return BO(n).replace(/%3B/gi,";")}function lw(n){return BO(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Yf(n){return decodeURIComponent(n)}function $O(n){return Yf(n.replace(/\+/g,"%20"))}function jO(n){return`${lw(n.path)}${function ZQ(n){return Object.keys(n).map(e=>`;${lw(e)}=${lw(n[e])}`).join("")}(n.parameters)}`}const tY=/^[^\/()?;=#]+/;function Xf(n){const e=n.match(tY);return e?e[0]:""}const nY=/^[^=?&#]+/,iY=/^[^&#]+/;class oY{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new fe([],{}):new fe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ae]=new fe(e,t)),r}parseSegment(){const e=Xf(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new x(4009,qf);return this.capture(e),new nl(Yf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Xf(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Xf(this.remaining);i&&(r=i,this.capture(r))}e[Yf(t)]=Yf(r)}parseQueryParam(e){const t=function rY(n){const e=n.match(nY);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function sY(n){const e=n.match(iY);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=$O(t),s=$O(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Xf(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new x(4010,qf);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ae);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[ae]:new fe([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new x(4011,qf)}}function dw(n){return n.segments.length>0?new fe([],{[ae]:n}):n}function Jf(n){const e={};for(const r of Object.keys(n.children)){const s=Jf(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function aY(n){if(1===n.numberOfChildren&&n.children[ae]){const e=n.children[ae];return new fe(n.segments.concat(e.segments),e.children)}return n}(new fe(n.segments,e))}function no(n){return n instanceof as}const hw=!1;function uY(n,e,t,r,i){if(0===t.length)return La(e.root,e.root,e.root,r,i);const s=function WO(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new qO(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Gt(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new qO(t,e,r)}(t);return s.toRoot()?La(e.root,e.root,new fe([],{}),r,i):function o(u){const c=function lY(n,e,t,r){if(n.isAbsolute)return new Va(e.root,!0,0);if(-1===r)return new Va(t,t===e.root,0);return function KO(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new x(4005,hw&&"Invalid number of '../'");i=r.segments.length}return new Va(r,!1,i-s)}(t,r+(sl(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,u),l=c.processChildren?Ua(c.segmentGroup,c.index,s.commands):fw(c.segmentGroup,c.index,s.commands);return La(e.root,c.segmentGroup,l,r,i)}(n.snapshot?._lastPathIndex)}function sl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ol(n){return"object"==typeof n&&null!=n&&n.outlets}function La(n,e,t,r,i){let o,s={};r&&Gt(r,(u,c)=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),o=n===e?t:zO(n,e,t);const a=dw(Jf(o));return new as(a,s,i)}function zO(n,e,t){const r={};return Gt(n.children,(i,s)=>{r[s]=i===e?t:zO(i,e,t)}),new fe(n.segments,r)}class qO{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&sl(r[0]))throw new x(4003,hw&&"Root segment cannot have matrix parameters");const i=r.find(ol);if(i&&i!==NO(r))throw new x(4004,hw&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Va{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function fw(n,e,t){if(n||(n=new fe([],{})),0===n.segments.length&&n.hasChildren())return Ua(n,e,t);const r=function hY(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(ol(a))break;const u=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!YO(u,c,o))return s;r+=2}else{if(!YO(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new fe(n.segments.slice(0,r.pathIndex),{});return s.children[ae]=new fe(n.segments.slice(r.pathIndex),n.children),Ua(s,0,i)}return r.match&&0===i.length?new fe(n.segments,{}):r.match&&!n.hasChildren()?pw(n,e,t):r.match?Ua(n,0,i):pw(n,e,t)}function Ua(n,e,t){if(0===t.length)return new fe(n.segments,{});{const r=function dY(n){return ol(n[0])?n[0].outlets:{[ae]:n}}(t),i={};if(!r[ae]&&n.children[ae]&&1===n.numberOfChildren&&0===n.children[ae].segments.length){const s=Ua(n.children[ae],e,t);return new fe(n.segments,s.children)}return Gt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=fw(n.children[o],e,s))}),Gt(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new fe(n.segments,i)}}function pw(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(ol(s)){const u=fY(s.outlets);return new fe(r,u)}if(0===i&&sl(t[0])){r.push(new nl(n.segments[e].path,QO(t[0]))),i++;continue}const o=ol(s)?s.outlets[ae]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&sl(a)?(r.push(new nl(o,QO(a))),i+=2):(r.push(new nl(o,{})),i++)}return new fe(r,{})}function fY(n){const e={};return Gt(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=pw(new fe([],{}),0,t))}),e}function QO(n){const e={};return Gt(n,(t,r)=>e[r]=`${t}`),e}function YO(n,e,t){return n==t.path&&Br(e,t.parameters)}const al="imperative";class $r{constructor(e,t){this.id=e,this.url=t}}class gw extends $r{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ro extends $r{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Zf extends $r{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ep extends $r{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class mw extends $r{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class pY extends $r{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gY extends $r{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mY extends $r{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class yY extends $r{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _Y extends $r{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vY{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class wY{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class IY{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class EY{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class CY{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bY{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class XO{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let SY=(()=>{class n{createUrlTree(t,r,i,s,o,a){return uY(t||r.root,i,s,o,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})(),xY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:function(e){return SY.\u0275fac(e)},providedIn:"root"}),n})();class JO{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=yw(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=yw(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=_w(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return _w(e,this._root).map(t=>t.value)}}function yw(n,e){if(n===e.value)return e;for(const t of e.children){const r=yw(n,t);if(r)return r}return null}function _w(n,e){if(n===e.value)return[e];for(const t of e.children){const r=_w(n,t);if(r.length)return r.unshift(e),r}return[]}class Ti{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ba(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class ZO extends JO{constructor(e,t){super(e),this.snapshot=t,vw(this,e)}toString(){return this.snapshot.toString()}}function eF(n,e){const t=function MY(n,e){const o=new tp([],{},{},"",{},ae,e,null,n.root,-1,{});return new nF("",new Ti(o,[]))}(n,e),r=new or([new nl("",{})]),i=new or({}),s=new or({}),o=new or({}),a=new or(""),u=new jr(r,i,o,a,s,ae,e,t.root);return u.snapshot=t.root,new ZO(new Ti(u,[]),t)}class jr{constructor(e,t,r,i,s,o,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(ee(c=>c[tl]))??q(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ee(e=>Fa(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ee(e=>Fa(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function tF(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function PY(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class tp{get title(){return this.data?.[tl]}constructor(e,t,r,i,s,o,a,u,c,l,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Fa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class nF extends JO{constructor(e,t){super(t),this.url=e,vw(this,t)}toString(){return rF(this._root)}}function vw(n,e){e.value._routerState=n,e.children.forEach(t=>vw(n,t))}function rF(n){const e=n.children.length>0?` { ${n.children.map(rF).join(", ")} } `:"";return`${n.value}${e}`}function ww(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Br(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Br(e.params,t.params)||n.params.next(t.params),function zQ(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Br(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Br(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Iw(n,e){const t=Br(n.params,e.params)&&function QQ(n,e){return to(n,e)&&n.every((t,r)=>Br(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Iw(n.parent,e.parent))}function ul(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function kY(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return ul(n,r,i);return ul(n,r)})}(n,e,t);return new Ti(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>ul(n,a)),o}}const r=function NY(n){return new jr(new or(n.url),new or(n.params),new or(n.queryParams),new or(n.fragment),new or(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>ul(n,s));return new Ti(r,i)}}const Ew="ngNavigationCancelingError";function iF(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=no(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=sF(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function sF(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Ew]=!0,r.cancellationCode=e,t&&(r.url=t),r}function oF(n){return aF(n)&&no(n.url)}function aF(n){return n&&n[Ew]}class OY{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new cl,this.attachRef=null}}let cl=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new OY,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const np=!1;let Cw=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ae,this.activateEvents=new Re,this.deactivateEvents=new Re,this.attachEvents=new Re,this.detachEvents=new Re,this.parentContexts=de(cl),this.location=de(yr),this.changeDetector=de(uf),this.environmentInjector=de(Pr)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new x(4012,np);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new x(4012,np);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new x(4012,np);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new x(4013,np);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new FY(t,a,i.injector);if(r&&function LY(n){return!!n.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,u)}else this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=J({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Bn]}),n})();class FY{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===jr?this.route:e===cl?this.childContexts:this.parent.get(e,t)}}let bw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Zn({type:n,selectors:[["ng-component"]],standalone:!0,features:[qP],decls:1,vars:0,template:function(t,r){1&t&&Ve(0,"router-outlet")},dependencies:[Cw],encapsulation:2}),n})();function uF(n,e){return n.providers&&!n._injector&&(n._injector=Xh(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Tw(n){const e=n.children&&n.children.map(Tw),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ae&&(t.component=bw),t}function ar(n){return n.outlet||ae}function cF(n,e){const t=n.filter(r=>ar(r)===e);return t.push(...n.filter(r=>ar(r)!==e)),t}function ll(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class jY{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),ww(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Ba(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Gt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Ba(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Ba(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Ba(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new bY(s.value.snapshot))}),e.children.length&&this.forwardEvent(new EY(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(ww(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),ww(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=ll(i.snapshot),u=a?.get(mc)??null;o.attachRef=null,o.route=i,o.resolver=u,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class lF{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class rp{constructor(e,t){this.component=e,this.route=t}}function HY(n,e,t){const r=n._root;return dl(r,e?e._root:null,t,[r.value])}function $a(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function P4(n){return null!==Zd(n)}(n)?e.get(n):n:r}function dl(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ba(e);return n.children.forEach(o=>{(function zY(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function qY(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!to(n.url,e.url);case"pathParamsOrQueryParamsChange":return!to(n.url,e.url)||!Br(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Iw(n,e)||!Br(n.queryParams,e.queryParams);default:return!Iw(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new lF(r)):(s.data=o.data,s._resolvedData=o._resolvedData),dl(n,e,s.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new rp(a.outlet.component,o))}else o&&hl(e,a,i),i.canActivateChecks.push(new lF(r)),dl(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Gt(s,(o,a)=>hl(o,t.getContext(a),i)),i}function hl(n,e,t){const r=Ba(n),i=n.value;Gt(r,(s,o)=>{hl(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new rp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function fl(n){return"function"==typeof n}function Sw(n){return n instanceof Gf||"EmptyError"===n?.name}const ip=Symbol("INITIAL_VALUE");function ja(){return Ur(n=>DO(n.map(e=>e.pipe(eo(1),function VQ(...n){const e=zu(n);return St((t,r)=>{(e?sw(n,t,e):sw(n,t)).subscribe(r)})}(ip)))).pipe(ee(e=>{for(const t of e)if(!0!==t){if(t===ip)return ip;if(!1===t||t instanceof as)return t}return!0}),bi(e=>e!==ip),eo(1)))}function dF(n){return nA(Ht(e=>{if(no(e))throw iF(0,e)}),ee(e=>!0===e))}const Aw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function hF(n,e,t,r,i){const s=xw(n,e,t);return s.matched?function cX(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?q(i.map(o=>{const a=$a(o,n);return os(function JY(n){return n&&fl(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(ja(),dF()):q(!0)}(r=uF(e,r),e,t).pipe(ee(o=>!0===o?s:{...Aw})):q(s)}function xw(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Aw}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||GQ)(t,n,e);if(!i)return{...Aw};const s={};Gt(i.posParams,(a,u)=>{s[u]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function sp(n,e,t,r){if(t.length>0&&function hX(n,e,t){return t.some(r=>op(n,e,r)&&ar(r)!==ae)}(n,t,r)){const s=new fe(e,function dX(n,e,t,r){const i={};i[ae]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&ar(s)!==ae){const o=new fe([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[ar(s)]=o}return i}(n,e,r,new fe(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function fX(n,e,t){return t.some(r=>op(n,e,r))}(n,t,r)){const s=new fe(n.segments,function lX(n,e,t,r,i){const s={};for(const o of r)if(op(n,t,o)&&!i[ar(o)]){const a=new fe([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,s[ar(o)]=a}return{...i,...s}}(n,e,t,r,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const i=new fe(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function op(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function fF(n,e,t,r){return!!(ar(n)===r||r!==ae&&op(e,t,n))&&("**"===n.path||xw(e,n,t).matched)}function pF(n,e,t){return 0===e.length&&!n.children[t]}const ap=!1;class up{constructor(e){this.segmentGroup=e||null}}class gF{constructor(e){this.urlTree=e}}function pl(n){return el(new up(n))}function mF(n){return el(new gF(n))}class yX{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=sp(this.urlTree.root,[],[],this.config).segmentGroup,t=new fe(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,ae).pipe(ee(s=>this.createUrlTree(Jf(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ss(s=>{if(s instanceof gF)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof up?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,ae).pipe(ee(i=>this.createUrlTree(Jf(i),e.queryParams,e.fragment))).pipe(ss(i=>{throw i instanceof up?this.noMatchError(i):i}))}noMatchError(e){return new x(4002,ap)}createUrlTree(e,t,r){const i=dw(e);return new as(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(ee(s=>new fe([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return ht(i).pipe(Zi(s=>{const o=r.children[s],a=cF(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(ee(u=>({segment:u,outlet:s})))}),MO((s,o)=>(s[o.outlet]=o.segment,s),{}),PO())}expandSegment(e,t,r,i,s,o){return ht(r).pipe(Zi(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(ss(c=>{if(c instanceof up)return q(null);throw c}))),is(a=>!!a),ss((a,u)=>{if(Sw(a))return pF(t,i,s)?q(new fe([],{})):pl(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return fF(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):pl(t):pl(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?mF(s):this.lineralizeSegments(r,s).pipe(Vt(o=>{const a=new fe(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=xw(t,i,s);if(!a)return pl(t);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?mF(d):this.lineralizeSegments(i,d).pipe(Vt(h=>this.expandSegment(e,t,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=uF(r,e),r.loadChildren?(r._loadedRoutes?q({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(ee(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new fe(i,{})))):q(new fe(i,{}))):hF(t,r,i,e).pipe(Ur(({matched:o,consumedSegments:a,remainingSegments:u})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(Vt(l=>{const d=l.injector??e,h=l.routes,{segmentGroup:f,slicedSegments:p}=sp(t,a,u,h),m=new fe(f.segments,f.children);if(0===p.length&&m.hasChildren())return this.expandChildren(d,h,m).pipe(ee(v=>new fe(a,v)));if(0===h.length&&0===p.length)return q(new fe(a,{}));const y=ar(r)===s;return this.expandSegment(d,m,h,p,y?ae:s,!0).pipe(ee(C=>new fe(a.concat(C.segments),C.children)))})):pl(t)))}getChildConfig(e,t,r){return t.children?q({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?q({routes:t._loadedRoutes,injector:t._loadedInjector}):function uX(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?q(!0):q(i.map(o=>{const a=$a(o,n);return os(function KY(n){return n&&fl(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(ja(),dF())}(e,t,r).pipe(Vt(i=>i?this.configLoader.loadChildren(e,t).pipe(Ht(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function gX(n){return el(sF(ap,3))}())):q({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return q(r);if(i.numberOfChildren>1||!i.children[ae])return e.redirectTo,el(new x(4e3,ap));i=i.children[ae]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new as(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Gt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Gt(t.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new fe(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new x(4001,ap);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class vX{}class EX{constructor(e,t,r,i,s,o,a){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=sp(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ae).pipe(ee(t=>{if(null===t)return null;const r=new tp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ae,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ti(r,t),s=new nF(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=tF(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return ht(Object.keys(r.children)).pipe(Zi(i=>{const s=r.children[i],o=cF(t,i);return this.processSegmentGroup(e,o,s,i)}),MO((i,s)=>i&&s?(i.push(...s),i):null),function $Q(n,e=!1){return St((t,r)=>{let i=0;t.subscribe(It(r,s=>{const o=n(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),zf(null),PO(),ee(i=>{if(null===i)return null;const s=_F(i);return function CX(n){n.sort((e,t)=>e.value.outlet===ae?-1:t.value.outlet===ae?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return ht(t).pipe(Zi(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),is(o=>!!o),ss(o=>{if(Sw(o))return pF(r,i,s)?q([]):q(null);throw o}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!fF(t,r,i,s))return q(null);let o;if("**"===t.path){const a=i.length>0?NO(i).parameters:{},u=wF(r)+i.length;o=q({snapshot:new tp(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,IF(t),ar(t),t.component??t._loadedComponent??null,t,vF(r),u,EF(t)),consumedSegments:[],remainingSegments:[]})}else o=hF(r,t,i,e).pipe(ee(({matched:a,consumedSegments:u,remainingSegments:c,parameters:l})=>{if(!a)return null;const d=wF(r)+u.length;return{snapshot:new tp(u,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,IF(t),ar(t),t.component??t._loadedComponent??null,t,vF(r),d,EF(t)),consumedSegments:u,remainingSegments:c}}));return o.pipe(Ur(a=>{if(null===a)return q(null);const{snapshot:u,consumedSegments:c,remainingSegments:l}=a;e=t._injector??e;const d=t._loadedInjector??e,h=function bX(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:f,slicedSegments:p}=sp(r,c,l,h.filter(y=>void 0===y.redirectTo));if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(ee(y=>null===y?null:[new Ti(u,y)]));if(0===h.length&&0===p.length)return q([new Ti(u,[])]);const m=ar(t)===s;return this.processSegment(d,h,f,p,m?ae:s).pipe(ee(y=>null===y?null:[new Ti(u,y)]))}))}}function DX(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function _F(n){const e=[],t=new Set;for(const r of n){if(!DX(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=_F(r.children);e.push(new Ti(r.value,i))}return e.filter(r=>!t.has(r))}function vF(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function wF(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function IF(n){return n.data||{}}function EF(n){return n.resolve||{}}function CF(n){return"string"==typeof n.title||null===n.title}function Mw(n){return Ur(e=>{const t=n(e);return t?ht(t).pipe(ee(()=>e)):q(e)})}const Ha=new B("ROUTES");let Pw=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=de(OR)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return q(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=os(t.loadComponent()).pipe(ee(DF),Ht(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),uw(()=>{this.componentLoaders.delete(t)})),i=new AO(r,()=>new ni).pipe(ow());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(ee(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c,l=!1;Array.isArray(a)?c=a:(u=a.create(t).injector,c=kO(u.get(Ha,[],Y.Self|Y.Optional)));return{routes:c.map(Tw),injector:u}}),uw(()=>{this.childrenLoaders.delete(r)})),o=new AO(s,()=>new ni).pipe(ow());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return os(t()).pipe(ee(DF),Vt(r=>r instanceof GP||Array.isArray(r)?q(r):ht(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function DF(n){return function kX(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let lp=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new ni,this.configLoader=de(Pw),this.environmentInjector=de(Pr),this.urlSerializer=de(rl),this.rootContexts=de(cl),this.navigationId=0,this.afterPreactivation=()=>q(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new wY(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new vY(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new or({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:al,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(bi(r=>0!==r.id),ee(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Ur(r=>{let i=!1,s=!1;return q(r).pipe(Ht(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ur(o=>{const a=t.browserUrlTree.toString(),u=!t.navigated||o.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!u&&"reload"!==(o.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const l="";return this.events.next(new ep(o.id,t.serializeUrl(r.rawUrl),l,0)),t.rawUrlTree=o.rawUrl,o.resolve(null),Dr}if(t.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return TF(o.source)&&(t.browserUrlTree=o.extractedUrl),q(o).pipe(Ur(l=>{const d=this.transitions?.getValue();return this.events.next(new gw(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),d!==this.transitions?.getValue()?Dr:Promise.resolve(l)}),function _X(n,e,t,r){return Ur(i=>function mX(n,e,t,r,i){return new yX(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(ee(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),Ht(l=>{this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},r.urlAfterRedirects=l.urlAfterRedirects}),function SX(n,e,t,r,i){return Vt(s=>function IX(n,e,t,r,i,s,o="emptyOnly"){return new EX(n,e,t,r,i,o,s).recognize().pipe(Ur(a=>null===a?function wX(n){return new Oe(e=>e.error(n))}(new vX):q(a)))}(n,e,t,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(ee(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Ht(l=>{if(r.targetSnapshot=l.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!l.extras.skipLocationChange){const h=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);t.setBrowserUrl(h,l)}t.browserUrlTree=l.urlAfterRedirects}const d=new pY(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(u&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:l,extractedUrl:d,source:h,restoredState:f,extras:p}=o,m=new gw(l,this.urlSerializer.serialize(d),h,f);this.events.next(m);const y=eF(d,this.rootComponentType).snapshot;return q(r={...o,targetSnapshot:y,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const l="";return this.events.next(new ep(o.id,t.serializeUrl(r.extractedUrl),l,1)),t.rawUrlTree=o.rawUrl,o.resolve(null),Dr}}),Ht(o=>{const a=new gY(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),ee(o=>r={...o,guards:HY(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function eX(n,e){return Vt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?q({...t,guardsResult:!0}):function tX(n,e,t,r){return ht(n).pipe(Vt(i=>function aX(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?q(s.map(a=>{const u=ll(e)??i,c=$a(a,u);return os(function XY(n){return n&&fl(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):u.runInContext(()=>c(n,e,t,r))).pipe(is())})).pipe(ja()):q(!0)}(i.component,i.route,t,e,r)),is(i=>!0!==i,!0))}(o,r,i,n).pipe(Vt(a=>a&&function WY(n){return"boolean"==typeof n}(a)?function nX(n,e,t,r){return ht(e).pipe(Zi(i=>sw(function iX(n,e){return null!==n&&e&&e(new IY(n)),q(!0)}(i.route.parent,r),function rX(n,e){return null!==n&&e&&e(new CY(n)),q(!0)}(i.route,r),function oX(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function GY(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>SO(()=>q(o.guards.map(u=>{const c=ll(o.node)??t,l=$a(u,c);return os(function YY(n){return n&&fl(n.canActivateChild)}(l)?l.canActivateChild(r,n):c.runInContext(()=>l(r,n))).pipe(is())})).pipe(ja())));return q(s).pipe(ja())}(n,i.path,t),function sX(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return q(!0);const i=r.map(s=>SO(()=>{const o=ll(e)??t,a=$a(s,o);return os(function QY(n){return n&&fl(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(is())}));return q(i).pipe(ja())}(n,i.route,t))),is(i=>!0!==i,!0))}(r,s,n,e):q(a)),ee(a=>({...t,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),Ht(o=>{if(r.guardsResult=o.guardsResult,no(o.guardsResult))throw iF(0,o.guardsResult);const a=new mY(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),bi(o=>!!o.guardsResult||(t.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),Mw(o=>{if(o.guards.canActivateChecks.length)return q(o).pipe(Ht(a=>{const u=new yY(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),Ur(a=>{let u=!1;return q(a).pipe(function AX(n,e){return Vt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return q(t);let s=0;return ht(i).pipe(Zi(o=>function xX(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!CF(i)&&(s[tl]=i.title),function MX(n,e,t,r){const i=function PX(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return q({});const s={};return ht(i).pipe(Vt(o=>function RX(n,e,t,r){const i=ll(e)??r,s=$a(n,i);return os(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(is(),Ht(a=>{s[o]=a}))),aw(1),function jQ(n){return ee(()=>n)}(s),ss(o=>Sw(o)?Dr:el(o)))}(s,n,e,r).pipe(ee(o=>(n._resolvedData=o,n.data=tF(n,t).resolve,i&&CF(i)&&(n.data[tl]=i.title),null)))}(o.route,r,n,e)),Ht(()=>s++),aw(1),Vt(o=>s===i.length?q(t):Dr))})}(t.paramsInheritanceStrategy,this.environmentInjector),Ht({next:()=>u=!0,complete:()=>{u||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Ht(a=>{const u=new _Y(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),Mw(o=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(Ht(l=>{u.component=l}),ee(()=>{})));for(const l of u.children)c.push(...a(l));return c};return DO(a(o.targetSnapshot.root)).pipe(zf(),eo(1))}),Mw(()=>this.afterPreactivation()),ee(o=>{const a=function RY(n,e,t){const r=ul(n,e._root,t?t._root:void 0);return new ZO(r,e)}(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),Ht(o=>{t.currentUrlTree=o.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),t.routerState=o.targetRouterState,"deferred"===t.urlUpdateStrategy&&(o.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,o),t.browserUrlTree=o.urlAfterRedirects)}),((n,e,t)=>ee(r=>(new jY(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o)),eo(1),Ht({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new ro(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),uw(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),ss(o=>{if(s=!0,aF(o)){oF(o)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new Zf(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),oF(o)){const u=t.urlHandlingStrategy.merge(o.url,t.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||TF(r.source)};t.scheduleNavigation(u,al,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new mw(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(o))}catch(u){r.reject(u)}}return Dr}))}))}cancelNavigationTransition(t,r,i){const s=new Zf(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function TF(n){return n!==al}let SF=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ae);return r}getResolvedTitleForRoute(t){return t.data[tl]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:function(){return de(NX)},providedIn:"root"}),n})(),NX=(()=>{class n extends SF{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(L(nN))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),OX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:function(){return de(LX)},providedIn:"root"}),n})();class FX{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let LX=(()=>{class n extends FX{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=$t(n)))(r||n)}}(),n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dp=new B("",{providedIn:"root",factory:()=>({})});let UX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:function(){return de(BX)},providedIn:"root"}),n})(),BX=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $X(n){throw n}function jX(n,e,t){return e.parse("/")}const HX={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},GX={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let yt=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=de(eW),this.isNgZoneEnabled=!1,this.options=de(dp,{optional:!0})||{},this.errorHandler=this.options.errorHandler||$X,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||jX,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=de(UX),this.routeReuseStrategy=de(OX),this.urlCreationStrategy=de(xY),this.titleStrategy=de(SF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=kO(de(Ha,{optional:!0})??[]),this.navigationTransitions=de(lp),this.urlSerializer=de(rl),this.location=de(lv),this.isNgZoneEnabled=de(Ue)instanceof Ue&&Ue.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new as,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=eF(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),al,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Tw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}return null!==l&&(l=this.removeEmptyProps(l)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,l,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=no(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,al,null,r)}navigate(t,r={skipLocationChange:!1}){return function zX(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new x(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...HX}:!1===r?{...GX}:r,no(t))return FO(this.currentUrlTree,t,i);const s=this.parseUrl(t);return FO(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c,l;return o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h}),l="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:l,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gl=(()=>{class n{constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new ni;const u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof ro&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=Ma(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=Ma(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=Ma(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function gM(n,e,t){return function sz(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?pM:pc}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(E(yt),E(jr),function wh(n){return function M3(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(sx(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(Bt(),n)}("tabindex"),E(fi),E(Hn),E(Qs))},n.\u0275dir=J({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&te("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&Nr("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[Bn]}),n})();class AF{}let KX=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(bi(t=>t instanceof ro),Zi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Xh(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return ht(i).pipe(jo())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):q(null);const s=i.pipe(Vt(o=>null===o?q(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?ht([s,this.loader.loadComponent(r)]).pipe(jo()):s})}}return n.\u0275fac=function(t){return new(t||n)(L(yt),L(OR),L(Pr),L(AF),L(Pw))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kw=new B("");let xF=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof gw?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ro&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof XO&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new XO(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){!function WM(){throw new Error("invalid")}()},n.\u0275prov=$({token:n,factory:n.\u0275fac}),n})();var qn=(()=>((qn=qn||{})[qn.COMPLETE=0]="COMPLETE",qn[qn.FAILED=1]="FAILED",qn[qn.REDIRECTING=2]="REDIRECTING",qn))();const Ga=!1;function us(n,e){return{\u0275kind:n,\u0275providers:e}}const Nw=new B("",{providedIn:"root",factory:()=>!1});function PF(){const n=de(Gn);return e=>{const t=n.get(sf);if(e!==t.components[0])return;const r=n.get(yt),i=n.get(RF);1===n.get(Ow)&&r.initialNavigation(),n.get(kF,null,Y.Optional)?.setUpPreloading(),n.get(kw,null,Y.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const RF=new B(Ga?"bootstrap done indicator":"",{factory:()=>new ni}),Ow=new B(Ga?"initial navigation":"",{providedIn:"root",factory:()=>1});function ZX(){let n=[];return n=Ga?[{provide:Ph,multi:!0,useFactory:()=>{const e=de(yt);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function DY(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],us(1,n)}const kF=new B(Ga?"router preloader":"");function eJ(n){return us(0,[{provide:kF,useExisting:KX},{provide:AF,useExisting:n}])}const ml=!1,NF=new B(ml?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),tJ=[lv,{provide:rl,useClass:cw},yt,cl,{provide:jr,useFactory:function MF(n){return n.routerState.root},deps:[yt]},Pw,ml?{provide:Nw,useValue:!0}:[]];function nJ(){return new HR("Router",yt)}let OF=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[tJ,ml&&r?.enableTracing?ZX().\u0275providers:[],{provide:Ha,multi:!0,useValue:t},{provide:NF,useFactory:oJ,deps:[[yt,new nn,new oc]]},{provide:dp,useValue:r||{}},r?.useHash?{provide:Qs,useClass:$W}:{provide:Qs,useClass:hk},{provide:kw,useFactory:()=>{const n=de(r8),e=de(Ue),t=de(dp),r=de(lp),i=de(rl);return t.scrollOffset&&n.setOffset(t.scrollOffset),new xF(i,r,n,e,t)}},r?.preloadingStrategy?eJ(r.preloadingStrategy).\u0275providers:[],{provide:HR,multi:!0,useFactory:nJ},r?.initialNavigation?aJ(r):[],[{provide:FF,useFactory:PF},{provide:jR,multi:!0,useExisting:FF}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Ha,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(L(NF,8))},n.\u0275mod=fn({type:n}),n.\u0275inj=Jt({imports:[bw]}),n})();function oJ(n){if(ml&&n)throw new x(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function aJ(n){return["disabled"===n.initialNavigation?us(3,[{provide:tf,multi:!0,useFactory:()=>{const e=de(yt);return()=>{e.setUpLocationChangeListener()}}},{provide:Ow,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?us(2,[{provide:Ow,useValue:0},{provide:tf,multi:!0,deps:[Gn],useFactory:e=>{const t=e.get(UW,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(yt),s=e.get(RF);(function QX(n,e){n.events.pipe(bi(t=>t instanceof ro||t instanceof Zf||t instanceof mw||t instanceof ep),ee(t=>t instanceof ro||t instanceof ep?qn.COMPLETE:t instanceof Zf&&(0===t.code||1===t.code)?qn.REDIRECTING:qn.FAILED),bi(t=>t!==qn.REDIRECTING),eo(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(lp).afterPreactivation=()=>(r(!0),s.closed?q(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const FF=new B(ml?"Router Initializer":"");function LF(n,e,t,r,i,s,o){try{var a=n[s](o),u=a.value}catch(c){return void t(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function g(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(u){LF(s,r,i,o,a,"next",u)}function a(u){LF(s,r,i,o,a,"throw",u)}o(void 0)})}}const VF=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},Lw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,u=i+2<n.length,c=u?n[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(VF(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new hJ;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class hJ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hp=function(n){return function(n){const e=VF(n);return Lw.encodeByteArray(e,!0)}(n).replace(/\./g,"")},fp=function(n){try{return Lw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},pp=()=>{try{return function gJ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&fp(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},BF=n=>{var e,t;return null===(t=null===(e=pp())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},vJ=n=>{const e=BF(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]},$F=()=>{var n;return null===(n=pp())||void 0===n?void 0:n.config},jF=n=>{var e;return null===(e=pp())||void 0===e?void 0:e[`_${n}`]};class gp{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function At(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Vw(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function io(){try{return"object"==typeof indexedDB}catch{return!1}}function yl(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}function Uw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ur extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,ur.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hr.prototype.create)}}class Hr{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function TJ(n,e){return n.replace(SJ,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new ur(i,`${this.serviceName}: ${o} (${i}).`,r)}}const SJ=/\{\$([^}]+)}/g;function yp(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(GF(s)&&GF(o)){if(!yp(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function GF(n){return null!==n&&"object"==typeof n}function _p(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _l(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function vl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class MJ{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function PJ(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=Bw),void 0===i.error&&(i.error=Bw),void 0===i.complete&&(i.complete=Bw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Bw(){}const RJ=1e3,kJ=2,NJ=144e5,OJ=.5;function jw(n,e=RJ,t=kJ){const r=e*Math.pow(t,n),i=Math.round(OJ*r*(Math.random()-.5)*2);return Math.min(NJ,r+i)}function at(n){return n&&n._delegate?n._delegate:n}class an{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const so="[DEFAULT]";class LJ{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new gp;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function UJ(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:so})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=so){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=so){return this.instances.has(e)}getOptions(e=so){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===so?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=so){return this.component?this.component.multipleInstances?e:so:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class BJ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new LJ(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Hw=[];var me=(()=>{return(n=me||(me={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",me;var n})();const zF={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},$J=me.INFO,jJ={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},HJ=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=jJ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class za{constructor(e){this.name=e,this._logLevel=$J,this._logHandler=HJ,this._userLogHandler=null,Hw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?zF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}const GJ=(n,e)=>e.some(t=>n instanceof t);let qF,WF;const KF=new WeakMap,Gw=new WeakMap,QF=new WeakMap,zw=new WeakMap,qw=new WeakMap;let Ww={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Gw.get(n);if("objectStoreNames"===e)return n.objectStoreNames||QF.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return cs(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function XJ(n){return"function"==typeof n?function YJ(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function qJ(){return WF||(WF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(Kw(this),e),cs(KF.get(this))}:function(...e){return cs(n.apply(Kw(this),e))}:function(e,...t){const r=n.call(Kw(this),e,...t);return QF.set(r,e.sort?e.sort():[e]),cs(r)}}(n):(n instanceof IDBTransaction&&function KJ(n){if(Gw.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});Gw.set(n,e)}(n),GJ(n,function zJ(){return qF||(qF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Ww):n)}function cs(n){if(n instanceof IDBRequest)return function WJ(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(cs(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&KF.set(t,n)}).catch(()=>{}),qw.set(e,n),e}(n);if(zw.has(n))return zw.get(n);const e=XJ(n);return e!==n&&(zw.set(n,e),qw.set(e,n)),e}const Kw=n=>qw.get(n),ZJ=["get","getKey","getAll","getAllKeys","count"],eZ=["put","add","delete","clear"],Qw=new Map;function YF(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Qw.get(e))return Qw.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=eZ.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ZJ.includes(t))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[t](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Qw.set(e,s),s}!function QJ(n){Ww=n(Ww)}(n=>({...n,get:(e,t,r)=>YF(e,t)||n.get(e,t,r),has:(e,t)=>!!YF(e,t)||n.has(e,t)}));class tZ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function nZ(n){return"VERSION"===n.getComponent()?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const Yw="@firebase/app",oo=new za("@firebase/app"),vp="[DEFAULT]",AZ={[Yw]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ao=new Map,wp=new Map;function xZ(n,e){try{n.container.addComponent(e)}catch(t){oo.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function In(n){const e=n.name;if(wp.has(e))return oo.debug(`There were multiple attempts to register component ${e}.`),!1;wp.set(e,n);for(const t of ao.values())xZ(t,n);return!0}function qa(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const Si=new Hr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class PZ{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new an("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Si.create("app-deleted",{appName:this._name})}}const uo="9.22.1";function JF(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:vp,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Si.create("bad-app-name",{appName:String(i)});if(t||(t=$F()),!t)throw Si.create("no-options");const s=ao.get(i);if(s){if(yp(t,s.options)&&yp(r,s.config))return s;throw Si.create("duplicate-app",{appName:i})}const o=new BJ(i);for(const u of wp.values())o.addComponent(u);const a=new PZ(t,r,o);return ao.set(i,a),a}function Xw(n=vp){const e=ao.get(n);if(!e&&n===vp&&$F())return JF();if(!e)throw Si.create("no-app",{appName:n});return e}function ZF(){return Array.from(ao.values())}function Je(n,e,t){var r;let i=null!==(r=AZ[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void oo.warn(a.join(" "))}In(new an(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const RZ="firebase-heartbeat-database",kZ=1,wl="firebase-heartbeat-store";let Zw=null;function eL(){return Zw||(Zw=function JJ(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=cs(o);return r&&o.addEventListener("upgradeneeded",u=>{r(cs(o.result),u.oldVersion,u.newVersion,cs(o.transaction),u)}),t&&o.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(RZ,kZ,{upgrade:(n,e)=>{0===e&&n.createObjectStore(wl)}}).catch(n=>{throw Si.create("idb-open",{originalErrorMessage:n.message})})),Zw}function eI(){return(eI=g(function*(n){try{return yield(yield eL()).transaction(wl).objectStore(wl).get(nL(n))}catch(e){if(e instanceof ur)oo.warn(e.message);else{const t=Si.create("idb-get",{originalErrorMessage:e?.message});oo.warn(t.message)}}})).apply(this,arguments)}function tL(n,e){return tI.apply(this,arguments)}function tI(){return(tI=g(function*(n,e){try{const r=(yield eL()).transaction(wl,"readwrite");yield r.objectStore(wl).put(e,nL(n)),yield r.done}catch(t){if(t instanceof ur)oo.warn(t.message);else{const r=Si.create("idb-set",{originalErrorMessage:t?.message});oo.warn(r.message)}}})).apply(this,arguments)}function nL(n){return`${n.name}!${n.options.appId}`}class LZ{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new UZ(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return g(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=rL();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=rL(),{heartbeatsToSend:r,unsentEntries:i}=function VZ(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),iL(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),iL(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=hp(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function rL(){return(new Date).toISOString().substring(0,10)}class UZ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!io()&&yl().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function NZ(n){return eI.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return g(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return tL(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return g(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return tL(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function iL(n){return hp(JSON.stringify({version:2,heartbeats:n})).length}!function BZ(n){In(new an("platform-logger",e=>new tZ(e),"PRIVATE")),In(new an("heartbeat",e=>new LZ(e),"PRIVATE")),Je(Yw,"0.9.11",n),Je(Yw,"0.9.11","esm2017"),Je("fire-js","")}(""),Je("firebase","9.22.1","app");const HZ=(n,e)=>e.some(t=>n instanceof t);let sL,oL;const aL=new WeakMap,nI=new WeakMap,uL=new WeakMap,rI=new WeakMap,iI=new WeakMap;let sI={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return nI.get(n);if("objectStoreNames"===e)return n.objectStoreNames||uL.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ls(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function YZ(n){return"function"==typeof n?function QZ(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function zZ(){return oL||(oL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(oI(this),e),ls(aL.get(this))}:function(...e){return ls(n.apply(oI(this),e))}:function(e,...t){const r=n.call(oI(this),e,...t);return uL.set(r,e.sort?e.sort():[e]),ls(r)}}(n):(n instanceof IDBTransaction&&function WZ(n){if(nI.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});nI.set(n,e)}(n),HZ(n,function GZ(){return sL||(sL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,sI):n)}function ls(n){if(n instanceof IDBRequest)return function qZ(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(ls(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&aL.set(t,n)}).catch(()=>{}),iI.set(e,n),e}(n);if(rI.has(n))return rI.get(n);const e=YZ(n);return e!==n&&(rI.set(n,e),iI.set(e,n)),e}const oI=n=>iI.get(n),JZ=["get","getKey","getAll","getAllKeys","count"],ZZ=["put","add","delete","clear"],aI=new Map;function cL(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(aI.get(e))return aI.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=ZZ.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!JZ.includes(t))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[t](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return aI.set(e,s),s}!function KZ(n){sI=n(sI)}(n=>({...n,get:(e,t,r)=>cL(e,t)||n.get(e,t,r),has:(e,t)=>!!cL(e,t)||n.has(e,t)}));const lL="@firebase/installations",uI="0.6.4",dL=1e4,hL=`w:${uI}`,fL="FIS_v2",eee="https://firebaseinstallations.googleapis.com/v1",tee=36e5,Ai=new Hr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function pL(n){return n instanceof ur&&n.code.includes("request-failed")}function cI({projectId:n}){return`${eee}/projects/${n}/installations`}function gL(n){return{token:n.token,requestStatus:2,expiresIn:see(n.expiresIn),creationTime:Date.now()}}function lI(n,e){return dI.apply(this,arguments)}function dI(){return(dI=g(function*(n,e){const r=(yield e.json()).error;return Ai.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function mL({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function hI(n){return fI.apply(this,arguments)}function fI(){return(fI=g(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function see(n){return Number(n.replace("s","000"))}function pI(){return(pI=g(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=cI(n),i=mL(n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:fL,appId:n.appId,sdkVersion:hL})},u=yield hI(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||t,registrationStatus:2,refreshToken:c.refreshToken,authToken:gL(c.authToken)}}throw yield lI("Create Installation",u)})).apply(this,arguments)}function _L(n){return new Promise(e=>{setTimeout(e,n)})}const cee=/^[cdef][\w-]{21}$/,gI="";function lee(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function dee(n){return function uee(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return cee.test(t)?t:gI}catch{return gI}}function Wa(n){return`${n.appName}!${n.appId}`}const Ka=new Map;function vL(n,e){const t=Wa(n);wL(t,e),function pee(n,e){const t=function IL(){return!co&&"BroadcastChannel"in self&&(co=new BroadcastChannel("[Firebase] FID Change"),co.onmessage=n=>{wL(n.data.key,n.data.fid)}),co}();t&&t.postMessage({key:n,fid:e}),function EL(){0===Ka.size&&co&&(co.close(),co=null)}()}(t,e)}function wL(n,e){const t=Ka.get(n);if(t)for(const r of t)r(e)}let co=null;const gee="firebase-installations-database",mee=1,lo="firebase-installations-store";let mI=null;function yI(){return mI||(mI=function XZ(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=ls(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ls(o.result),u.oldVersion,u.newVersion,ls(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(gee,mee,{upgrade:(n,e)=>{0===e&&n.createObjectStore(lo)}})),mI}function Ip(n,e){return _I.apply(this,arguments)}function _I(){return(_I=g(function*(n,e){const t=Wa(n),i=(yield yI()).transaction(lo,"readwrite"),s=i.objectStore(lo),o=yield s.get(t);return yield s.put(e,t),yield i.done,(!o||o.fid!==e.fid)&&vL(n,e.fid),e})).apply(this,arguments)}function vI(n){return wI.apply(this,arguments)}function wI(){return(wI=g(function*(n){const e=Wa(n),r=(yield yI()).transaction(lo,"readwrite");yield r.objectStore(lo).delete(e),yield r.done})).apply(this,arguments)}function Il(n,e){return II.apply(this,arguments)}function II(){return(II=g(function*(n,e){const t=Wa(n),i=(yield yI()).transaction(lo,"readwrite"),s=i.objectStore(lo),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield i.done,a&&(!o||o.fid!==a.fid)&&vL(n,a.fid),a})).apply(this,arguments)}function EI(n){return CI.apply(this,arguments)}function CI(){return CI=g(function*(n){let e;const t=yield Il(n.appConfig,r=>{const i=function yee(n){return bL(n||{fid:lee(),registrationStatus:0})}(r),s=function _ee(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Ai.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function vee(n,e){return bI.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:wee(n)}:{installationEntry:e}}(n,i);return e=s.registrationPromise,s.installationEntry});return t.fid===gI?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),CI.apply(this,arguments)}function bI(){return bI=g(function*(n,e){try{const t=yield function aee(n,e){return pI.apply(this,arguments)}(n,e);return Ip(n.appConfig,t)}catch(t){throw pL(t)&&409===t.customData.serverCode?yield vI(n.appConfig):yield Ip(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),bI.apply(this,arguments)}function wee(n){return DI.apply(this,arguments)}function DI(){return(DI=g(function*(n){let e=yield CL(n.appConfig);for(;1===e.registrationStatus;)yield _L(100),e=yield CL(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield EI(n);return r||t}return e})).apply(this,arguments)}function CL(n){return Il(n,e=>{if(!e)throw Ai.create("installation-not-found");return bL(e)})}function bL(n){return function Iee(n){return 1===n.registrationStatus&&n.registrationTime+dL<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function TI(){return(TI=g(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=function Cee(n,{fid:e}){return`${cI(n)}/${e}/authTokens:generate`}(n,t),i=function yL(n,{refreshToken:e}){const t=mL(n);return t.append("Authorization",function oee(n){return`${fL} ${n}`}(e)),t}(n,t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:hL,appId:n.appId}})},u=yield hI(()=>fetch(r,a));if(u.ok)return gL(yield u.json());throw yield lI("Generate Auth Token",u)})).apply(this,arguments)}function SI(n){return AI.apply(this,arguments)}function AI(){return AI=g(function*(n,e=!1){let t;const r=yield Il(n.appConfig,s=>{if(!TL(s))throw Ai.create("not-registered");const o=s.authToken;if(!e&&function Tee(n){return 2===n.requestStatus&&!function See(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+tee}(n)}(o))return s;if(1===o.requestStatus)return t=function bee(n,e){return xI.apply(this,arguments)}(n,e),s;{if(!navigator.onLine)throw Ai.create("app-offline");const a=function Aee(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(s);return t=function Dee(n,e){return MI.apply(this,arguments)}(n,a),a}});return t?yield t:r.authToken}),AI.apply(this,arguments)}function xI(){return(xI=g(function*(n,e){let t=yield DL(n.appConfig);for(;1===t.authToken.requestStatus;)yield _L(100),t=yield DL(n.appConfig);const r=t.authToken;return 0===r.requestStatus?SI(n,e):r})).apply(this,arguments)}function DL(n){return Il(n,e=>{if(!TL(e))throw Ai.create("not-registered");return function xee(n){return 1===n.requestStatus&&n.requestTime+dL<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function MI(){return MI=g(function*(n,e){try{const t=yield function Eee(n,e){return TI.apply(this,arguments)}(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield Ip(n.appConfig,r),t}catch(t){if(!pL(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Ip(n.appConfig,r)}else yield vI(n.appConfig);throw t}}),MI.apply(this,arguments)}function TL(n){return void 0!==n&&2===n.registrationStatus}function PI(){return(PI=g(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield EI(e);return r?r.catch(console.error):SI(e).catch(console.error),t.fid})).apply(this,arguments)}function RI(){return RI=g(function*(n,e=!1){const t=n;return yield function Ree(n){return kI.apply(this,arguments)}(t),(yield SI(t,e)).token}),RI.apply(this,arguments)}function kI(){return(kI=g(function*(n){const{registrationPromise:e}=yield EI(n);e&&(yield e)})).apply(this,arguments)}function FI(n){return Ai.create("missing-app-config-values",{valueName:n})}const SL="installations",Lee=n=>{const e=n.getProvider("app").getImmediate(),t=function Oee(n){if(!n||!n.options)throw FI("App Configuration");if(!n.name)throw FI("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw FI(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:qa(e,"heartbeat"),_delete:()=>Promise.resolve()}},Vee=n=>{const t=qa(n.getProvider("app").getImmediate(),SL).getImmediate();return{getId:()=>function Mee(n){return PI.apply(this,arguments)}(t),getToken:i=>function Pee(n){return RI.apply(this,arguments)}(t,i)}};(function Uee(){In(new an(SL,Lee,"PUBLIC")),In(new an("installations-internal",Vee,"PRIVATE"))})(),Je(lL,uI),Je(lL,uI,"esm2017");const LI="@firebase/remote-config",Rn=new Hr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Yee{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return g(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield t.client.fetch(e),o=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function Xee(n=navigator){return n.languages&&n.languages[0]||n.language}class Jee{constructor(e,t,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var t=this;return g(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:Xee()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((_,C)=>{e.signal.addEventListener(()=>{const v=new Error("The operation was aborted.");v.name="AbortError",C(v)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(_){let C="fetch-client-network";throw"AbortError"===_?.name&&(C="fetch-timeout"),Rn.create(C,{originalErrorMessage:_?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,y;if(200===h.status){let _;try{_=yield h.json()}catch(C){throw Rn.create("fetch-client-parse",{originalErrorMessage:C?.message})}m=_.entries,y=_.state}if("INSTANCE_STATE_UNSPECIFIED"===y?f=500:"NO_CHANGE"===y?f=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(m={}),304!==f&&200!==f)throw Rn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class tte{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return g(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return g(function*(){yield function Zee(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Rn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function ete(n){if(!(n instanceof ur&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+jw(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class ite{constructor(e,t,r,i,s){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Cp(n,e){const t=n.target.error||void 0;return Rn.create(e,{originalErrorMessage:t&&t?.message})}const ho="app_namespace_store";class ute{constructor(e,t,r,i=function ate(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(Cp(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ho,{keyPath:"compositeKey"})}}catch(t){e(Rn.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return g(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([ho],"readonly").objectStore(ho),u=t.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(Cp(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(Rn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,t){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([ho],"readwrite").objectStore(ho),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:t});l.onerror=d=>{o(Cp(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(Rn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var t=this;return g(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([ho],"readwrite").objectStore(ho),u=t.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(Cp(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(Rn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class cte{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function dte(){return jI.apply(this,arguments)}function jI(){return(jI=g(function*(){if(!io())return!1;try{return yield yl()}catch{return!1}})).apply(this,arguments)}!function lte(){In(new an("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Rn.create("registration-window");if(!io())throw Rn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Rn.create("registration-project-id");if(!o)throw Rn.create("registration-api-key");if(!a)throw Rn.create("registration-app-id");const u=new ute(a,r.name,t=t||"firebase"),c=new cte(u),l=new za(LI);l.logLevel=me.ERROR;const d=new Jee(i,uo,t,s,o,a),h=new tte(d,u),f=new Yee(h,u,c,l),p=new ite(r,f,c,u,l);return function Wee(n){const e=at(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Je(LI,"0.4.4"),Je(LI,"0.4.4","esm2017")}();const hte=(n,e)=>e.some(t=>n instanceof t);let PL,RL;const kL=new WeakMap,HI=new WeakMap,NL=new WeakMap,GI=new WeakMap,zI=new WeakMap;let qI={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return HI.get(n);if("objectStoreNames"===e)return n.objectStoreNames||NL.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return xi(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function vte(n){return"function"==typeof n?function _te(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pte(){return RL||(RL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(WI(this),e),xi(kL.get(this))}:function(...e){return xi(n.apply(WI(this),e))}:function(e,...t){const r=n.call(WI(this),e,...t);return NL.set(r,e.sort?e.sort():[e]),xi(r)}}(n):(n instanceof IDBTransaction&&function mte(n){if(HI.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});HI.set(n,e)}(n),hte(n,function fte(){return PL||(PL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,qI):n)}function xi(n){if(n instanceof IDBRequest)return function gte(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(xi(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&kL.set(t,n)}).catch(()=>{}),zI.set(e,n),e}(n);if(GI.has(n))return GI.get(n);const e=vte(n);return e!==n&&(GI.set(n,e),zI.set(e,n)),e}const WI=n=>zI.get(n);function OL(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=xi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(xi(o.result),u.oldVersion,u.newVersion,xi(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function KI(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),xi(t).then(()=>{})}const wte=["get","getKey","getAll","getAllKeys","count"],Ite=["put","add","delete","clear"],QI=new Map;function FL(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(QI.get(e))return QI.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Ite.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!wte.includes(t))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[t](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return QI.set(e,s),s}!function yte(n){qI=n(qI)}(n=>({...n,get:(e,t,r)=>FL(e,t)||n.get(e,t,r),has:(e,t)=>!!FL(e,t)||n.has(e,t)}));const Ete="/firebase-messaging-sw.js",Cte="/firebase-cloud-messaging-push-scope",LL="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",bte="https://fcmregistrations.googleapis.com/v1",VL="google.c.a.c_id",Dte="google.c.a.c_l",Tte="google.c.a.ts",Ste="google.c.a.e";var Qa=(()=>{return(n=Qa||(Qa={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",Qa;var n})();function Mi(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ate(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const YI="fcm_token_details_db",xte=5,UL="fcm_token_object_Store";function XI(){return XI=g(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(YI))return null;let e=null;return(yield OL(YI,xte,{upgrade:(r=g(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(UL))return;const c=a.objectStore(UL),l=yield c.index("fcmSenderId").get(n);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Mi(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Mi(d.auth),p256dh:Mi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Mi(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Mi(d.auth),p256dh:Mi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Mi(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield KI(YI),yield KI("fcm_vapid_details_db"),yield KI("undefined"),function Pte(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),XI.apply(this,arguments)}const Rte="firebase-messaging-database",kte=1,fo="firebase-messaging-store";let JI=null;function ZI(){return JI||(JI=OL(Rte,kte,{upgrade:(n,e)=>{0===e&&n.createObjectStore(fo)}})),JI}function BL(n){return eE.apply(this,arguments)}function eE(){return eE=g(function*(n){const e=iE(n),r=yield(yield ZI()).transaction(fo).objectStore(fo).get(e);if(r)return r;{const i=yield function Mte(n){return XI.apply(this,arguments)}(n.appConfig.senderId);if(i)return yield tE(n,i),i}}),eE.apply(this,arguments)}function tE(n,e){return nE.apply(this,arguments)}function nE(){return(nE=g(function*(n,e){const t=iE(n),i=(yield ZI()).transaction(fo,"readwrite");return yield i.objectStore(fo).put(e,t),yield i.done,e})).apply(this,arguments)}function rE(){return(rE=g(function*(n){const e=iE(n),r=(yield ZI()).transaction(fo,"readwrite");yield r.objectStore(fo).delete(e),yield r.done})).apply(this,arguments)}function iE({appConfig:n}){return n.appId}const zt=new Hr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Fte(n,e){return sE.apply(this,arguments)}function sE(){return(sE=g(function*(n,e){const t=yield cE(n),r=jL(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(uE(n.appConfig),i)).json()}catch(o){throw zt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw zt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw zt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function oE(){return(oE=g(function*(n,e){const t=yield cE(n),r=jL(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${uE(n.appConfig)}/${e.token}`,i)).json()}catch(o){throw zt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw zt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw zt.create("token-update-no-token");return s.token})).apply(this,arguments)}function $L(n,e){return aE.apply(this,arguments)}function aE(){return(aE=g(function*(n,e){const r={method:"DELETE",headers:yield cE(n)};try{const s=yield(yield fetch(`${uE(n.appConfig)}/${e}`,r)).json();if(s.error)throw zt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw zt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function uE({projectId:n}){return`${bte}/projects/${n}/registrations`}function cE(n){return lE.apply(this,arguments)}function lE(){return(lE=g(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function jL({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==LL&&(i.web.applicationPubKey=r),i}const Vte=6048e5;function dE(){return dE=g(function*(n){const e=yield function $te(n,e){return gE.apply(this,arguments)}(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Mi(e.getKey("auth")),p256dh:Mi(e.getKey("p256dh"))},r=yield BL(n.firebaseDependencies);if(r){if(function jte(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(r.subscriptionOptions,t))return Date.now()>=r.createTime+Vte?function Bte(n,e){return fE.apply(this,arguments)}(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield $L(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return GL(n.firebaseDependencies,t)}return GL(n.firebaseDependencies,t)}),dE.apply(this,arguments)}function hE(){return hE=g(function*(n){const e=yield BL(n.firebaseDependencies);e&&(yield $L(n.firebaseDependencies,e.token),yield function Nte(n){return rE.apply(this,arguments)}(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),hE.apply(this,arguments)}function fE(){return fE=g(function*(n,e){try{const t=yield function Lte(n,e){return oE.apply(this,arguments)}(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield tE(n.firebaseDependencies,r),t}catch(t){throw yield function HL(n){return hE.apply(this,arguments)}(n),t}}),fE.apply(this,arguments)}function GL(n,e){return pE.apply(this,arguments)}function pE(){return(pE=g(function*(n,e){const r={token:yield Fte(n,e),createTime:Date.now(),subscriptionOptions:e};return yield tE(n,r),r.token})).apply(this,arguments)}function gE(){return(gE=g(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ate(e)})})).apply(this,arguments)}function zL(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function Hte(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const s=e.notification.icon;s&&(n.notification.icon=s)}(e,n),function Gte(n,e){e.data&&(n.data=e.data)}(e,n),function zte(n,e){var t,r,i,s,o;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(n.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(n.fcmOptions.analyticsLabel=u)}(e,n),e}function qL(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function mE(n){return zt.create("missing-app-config-values",{valueName:n})}qL("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),qL("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Kte{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function Wte(n){if(!n||!n.options)throw mE("App Configuration Object");if(!n.name)throw mE("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw mE(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function WL(n){return yE.apply(this,arguments)}function yE(){return(yE=g(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(Ete,{scope:Cte}),n.swRegistration.update().catch(()=>{})}catch(e){throw zt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function _E(){return(_E=g(function*(n,e){if(!e&&!n.swRegistration&&(yield WL(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw zt.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function vE(){return(vE=g(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=LL)})).apply(this,arguments)}function wE(){return wE=g(function*(n,e){if(!navigator)throw zt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw zt.create("permission-blocked");return yield function Yte(n,e){return vE.apply(this,arguments)}(n,e?.vapidKey),yield function Qte(n,e){return _E.apply(this,arguments)}(n,e?.serviceWorkerRegistration),function Ute(n){return dE.apply(this,arguments)}(n)}),wE.apply(this,arguments)}function IE(){return(IE=g(function*(n,e,t){const r=function Jte(n){switch(n){case Qa.NOTIFICATION_CLICKED:return"notification_open";case Qa.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[VL],message_name:t[Dte],message_time:t[Tte],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function EE(){return EE=g(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===Qa.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(zL(t)):n.onMessageHandler.next(zL(t)));const r=t.data;(function qte(n){return"object"==typeof n&&!!n&&VL in n})(r)&&"1"===r[Ste]&&(yield function Xte(n,e,t){return IE.apply(this,arguments)}(n,t.messageType,r))}),EE.apply(this,arguments)}const QL="@firebase/messaging",ene=n=>{const e=new Kte(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function Zte(n,e){return EE.apply(this,arguments)}(e,t)),e},tne=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function KL(n,e){return wE.apply(this,arguments)}(e,r)}};function XL(){return CE.apply(this,arguments)}function CE(){return(CE=g(function*(){try{yield yl()}catch{return!1}return typeof window<"u"&&io()&&Uw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function nne(){In(new an("messaging",ene,"PUBLIC")),In(new an("messaging-internal",tne,"PRIVATE")),Je(QL,"0.12.4"),Je(QL,"0.12.4","esm2017")}();const bp="analytics",sne="firebase_id",one="origin",ane=6e4,une="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",TE="https://www.googletagmanager.com/gtag/js",xt=new za("@firebase/analytics"),En=new Hr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function lne(n){if(!n.startsWith(TE)){const e=En.create("invalid-gtag-resource",{gtagURL:n});return xt.warn(e.message),""}return n}function JL(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function SE(){return(SE=g(function*(n,e,t,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield JL(t)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){xt.error(a)}n("config",i,s)})).apply(this,arguments)}function AE(){return(AE=g(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield JL(t);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){xt.error(s)}})).apply(this,arguments)}const vne=30,ZL=new class Ine{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Ene(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function xE(){return(xE=g(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:Ene(r)},s=une.replace("{app-id}",t),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw En.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function ME(){return(ME=g(function*(n,e=ZL,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw En.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw En.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Sne;return setTimeout(g(function*(){a.abort()}),void 0!==t?t:ane),e2({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function e2(n,e,t){return PE.apply(this,arguments)}function PE(){return PE=g(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=ZL){var s;const{appId:o,measurementId:a}=n;try{yield function Dne(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(En.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return xt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function Cne(n){return xE.apply(this,arguments)}(n);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function Tne(n){if(!(n instanceof ur&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return xt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?jw(t,i.intervalMillis,vne):jw(t,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:t+1};return i.setThrottleMetadata(o,d),xt.debug(`Calling attemptFetch again in ${l} millis`),e2(n,d,r,i)}}),PE.apply(this,arguments)}class Sne{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let RE,UE;function kE(){return(kE=g(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function BE(){return(BE=g(function*(){if(!io())return xt.warn(En.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield yl()}catch(n){return xt.warn(En.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function $E(){return $E=g(function*(n,e,t,r,i,s,o){var a;const u=function bne(n){return ME.apply(this,arguments)}(n);u.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&xt.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>xt.error(f)),e.push(u);const c=function Nne(){return BE.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function _ne(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(TE)&&t.src.includes(n))return t;return null})(s)||function hne(n,e){const t=function dne(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:lne}),r=document.createElement("script"),i=`${TE}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),UE&&(i("consent","default",UE),function t2(n){UE=n}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[one]="firebase",h.update=!0,null!=d&&(h[sne]=d),i("config",l.measurementId,h),RE&&(i("set",RE),function n2(n){RE=n}(void 0)),l.measurementId}),$E.apply(this,arguments)}class Fne{constructor(e){this.app=e}_delete(){return delete Gr[this.app.options.appId],Promise.resolve()}}let Gr={},r2=[];const i2={};let o2,zr,Dp="dataLayer",s2="gtag",jE=!1;function Vne(n,e,t){!function Lne(){const n=[];if(Vw()&&n.push("This is a browser extension environment."),Uw()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=En.create("invalid-analytics-context",{errorInfo:e});xt.warn(t.message)}}();const r=n.options.appId;if(!r)throw En.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw En.create("no-api-key");xt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Gr[r])throw En.create("already-exists",{id:r});if(!jE){!function fne(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(Dp);const{wrappedGtag:s,gtagCore:o}=function yne(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function mne(n,e,t,r){function s(){return s=g(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function gne(n,e,t,r,i){return AE.apply(this,arguments)}(n,e,t,u,c)}else if("config"===o){const[u,c]=a;yield function pne(n,e,t,r,i,s){return SE.apply(this,arguments)}(n,e,t,r,u,c)}else if("consent"===o){const[u]=a;n("consent","update",u)}else if("get"===o){const[u,c,l]=a;n("get",u,c,l)}else if("set"===o){const[u]=a;n("set",u)}else n(o,...a)}catch(u){xt.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(Gr,r2,i2,Dp,s2);zr=s,o2=o,jE=!0}return Gr[r]=function One(n,e,t,r,i,s,o){return $E.apply(this,arguments)}(n,r2,i2,e,o2,Dp,t),new Fne(n)}function Bne(){return HE.apply(this,arguments)}function HE(){return(HE=g(function*(){if(Vw()||!Uw()||!io())return!1;try{return yield yl()}catch{return!1}})).apply(this,arguments)}const a2="@firebase/analytics";!function jne(){In(new an(bp,(e,{options:t})=>Vne(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),In(new an("analytics-internal",function n(e){try{const t=e.getProvider(bp).getImmediate();return{logEvent:(r,i,s)=>function $ne(n,e,t,r){n=at(n),function Ane(n,e,t,r,i){return kE.apply(this,arguments)}(zr,Gr[n.app.options.appId],e,t,r).catch(i=>xt.error(i))}(t,r,i,s)}}catch(t){throw En.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),Je(a2,"0.10.0"),Je(a2,"0.10.0","esm2017")}();class Hne extends Fn{constructor(e,t){super()}schedule(e,t=0){return this}}const Tp={setInterval(n,e,...t){const{delegate:r}=Tp;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Tp;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class c2 extends Hne{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return Tp.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Tp.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,$o(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const l2={now:()=>(l2.delegate||Date).now(),delegate:void 0};class El{constructor(e,t=El.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}El.now=l2.now;class d2 extends El{constructor(e,t=El.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const qne=new class zne extends d2{}(class Gne extends c2{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),Wne=new d2(c2),Sp=new ca("7.6.1"),zE="__angularfire_symbol__analyticsIsSupportedValue",qE="__angularfire_symbol__analyticsIsSupported",WE="__angularfire_symbol__remoteConfigIsSupportedValue",KE="__angularfire_symbol__remoteConfigIsSupported",QE="__angularfire_symbol__messagingIsSupportedValue",YE="__angularfire_symbol__messagingIsSupported";function JE(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[qE]||(globalThis[qE]=Bne().then(n=>globalThis[zE]=n).catch(()=>globalThis[zE]=!1)),globalThis[YE]||(globalThis[YE]=XL().then(n=>globalThis[QE]=n).catch(()=>globalThis[QE]=!1)),globalThis[KE]||(globalThis[KE]=dte().then(n=>globalThis[WE]=n).catch(()=>globalThis[WE]=!1));const ZE=(n,e)=>{const t=e?[e]:ZF(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Ya(){}class h2{constructor(e,t=qne){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class Kne{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ya,{},Ya,Ya)),t.pipe(Ht({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let eC=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h2(Zone.current)),this.insideAngular=t.run(()=>new h2(Zone.current,Wne)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(L(Ue))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function po(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function go(n){return po().ngZone.run(()=>n())}function Yne(n){return po(),function Xne(n){return function(t){return(t=t.lift(new Kne(n.ngZone))).pipe(Yd(n.outsideAngular),Qd(n.insideAngular))}}(po())(n)}const Jne=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),go(()=>n.apply(void 0,r))},Mt=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||(t=go(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ya,{},Ya,Ya)))),r[s]=Jne(r[s],t));const i=function Qne(n){return po().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof Oe){const s=po();return i.pipe(Yd(s.outsideAngular),Qd(s.insideAngular))}return go(()=>i)}return i instanceof Oe?i.pipe(Yne):i instanceof Promise?go(()=>new Promise((s,o)=>i.then(a=>go(()=>s(a)),a=>go(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:go(()=>i)};class Xa{constructor(e){return e}}class tC{constructor(){return ZF()}}const nC=new B("angularfire2._apps"),ere={provide:Xa,useFactory:function Zne(n){return n&&1===n.length?n[0]:new Xa(Xw())},deps:[[new nn,nC]]},tre={provide:tC,deps:[[new nn,nC]]};function nre(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Xa(r)}}let rre=(()=>{class n{constructor(t){Je("angularfire",Sp.full,"core"),Je("angularfire",Sp.full,"app"),Je("angular",AM.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(L(Nc))},n.\u0275mod=fn({type:n}),n.\u0275inj=Jt({providers:[ere,tre]}),n})();function ire(n,...e){return{ngModule:rre,providers:[{provide:nC,useFactory:nre(n),multi:!0,deps:[Ue,Gn,eC,...e]}]}}const sre=Mt(JF,!0),rC=new Map,f2={activated:!1,tokenObservers:[]},ore={initialized:!1,enabled:!1};function Ze(n){return rC.get(n)||Object.assign({},f2)}function Ap(){return ore}const iC="https://content-firebaseappcheck.googleapis.com/v1",lre="exchangeDebugToken",p2={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class hre{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return g(function*(){t.stop();try{t.pending=new gp,yield function fre(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new gp,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const qt=new Hr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function sC(n){if(!Ze(n).activated)throw qt.create("use-before-activation",{appName:n.name})}function Pp(n,e){return aC.apply(this,arguments)}function aC(){return(aC=g(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(n,s)}catch(d){throw qt.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw qt.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw qt.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw qt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}function g2(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${iC}/projects/${t}/apps/${r}:${lre}?key=${i}`,body:{debug_token:e}}}const yre="firebase-app-check-database",_re=1,Cl="firebase-app-check-store";let Rp=null;function _2(n,e){return uC.apply(this,arguments)}function uC(){return(uC=g(function*(n,e){const r=(yield function y2(){return Rp||(Rp=new Promise((n,e)=>{try{const t=indexedDB.open(yre,_re);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(qt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Cl,{keyPath:"compositeKey"})}}catch(t){e(qt.create("storage-open",{originalErrorMessage:t?.message}))}}),Rp)}()).transaction(Cl,"readwrite"),s=r.objectStore(Cl).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(qt.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const bl=new za("@firebase/app-check");function dC(n,e){return io()?function wre(n,e){return _2(function w2(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{bl.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function fC(){return Ap().enabled}function pC(){return gC.apply(this,arguments)}function gC(){return(gC=g(function*(){const n=Ap();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Tre={error:"UNKNOWN_ERROR"};function Sre(n){return Lw.encodeString(JSON.stringify(n),!1)}function kp(n){return mC.apply(this,arguments)}function mC(){return(mC=g(function*(n,e=!1){const t=n.app;sC(t);const r=Ze(t);let s,i=r.token;if(i&&!Ja(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(Ja(u)?i=u:yield dC(t,void 0))}if(!e&&i&&Ja(i))return{token:i.token};let a,o=!1;if(fC()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Pp(g2(t,yield pC()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield dC(t,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Ze(t).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?bl.warn(u.message):bl.error(u),s=u}return i?s?a=Ja(i)?{token:i.token,internalError:s}:b2(s):(a={token:i.token},r.token=i,yield dC(t,i)):a=b2(s),o&&function C2(n,e){const t=Ze(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,a),a})).apply(this,arguments)}function I2(n){return yC.apply(this,arguments)}function yC(){return(yC=g(function*(n){const e=n.app;sC(e);const{provider:t}=Ze(e);if(fC()){const r=yield pC(),{token:i}=yield Pp(g2(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}})).apply(this,arguments)}function vC(n,e){const t=Ze(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function E2(n){const{app:e}=n,t=Ze(e);let r=t.tokenRefresher;r||(r=function Are(n){const{app:e}=n;return new hre(g(function*(){let r;if(r=Ze(e).token?yield kp(n,!0):yield kp(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Ze(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},p2.RETRIAL_MIN_WAIT,p2.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Ja(n){return n.expireTimeMillis-Date.now()>0}function b2(n){return{token:Sre(Tre),error:n}}class xre{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ze(this.app);for(const t of e)vC(this.app,t.next);return Promise.resolve()}}const R2="app-check-internal";!function Hre(){In(new an("app-check",n=>function Mre(n,e){return new xre(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(R2).initialize()})),In(new an(R2,n=>function Pre(n){return{getToken:e=>kp(n,e),getLimitedUseToken:()=>I2(n),addTokenListener:e=>function _C(n,e,t,r){const{app:i}=n,s=Ze(i);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:r,type:e}],s.token&&Ja(s.token)){const a=s.token;Promise.resolve().then(()=>{t({token:a.token}),E2(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>E2(n))}(n,"INTERNAL",e),removeTokenListener:e=>vC(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Je("@firebase/app-check","0.8.0")}();class CC{constructor(){return ZE("app-check")}}typeof window<"u"&&window;const Kre=function N2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},O2=new Hr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Op=new za("@firebase/auth");function Fp(n,...e){Op.logLevel<=me.ERROR&&Op.error(`Auth (${uo}): ${n}`,...e)}function kn(n,...e){throw DC(n,...e)}function qr(n,...e){return DC(n,...e)}function DC(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return O2.create(n,...e)}function M(n,e,...t){if(!n)throw DC(e,...t)}function Wr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Fp(e),new Error(e)}function ds(n,e){n||Wr(e)}function Dl(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function L2(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Tl{constructor(e,t){this.shortDelay=e,this.longDelay=t,ds(t>e,"Short delay should be less than long delay!"),this.isMobile=function IJ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(At())}()||function CJ(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Yre(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function TC(){return"http:"===L2()||"https:"===L2()}()||Vw()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function SC(n,e){ds(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class V2{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Jre={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Zre=new Tl(3e4,6e4);function Ke(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function et(n,e,t,r){return AC.apply(this,arguments)}function AC(){return(AC=g(function*(n,e,t,r,i={}){return U2(n,i,g(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=_p(Object.assign({key:n.config.apiKey},o)).slice(1),u=yield n._getAdditionalHeaders();return u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode),V2.fetch()(B2(n,n.config.apiHost,t,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function U2(n,e,t){return xC.apply(this,arguments)}function xC(){return(xC=g(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Jre),e);try{const i=new eie(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Sl(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Sl(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw Sl(n,"email-already-in-use",o);if("USER_DISABLED"===u)throw Sl(n,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function F2(n,e,t){const r=Object.assign(Object.assign({},Kre()),{[e]:t});return new Hr("auth","Firebase",r).create(e,{appName:n.name})}(n,l,c);kn(n,l)}}catch(i){if(i instanceof ur)throw i;kn(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Pi(n,e,t,r){return MC.apply(this,arguments)}function MC(){return(MC=g(function*(n,e,t,r,i={}){const s=yield et(n,e,t,r,i);return"mfaPendingCredential"in s&&kn(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function B2(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?SC(n.config,i):`${n.config.apiScheme}://${i}`}class eie{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(qr(this.auth,"network-request-failed")),Zre.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Sl(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=qr(n,e,r);return i.customData._tokenResponse=t,i}function PC(){return(PC=g(function*(n,e){return et(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function kC(){return(kC=g(function*(n,e){return et(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Al(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function NC(){return(NC=g(function*(n,e=!1){const t=at(n),r=yield t.getIdToken(e),i=Lp(r);M(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Al(OC(i.auth_time)),issuedAtTime:Al(OC(i.iat)),expirationTime:Al(OC(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function OC(n){return 1e3*Number(n)}function Lp(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return Fp("JWT malformed, contained fewer than 3 sections"),null;try{const i=fp(t);return i?JSON.parse(i):(Fp("Failed to decode base64 JWT payload"),null)}catch(i){return Fp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Ri(n,e){return FC.apply(this,arguments)}function FC(){return(FC=g(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof ur&&function oie({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class aie{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield t.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class $2{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Al(this.lastLoginAt),this.creationTime=Al(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function xl(n){return LC.apply(this,arguments)}function LC(){return LC=g(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield Ri(n,function rie(n,e){return kC.apply(this,arguments)}(t,{idToken:r}));M(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function lie(n){return n.map(e=>{var{providerId:t}=e,r=Mm(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function cie(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,o),l=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new $2(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(n,d)}),LC.apply(this,arguments)}function VC(){return(VC=g(function*(n){const e=at(n);yield xl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function UC(){return(UC=g(function*(n,e){const t=yield U2(n,{},g(function*(){const r=_p({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=B2(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",V2.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Ml{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){M(e.idToken,"internal-error"),M(typeof e.idToken<"u","internal-error"),M(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function sie(n){const e=Lp(n);return M(e,"internal-error"),M(typeof e.exp<"u","internal-error"),M(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return g(function*(){return M(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return g(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function die(n,e){return UC.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new Ml;return r&&(M("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(M("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(M("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ml,this.toJSON())}_performRefresh(){return Wr("not implemented")}}function hs(n,e){M("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class mo{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Mm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new aie(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new $2(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return g(function*(){const r=yield Ri(t,t.stsTokenManager.getToken(t.auth,e));return M(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function iie(n){return NC.apply(this,arguments)}(this,e)}reload(){return function uie(n){return VC.apply(this,arguments)}(this)}_assign(e){this!==e&&(M(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new mo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){M(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield xl(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const t=yield e.getIdToken();return yield Ri(e,function tie(n,e){return PC.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,u,c,l;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,m=null!==(a=t.tenantId)&&void 0!==a?a:void 0,y=null!==(u=t._redirectEventId)&&void 0!==u?u:void 0,_=null!==(c=t.createdAt)&&void 0!==c?c:void 0,C=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:v,emailVerified:k,isAnonymous:G,providerData:K,stsTokenManager:Lt}=t;M(v&&Lt,e,"internal-error");const zi=Ml.fromJSON(this.name,Lt);M("string"==typeof v,e,"internal-error"),hs(d,e.name),hs(h,e.name),M("boolean"==typeof k,e,"internal-error"),M("boolean"==typeof G,e,"internal-error"),hs(f,e.name),hs(p,e.name),hs(m,e.name),hs(y,e.name),hs(_,e.name),hs(C,e.name);const ju=new mo({uid:v,auth:e,email:h,emailVerified:k,displayName:d,isAnonymous:G,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:zi,createdAt:_,lastLoginAt:C});return K&&Array.isArray(K)&&(ju.providerData=K.map(Ohe=>Object.assign({},Ohe))),y&&(ju._redirectEventId=y),ju}static _fromIdTokenResponse(e,t,r=!1){return g(function*(){const i=new Ml;i.updateFromServerResponse(t);const s=new mo({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield xl(s),s})()}}const j2=new Map;function ki(n){ds(n instanceof Function,"Expected a class definition");let e=j2.get(n);return e?(ds(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,j2.set(n,e),e)}const H2=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(t,r){var i=this;return g(function*(){i.storage[t]=r})()}_get(t){var r=this;return g(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return g(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Vp(n,e,t){return`firebase:${n}:${e}:${t}`}class eu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Vp(this.userKey,i.apiKey,s),this.fullPersistenceKey=Vp("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?mo._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return g(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return g(function*(){if(!t.length)return new eu(ki(H2),e,r);const i=(yield Promise.all(t.map(function(){var c=g(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||ki(H2);const o=Vp(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const l=yield c._get(o);if(l){const d=mo._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var c=g(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new eu(s,e,r)):new eu(s,e,r)})()}}function G2(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(W2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(z2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Q2(e))return"Blackberry";if(Y2(e))return"Webos";if(BC(e))return"Safari";if((e.includes("chrome/")||q2(e))&&!e.includes("edge/"))return"Chrome";if(K2(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function z2(n=At()){return/firefox\//i.test(n)}function BC(n=At()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function q2(n=At()){return/crios\//i.test(n)}function W2(n=At()){return/iemobile/i.test(n)}function K2(n=At()){return/android/i.test(n)}function Q2(n=At()){return/blackberry/i.test(n)}function Y2(n=At()){return/webos/i.test(n)}function Up(n=At()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function X2(n=At()){return Up(n)||K2(n)||Y2(n)||Q2(n)||/windows phone/i.test(n)||W2(n)}function J2(n,e=[]){let t;switch(n){case"Browser":t=G2(At());break;case"Worker":t=`${G2(At())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${uo}/${r}`}function Z2(n,e){return jC.apply(this,arguments)}function jC(){return(jC=g(function*(n,e){return et(n,"GET","/v2/recaptchaConfig",Ke(n,e))})).apply(this,arguments)}function tV(n){return void 0!==n&&void 0!==n.enterprise}class nV{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}function HC(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=qr("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function mie(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}function rV(n){return`__${n}${Math.floor(1e6*Math.random())}`}const vie="NO_RECAPTCHA";class iV{constructor(e){this.type="recaptcha-enterprise",this.auth=Pt(e)}verify(e="verify",t=!1){var r=this;return g(function*(){function s(){return s=g(function*(a){if(!t){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=g(function*(c,l){Z2(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new nV(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;tV(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u(vie)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!t&&tV(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));HC("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}function fs(n,e,t){return GC.apply(this,arguments)}function GC(){return(GC=g(function*(n,e,t,r=!1){const i=new iV(n);let s;try{s=yield i.verify(t)}catch{s=yield i.verify(t,!0)}const o=Object.assign({},e);return Object.assign(o,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})).apply(this,arguments)}class wie{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return g(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Iie{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sV(this),this.idTokenSubscription=new sV(this),this.beforeStateQueue=new wie(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=O2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=ki(t)),this._initializationPromise=this.queue(g(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield eu.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return g(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return M(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return g(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return g(function*(){try{yield xl(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Xre(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return g(function*(){const r=e?at(e):null;return r&&M(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return g(function*(){if(!r._deleted)return e&&M(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(g(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(g(function*(){yield t.assertedPersistence.setPersistence(ki(e))}))}initializeRecaptchaConfig(){var e=this;return g(function*(){const t=yield Z2(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new nV(t);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new iV(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Hr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return g(function*(){if(!t.redirectPersistenceManager){const r=e&&ki(e)||t._popupRedirectResolver;M(r,t,"argument-error"),t.redirectPersistenceManager=yield eu.create(t,[ki(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return g(function*(){var r,i;return t._isInitialized&&(yield t.queue(g(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return g(function*(){if(e===t.currentUser)return t.queue(g(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return M(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return g(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return M(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=J2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return g(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function Qre(n,...e){Op.logLevel<=me.WARN&&Op.warn(`Auth (${uo}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Pt(n){return at(n)}class sV{constructor(e){this.auth=e,this.observer=null,this.addObserver=function xJ(n,e){const t=new MJ(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return M(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function oV(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function aV(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class uV{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Wr("not implemented")}_getIdTokenResponse(e){return Wr("not implemented")}_linkToIdToken(e,t){return Wr("not implemented")}_getReauthenticationResolver(e){return Wr("not implemented")}}function lV(n,e){return qC.apply(this,arguments)}function qC(){return(qC=g(function*(n,e){return et(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function KC(n,e){return QC.apply(this,arguments)}function QC(){return(QC=g(function*(n,e){return Pi(n,"POST","/v1/accounts:signInWithPassword",Ke(n,e))})).apply(this,arguments)}function rb(){return(rb=g(function*(n,e){return Pi(n,"POST","/v1/accounts:signInWithEmailLink",Ke(n,e))})).apply(this,arguments)}function ib(){return(ib=g(function*(n,e){return Pi(n,"POST","/v1/accounts:signInWithEmailLink",Ke(n,e))})).apply(this,arguments)}class Pl extends uV{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Pl(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Pl(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return g(function*(){var r;switch(t.signInMethod){case"password":const i={returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=e._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const s=yield fs(e,i,"signInWithPassword");return KC(e,s)}return KC(e,i).catch(function(){var s=g(function*(o){if("auth/missing-recaptcha-token"===o.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=yield fs(e,i,"signInWithPassword");return KC(e,a)}return Promise.reject(o)});return function(o){return s.apply(this,arguments)}}());case"emailLink":return function Mie(n,e){return rb.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:kn(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return g(function*(){switch(r.signInMethod){case"password":return lV(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function Pie(n,e){return ib.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:kn(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Ni(n,e){return sb.apply(this,arguments)}function sb(){return(sb=g(function*(n,e){return Pi(n,"POST","/v1/accounts:signInWithIdp",Ke(n,e))})).apply(this,arguments)}class Nl{constructor(e){var t,r,i,s,o,a;const u=_l(vl(e)),c=null!==(t=u.apiKey)&&void 0!==t?t:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,d=function Vie(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);M(c&&l&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=l,this.continueUrl=null!==(s=u.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function Uie(n){const e=_l(vl(n)).link,t=e?_l(vl(e)).deep_link_id:null,r=_l(vl(n)).deep_link_id;return(r?_l(vl(r)).link:null)||r||t||e||n}(e);try{return new Nl(t)}catch{return null}}}let dV=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Pl._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=Nl.parseLink(r);return M(i,"argument-error"),Pl._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class ps{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Bie extends ps{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function jp(n,e){return db.apply(this,arguments)}function db(){return(db=g(function*(n,e){return Pi(n,"POST","/v1/accounts:signUp",Ke(n,e))})).apply(this,arguments)}class cr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return g(function*(){const s=yield mo._fromIdTokenResponse(e,r,i),o=hV(r);return new cr({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=hV(r);return new cr({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function hV(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Hp extends ur{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Hp.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Hp(e,t,r,i)}}function fV(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Hp._fromErrorAndOperation(n,s,e,r):s})}function pb(n,e){return gb.apply(this,arguments)}function gb(){return(gb=g(function*(n,e,t=!1){const r=yield Ri(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return cr._forOperation(n,"link",r)})).apply(this,arguments)}function gV(n,e){return yb.apply(this,arguments)}function yb(){return(yb=g(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const s=yield Ri(n,fV(r,i,e,n),t);M(s.idToken,r,"internal-error");const o=Lp(s.idToken);M(o,r,"internal-error");const{sub:a}=o;return M(n.uid===a,r,"user-mismatch"),cr._forOperation(n,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&kn(r,"user-mismatch"),s}})).apply(this,arguments)}function mV(n,e){return _b.apply(this,arguments)}function _b(){return(_b=g(function*(n,e,t=!1){const r="signIn",i=yield fV(n,r,e),s=yield cr._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}function vb(n,e){return wb.apply(this,arguments)}function wb(){return(wb=g(function*(n,e){return mV(Pt(n),e)})).apply(this,arguments)}function Wie(n,e,t){return kb.apply(this,arguments)}function kb(){return kb=g(function*(n,e,t){var r;const i=Pt(n),s={returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"};let o;if(null!==(r=i._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const c=yield fs(i,s,"signUpPassword");o=jp(i,c)}else o=jp(i,s).catch(function(){var c=g(function*(l){if("auth/missing-recaptcha-token"===l.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=yield fs(i,s,"signUpPassword");return jp(i,d)}return Promise.reject(l)});return function(l){return c.apply(this,arguments)}}());const a=yield o.catch(c=>Promise.reject(c)),u=yield cr._fromIdTokenResponse(i,"signIn",a);return yield i._updateCurrentUser(u.user),u}),kb.apply(this,arguments)}function Kie(n,e,t){return vb(at(n),dV.credential(e,t))}function _V(n,e,t,r){return at(n).onIdTokenChanged(e,t,r)}function rse(n){return at(n).signOut()}const zp="__sak";class vV{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(zp,"1"),this.storage.removeItem(zp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const dse=(()=>{class n extends vV{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function use(){const n=At();return BC(n)||Up(n)}()&&function pie(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=X2(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function fie(){return function bJ(){const n=At();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return g(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return g(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),wV=(()=>{class n extends vV{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let fse=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return g(function*(){const i=t,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function hse(n){return Promise.all(n.map(function(){var e=g(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function Kb(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class pse{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return g(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=Kb("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:t},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function _t(){return window}function Qb(){return typeof _t().WorkerGlobalScope<"u"&&"function"==typeof _t().importScripts}function Yb(){return(Yb=g(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const IV="firebaseLocalStorageDb",vse=1,qp="firebaseLocalStorage",EV="fbase_key";class Fl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Wp(n,e){return n.transaction([qp],e?"readwrite":"readonly").objectStore(qp)}function Xb(){const n=indexedDB.open(IV,vse);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(qp,{keyPath:EV})}catch(i){t(i)}}),n.addEventListener("success",g(function*(){const r=n.result;r.objectStoreNames.contains(qp)?e(r):(r.close(),yield function wse(){const n=indexedDB.deleteDatabase(IV);return new Fl(n).toPromise()}(),e(yield Xb()))}))})}function CV(n,e,t){return Jb.apply(this,arguments)}function Jb(){return(Jb=g(function*(n,e,t){const r=Wp(n,!0).put({[EV]:e,value:t});return new Fl(r).toPromise()})).apply(this,arguments)}function Zb(){return(Zb=g(function*(n,e){const t=Wp(n,!1).get(e),r=yield new Fl(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function bV(n,e){const t=Wp(n,!0).delete(e);return new Fl(t).toPromise()}const bse=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return g(function*(){return t.db||(t.db=yield Xb()),t.db})()}_withRetries(t){var r=this;return g(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return g(function*(){return Qb()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return g(function*(){t.receiver=fse._getInstance(function _se(){return Qb()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=g(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=g(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return g(function*(){var r,i;if(t.activeServiceWorker=yield function mse(){return Yb.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new pse(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function yse(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const t=yield Xb();return yield CV(t,zp,"1"),yield bV(t,zp),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return g(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(s=>CV(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return g(function*(){const i=yield r._withRetries(s=>function Ise(n,e){return Zb.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>bV(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return g(function*(){const r=yield t._withRetries(o=>{const a=Wp(o,!1).getAll();return new Fl(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();rV("rcb"),new Tl(3e4,6e4);class c0 extends uV{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ni(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ni(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ni(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Bse(n){return mV(n.auth,new c0(n),n.bypassAuthState)}function $se(n){const{auth:e,user:t}=n;return M(t,e,"internal-error"),gV(t,new c0(n),n.bypassAuthState)}function jse(n){return l0.apply(this,arguments)}function l0(){return(l0=g(function*(n){const{auth:e,user:t}=n;return M(t,e,"internal-error"),pb(t,new c0(n),n.bypassAuthState)})).apply(this,arguments)}class Hse{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void t.reject(a);const c={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(u)(c))}catch(l){t.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Bse;case"linkViaPopup":case"linkViaRedirect":return jse;case"reauthViaPopup":case"reauthViaRedirect":return $se;default:kn(this.auth,"internal-error")}}resolve(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Tl(2e3,1e4);const Gse="pendingRedirect",Ll=new Map;class zse extends Hse{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return g(function*(){let r=Ll.get(t.auth._key());if(!r){try{const s=(yield function qse(n,e){return g0.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Ll.set(t.auth._key(),r)}return t.bypassAuthState||Ll.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function g0(){return(g0=g(function*(n,e){const t=function SV(n){return Vp(Gse,n.config.apiKey,n.name)}(e),r=function TV(n){return ki(n._redirectPersistence)}(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function Wse(n,e){Ll.set(n._key(),e)}function AV(n,e){return E0.apply(this,arguments)}function E0(){return(E0=g(function*(n,e,t=!1){const r=Pt(n),i=function _o(n,e){return e?ki(e):(M(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(r,e),o=yield new zse(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class Jse{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Zse(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PV(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!PV(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(qr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(MV(e))}saveEventToCache(e){this.cachedEventUids.add(MV(e)),this.lastProcessedEventTime=Date.now()}}function MV(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function PV({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function b0(){return(b0=g(function*(n,e={}){return et(n,"GET","/v1/projects",e)})).apply(this,arguments)}const toe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,noe=/^https?/;function D0(){return D0=g(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function eoe(n){return b0.apply(this,arguments)}(n);for(const t of e)try{if(ioe(t))return}catch{}kn(n,"unauthorized-domain")}),D0.apply(this,arguments)}function ioe(n){const e=Dl(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!noe.test(t))return!1;if(toe.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const soe=new Tl(3e4,6e4);function RV(){const n=_t().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let Qp=null;const uoe=new Tl(5e3,15e3),coe="__/auth/iframe",loe="emulator/auth/iframe",doe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hoe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function foe(n){const e=n.config;M(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?SC(e,loe):`https://${n.config.authDomain}/${coe}`,r={apiKey:e.apiKey,appName:n.name,v:uo},i=hoe.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${_p(r).slice(1)}`}function T0(){return T0=g(function*(n){const e=yield function aoe(n){return Qp=Qp||function ooe(n){return new Promise((e,t)=>{var r,i,s;function o(){RV(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{RV(),t(qr(n,"network-request-failed"))},timeout:soe.get()})}if(null!==(i=null===(r=_t().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=_t().gapi)||void 0===s||!s.load){const a=rV("iframefcb");return _t()[a]=()=>{gapi.load?o():t(qr(n,"network-request-failed"))},HC(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>t(u))}o()}}).catch(e=>{throw Qp=null,e})}(n),Qp}(n),t=_t().gapi;return M(t,n,"internal-error"),e.open({where:document.body,url:foe(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:doe,dontclear:!0},r=>new Promise(function(){var i=g(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=qr(n,"network-request-failed"),u=_t().setTimeout(()=>{o(a)},uoe.get());function c(){_t().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),T0.apply(this,arguments)}const goe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},moe=500,yoe=600,_oe="_blank",voe="http://localhost";class kV{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Eoe="__/auth/handler",Coe="emulator/auth/handler",boe=encodeURIComponent("fac");function NV(n,e,t,r,i,s){return S0.apply(this,arguments)}function S0(){return(S0=g(function*(n,e,t,r,i,s){M(n.config.authDomain,n,"auth-domain-config-required"),M(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:uo,eventId:i};if(e instanceof ps){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",function AJ(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof Bie){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(o.scopes=l.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const u=yield n._getAppCheckToken(),c=u?`#${boe}=${encodeURIComponent(u)}`:"";return`${function Doe({config:n}){return n.emulator?SC(n,Coe):`https://${n.authDomain}/${Eoe}`}(n)}?${_p(a).slice(1)}${c}`})).apply(this,arguments)}const A0="webStorageSupport",Soe=class Toe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wV,this._completeRedirectFn=AV,this._overrideRedirectResult=Wse}_openPopup(e,t,r,i){var s=this;return g(function*(){var o;ds(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield NV(e,t,r,Dl(),i);return function woe(n,e,t,r=moe,i=yoe){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},goe),{width:r.toString(),height:i.toString(),top:s,left:o}),c=At().toLowerCase();t&&(a=q2(c)?_oe:t),z2(c)&&(e=e||voe,u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function hie(n=At()){var e;return Up(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function Ioe(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new kV(null);const d=window.open(e||"",a,l);M(d,n,"popup-blocked");try{d.focus()}catch{}return new kV(d)}(e,a,Kb())})()}_openRedirect(e,t,r,i){var s=this;return g(function*(){return yield s._originValidation(e),function gse(n){_t().location.href=n}(yield NV(e,t,r,Dl(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(ds(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return g(function*(){const r=yield function poe(n){return T0.apply(this,arguments)}(e),i=new Jse(e);return r.register("authEvent",s=>(M(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(A0,{type:A0},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[A0];void 0!==o&&t(!!o),kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function roe(n){return D0.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return X2()||BC()||Up()}};var LV="@firebase/auth";class Aoe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return g(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){M(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Roe=jF("authIdTokenMaxAge")||300;let UV=null;const koe=n=>function(){var e=g(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Roe)return;const s=r?.token;UV!==s&&(UV=s,yield fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function Noe(n=Xw()){const e=qa(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function Eie(n,e){const t=qa(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(yp(t.getOptions(),e??{}))return i;kn(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:Soe,persistence:[bse,dse,wV]}),r=jF("authTokenSyncURL");if(r){const s=koe(r);(function nse(n,e,t){at(n).beforeAuthStateChanged(e,t)})(t,s,()=>s(t.currentUser)),_V(t,o=>s(o))}const i=BF("auth");return i&&function bie(n,e,t){const r=Pt(n);M(r._canInitEmulator,r,"emulator-config-failed"),M(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,s=oV(e),{host:o,port:a}=function Die(n){const e=oV(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:aV(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:aV(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Tie(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}function BV(n){return new Oe(function(e){return{unsubscribe:_V(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}!function Moe(n){In(new an("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;M(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:J2(n)},c=new Iie(r,i,s,u);return function Cie(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ki);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),In(new an("auth-internal",e=>{const t=Pt(e.getProvider("auth").getImmediate());return new Aoe(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Je(LV,"0.23.2",function xoe(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),Je(LV,"0.23.2","esm2017")}("Browser");class Oi{constructor(e){return e}}class jV{constructor(){return ZE("auth")}}const M0=new B("angularfire2.auth-instances");function Foe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Oi(r)}}const Loe={provide:jV,deps:[[new nn,M0]]},Voe={provide:Oi,useFactory:function Ooe(n,e){const t=JE("auth",n,e);return t&&new Oi(t)},deps:[[new nn,M0],Xa]};let Uoe=(()=>{class n{constructor(){Je("angularfire",Sp.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fn({type:n}),n.\u0275inj=Jt({providers:[Voe,Loe]}),n})();function Boe(n,...e){return{ngModule:Uoe,providers:[{provide:M0,useFactory:Foe(n),multi:!0,deps:[Ue,Gn,eC,tC,[new nn,CC],...e]}]}}const $oe=Mt(BV,!0),joe=Mt(Wie,!0),Hoe=Mt(Noe,!0),Goe=Mt(Kie,!0),zoe=Mt(rse,!0);let P0=(()=>{class n{constructor(t){this.auth=t}register({email:t,password:r}){return joe(this.auth,t,r)}login({email:t,password:r}){return Goe(this.auth,t,r)}logout(){return zoe(this.auth)}}return n.\u0275fac=function(t){return new(t||n)(L(Oi))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function qoe(n,e){1&n&&(b(0,"span",23),P(1," (upss!! El email no puede quedar vac\xedo) "),S())}function Woe(n,e){1&n&&(b(0,"span",23),P(1," (upss!! El email no es v\xe1lido) "),S())}function Koe(n,e){1&n&&(b(0,"span",23),P(1," (upss!! LA contrase\xf1a no puede quedar vac\xeda) "),S())}function Qoe(n,e){1&n&&(b(0,"span",23),P(1," (upss!! LA contrase\xf1a debe tener m\xe1s de 4 caracteres) "),S())}const Yoe=function(){return["/login"]};let Xoe=(()=>{class n{constructor(t,r,i){this.formBuilder=t,this.userService=r,this.router=i,this.form=this.formBuilder.nonNullable.group({email:["",[Vr.email,Vr.required]],password:["",[Vr.required,Vr.minLength(5)]]})}onSubmit(){console.log(this.form.value),this.userService.register(this.form.value).then(t=>{console.log(t),this.router.navigate(["/login"])}).catch(t=>console.log(t))}}return n.\u0275fac=function(t){return new(t||n)(E(iw),E(P0),E(yt))},n.\u0275cmp=Zn({type:n,selectors:[["app-register"]],decls:33,vars:8,consts:[[1,"vh-100",2,"background-color","#E3950F"],[1,"container","py-5","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col","col-xl-10"],[1,"card",2,"border-radius","1rem"],[1,"row","g-0"],[1,"col-md-6","col-lg-5","d-none","d-md-block"],["src","https://www.cyberark.com/wp-content/uploads/2021/02/Secure-Authentication.svg","alt","login form",1,"img-fluid",2,"border-radius","1rem 0 0 1rem"],[1,"col-md-6","col-lg-7","d-flex","align-items-center"],[1,"card-body","p-4","p-lg-5","text-black"],["novalidate","",1,"space-y-4",3,"formGroup","ngSubmit"],[1,"d-flex","align-items-center","mb-3","pb-1"],[1,"fas","fa-cubes","fa-2x","me-3",2,"color","#ff6219"],[1,"h1","fw-bold","mb-0"],[1,"fw-normal","mb-3","pb-3",2,"letter-spacing","1px"],[1,"form-outline","mb-4"],["style","color:red",4,"ngIf"],["type","text","id","form2Example17","formControlName","email",1,"form-control","form-control-lg"],["for","form2Example17",1,"form-label"],["type","password","id","form2Example27","formControlName","password",1,"form-control","form-control-lg"],["for","form2Example27",1,"form-label"],["type","submit",1,"btn","btn-dark","btn-lg","btn-block",3,"disabled"],[1,"px-3",3,"routerLink"],[2,"color","red"]],template:function(t,r){if(1&t&&(b(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),Ve(7,"img",7),S(),b(8,"div",8)(9,"div",9)(10,"form",10),te("ngSubmit",function(){return r.onSubmit()}),b(11,"div",11),Ve(12,"i",12),b(13,"span",13),P(14,"Registro de usuarios"),S()(),b(15,"h5",14),P(16,"Registro de Sesi\xf3n"),S(),b(17,"div",15),jt(18,qoe,2,0,"span",16),jt(19,Woe,2,0,"span",16),Ve(20,"input",17),b(21,"label",18),P(22,"Email address"),S()(),b(23,"div",15),jt(24,Koe,2,0,"span",16),jt(25,Qoe,2,0,"span",16),Ve(26,"input",19),b(27,"label",20),P(28,"Password"),S()(),b(29,"button",21),P(30,"Registrase"),S(),b(31,"a",22),P(32,"Login"),S()()()()()()()()()()),2&t){let i,s,o,a;z(10),oe("formGroup",r.form),z(8),oe("ngIf",null==(i=r.form.get("email"))||null==i.errors?null:i.errors.required),z(1),oe("ngIf",null==(s=r.form.get("email"))||null==s.errors?null:s.errors.email),z(5),oe("ngIf",null==(o=r.form.get("password"))||null==o.errors?null:o.errors.required),z(1),oe("ngIf",null==(a=r.form.get("password"))||null==a.errors?null:a.errors.minlength),z(4),oe("disabled",r.form.invalid),z(2),oe("routerLink",R_(7,Yoe))}},dependencies:[Pa,gl,Jc,Xs,Hc,Gc,Na,Zc]}),n})();function Joe(n,e){1&n&&(b(0,"span",23),P(1," (upss!! El email no puede quedar vac\xedo) "),S())}function Zoe(n,e){1&n&&(b(0,"span",23),P(1," (upss!! El email no es v\xe1lido) "),S())}function eae(n,e){1&n&&(b(0,"span",23),P(1," (upss!! LA contrase\xf1a no puede quedar vac\xeda) "),S())}function tae(n,e){1&n&&(b(0,"span",23),P(1," (upss!! LA contrase\xf1a debe tener m\xe1s de 4 caracteres) "),S())}const nae=function(){return["/register"]};let HV=(()=>{class n{constructor(t,r,i){this.formBuilder=t,this.userService=r,this.router=i,this.form=this.formBuilder.nonNullable.group({email:["",[Vr.email,Vr.required]],password:["",[Vr.required,Vr.minLength(5)]]})}onSubmit(){this.userService.login(this.form.value).then(t=>{console.log(t),this.router.navigate(["menu"])}).catch(t=>console.log(t))}}return n.\u0275fac=function(t){return new(t||n)(E(iw),E(P0),E(yt))},n.\u0275cmp=Zn({type:n,selectors:[["app-login"]],decls:33,vars:8,consts:[[1,"vh-100",2,"background-color","#ffffff"],[1,"container","py-5","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col","col-xl-10"],[1,"card",2,"border-radius","1rem"],[1,"row","g-0"],[1,"img-container","col-md-6","col-lg-5","d-none","d-md-block"],["src","https://stopfoodwaste.ie/wp-content/uploads/2017/09/shopping-list.jpg","alt","login form",1,"img-fluid",2,"border-radius","1rem"],[1,"col-md-6","col-lg-7","d-flex","align-items-center"],[1,"card-body","p-4","p-lg-5","text-black"],["novalidate","",1,"space-y-4",3,"formGroup","ngSubmit"],[1,"d-flex","align-items-center","mb-3","pb-1"],[1,"fas","fa-cubes","fa-2x","me-3",2,"color","#ff6219"],[1,"h1","fw-bold","mb-0"],[1,"fw-normal","mb-3","pb-3",2,"letter-spacing","1px"],[1,"form-outline","mb-4"],["style","color:red",4,"ngIf"],["type","email","id","form2Example17","formControlName","email","required","true",1,"form-control","form-control-lg"],["for","form2Example17",1,"form-label"],["type","password","id","form2Example27","formControlName","password",1,"form-control","form-control-lg"],["for","form2Example27",1,"form-label"],["type","submit",1,"btn","btn-dark","btn-lg","btn-block",3,"disabled"],[1,"px-3",3,"routerLink"],[2,"color","red"]],template:function(t,r){if(1&t&&(b(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),Ve(7,"img",7),S(),b(8,"div",8)(9,"div",9)(10,"form",10),te("ngSubmit",function(){return r.onSubmit()}),b(11,"div",11),Ve(12,"i",12),b(13,"span",13),P(14,"Login"),S()(),b(15,"h5",14),P(16,"Inicia Sesi\xf3n para empezar"),S(),b(17,"div",15),jt(18,Joe,2,0,"span",16),jt(19,Zoe,2,0,"span",16),Ve(20,"input",17),b(21,"label",18),P(22,"Email address"),S()(),b(23,"div",15),jt(24,eae,2,0,"span",16),jt(25,tae,2,0,"span",16),Ve(26,"input",19),b(27,"label",20),P(28,"Password"),S()(),b(29,"button",21),P(30,"Login"),S(),b(31,"a",22),P(32,"Registrarse"),S()()()()()()()()()()),2&t){let i,s,o,a;z(10),oe("formGroup",r.form),z(8),oe("ngIf",null==(i=r.form.get("email"))||null==i.errors?null:i.errors.required),z(1),oe("ngIf",null==(s=r.form.get("email"))||null==s.errors?null:s.errors.email),z(5),oe("ngIf",null==(o=r.form.get("password"))||null==o.errors?null:o.errors.required),z(1),oe("ngIf",null==(a=r.form.get("password"))||null==a.errors?null:a.errors.minlength),z(4),oe("disabled",r.form.invalid),z(2),oe("routerLink",R_(7,nae))}},dependencies:[Pa,gl,Jc,Xs,Hc,Gc,Oa,Na,Zc],styles:[".img-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:5em 0 0 1em;width:25em}"]}),n})();const R0=ee(n=>!!n);let rae=(()=>{class n{constructor(t,r){this.router=t,this.auth=r,this.canActivate=(i,s)=>{const o=i.data.authGuardPipe||(()=>R0);return $oe(this.auth).pipe(eo(1),o(i,s),ee(a=>"boolean"==typeof a?a:Array.isArray(a)?this.router.createUrlTree(a):this.router.parseUrl(a)))}}}return n.\u0275fac=function(t){return new(t||n)(L(yt),L(Oi))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const k0=n=>({canActivate:[rae],data:{authGuardPipe:n}}),N0=n=>nA(R0,ee(e=>e||n));var O,sae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ir={},O0=O0||{},ne=sae||self;function Xp(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Vl(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var F0="closure_uid_"+(1e9*Math.random()>>>0),aae=0;function uae(n,e,t){return n.call.apply(n.bind,arguments)}function cae(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function un(n,e,t){return(un=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?uae:cae).apply(null,arguments)}function Jp(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Rt(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function gs(){this.s=this.s,this.o=this.o}gs.prototype.s=!1,gs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function oae(n){Object.prototype.hasOwnProperty.call(n,F0)&&n[F0]||(n[F0]=++aae)}(this)},gs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const GV=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function L0(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function zV(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Xp(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function cn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}cn.prototype.h=function(){this.defaultPrevented=!0};var dae=function(){if(!ne.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{ne.addEventListener("test",()=>{},e),ne.removeEventListener("test",()=>{},e)}catch{}return n}();function Ul(n){return/^[\s\xa0]*$/.test(n)}function Zp(){var n=ne.navigator;return n&&(n=n.userAgent)?n:""}function Kr(n){return-1!=Zp().indexOf(n)}function V0(n){return V0[" "](n),n}V0[" "]=function(){};var B0,n,fae=Kr("Opera"),nu=Kr("Trident")||Kr("MSIE"),qV=Kr("Edge"),U0=qV||nu,WV=Kr("Gecko")&&!(-1!=Zp().toLowerCase().indexOf("webkit")&&!Kr("Edge"))&&!(Kr("Trident")||Kr("MSIE"))&&!Kr("Edge"),pae=-1!=Zp().toLowerCase().indexOf("webkit")&&!Kr("Edge");function KV(){var n=ne.document;return n?n.documentMode:void 0}e:{var $0="",j0=(n=Zp(),WV?/rv:([^\);]+)(\)|;)/.exec(n):qV?/Edge\/([\d\.]+)/.exec(n):nu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):pae?/WebKit\/(\S+)/.exec(n):fae?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(j0&&($0=j0?j0[1]:""),nu){var H0=KV();if(null!=H0&&H0>parseFloat($0)){B0=String(H0);break e}}B0=$0}var gae=ne.document&&nu&&(KV()||parseInt(B0,10))||void 0;function Bl(n,e){if(cn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(WV){e:{try{V0(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:mae[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Bl.$.h.call(this)}}Rt(Bl,cn);var mae={2:"touch",3:"pen",4:"mouse"};Bl.prototype.h=function(){Bl.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var $l="closure_listenable_"+(1e6*Math.random()|0),yae=0;function _ae(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++yae,this.fa=this.ia=!1}function eg(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function z0(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function YV(n){const e={};for(const t in n)e[t]=n[t];return e}const XV="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function JV(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<XV.length;s++)t=XV[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function tg(n){this.src=n,this.g={},this.h=0}function q0(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=GV(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(eg(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function W0(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}tg.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=W0(n,e,r,i);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new _ae(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var K0="closure_lm_"+(1e6*Math.random()|0),Q0={};function ZV(n,e,t,r,i){if(r&&r.once)return tU(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)ZV(n,e[s],t,r,i);return null}return t=Z0(t),n&&n[$l]?n.O(e,t,Vl(r)?!!r.capture:!!r,i):eU(n,e,t,!1,r,i)}function eU(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=Vl(i)?!!i.capture:!!i,a=X0(n);if(a||(n[K0]=a=new tg(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function wae(){const e=Iae;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)dae||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(rU(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function tU(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)tU(n,e[s],t,r,i);return null}return t=Z0(t),n&&n[$l]?n.P(e,t,Vl(r)?!!r.capture:!!r,i):eU(n,e,t,!0,r,i)}function nU(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)nU(n,e[s],t,r,i);else r=Vl(r)?!!r.capture:!!r,t=Z0(t),n&&n[$l]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=W0(s=n.g[e],t,r,i))&&(eg(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=X0(n))&&(e=n.g[e.toString()],n=-1,e&&(n=W0(e,t,r,i)),(t=-1<n?e[n]:null)&&Y0(t))}function Y0(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[$l])q0(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(rU(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=X0(e))?(q0(t,n),0==t.h&&(t.src=null,e[K0]=null)):eg(n)}}}function rU(n){return n in Q0?Q0[n]:Q0[n]="on"+n}function Iae(n,e){if(n.fa)n=!0;else{e=new Bl(e,this);var t=n.listener,r=n.la||n.src;n.ia&&Y0(n),n=t.call(r,e)}return n}function X0(n){return(n=n[K0])instanceof tg?n:null}var J0="__closure_events_fn_"+(1e9*Math.random()>>>0);function Z0(n){return"function"==typeof n?n:(n[J0]||(n[J0]=function(e){return n.handleEvent(e)}),n[J0])}function kt(){gs.call(this),this.i=new tg(this),this.S=this,this.J=null}function Wt(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new cn(e,n);else if(e instanceof cn)e.target=e.target||n;else{var i=e;JV(e=new cn(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=ng(o,r,!0,e)&&i}if(i=ng(o=e.g=n,r,!0,e)&&i,i=ng(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=ng(o=e.g=t[s],r,!1,e)&&i}function ng(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var a=o.listener,u=o.la||o.src;o.ia&&q0(n.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Rt(kt,gs),kt.prototype[$l]=!0,kt.prototype.removeEventListener=function(n,e,t,r){nU(this,n,e,t,r)},kt.prototype.N=function(){if(kt.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)eg(t[r]);delete n.g[e],n.h--}}this.J=null},kt.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},kt.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var eD=ne.JSON.stringify;function Cae(){var n=tD;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var iU=new class Eae{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Dae,n=>n.reset());class Dae{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Tae(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function Sae(n){ne.setTimeout(()=>{throw n},0)}let jl,Hl=!1,tD=new class bae{constructor(){this.h=this.g=null}add(e,t){const r=iU.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},sU=()=>{const n=ne.Promise.resolve(void 0);jl=()=>{n.then(Aae)}};var Aae=()=>{for(var n;n=Cae();){try{n.h.call(n.g)}catch(t){Sae(t)}var e=iU;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Hl=!1};function rg(n,e){kt.call(this),this.h=n||1,this.g=e||ne,this.j=un(this.qb,this),this.l=Date.now()}function nD(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function rD(n,e,t){if("function"==typeof n)t&&(n=un(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=un(n.handleEvent,n)}return 2147483647<Number(e)?-1:ne.setTimeout(n,e||0)}function oU(n){n.g=rD(()=>{n.g=null,n.i&&(n.i=!1,oU(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Rt(rg,kt),(O=rg.prototype).ga=!1,O.T=null,O.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Wt(this,"tick"),this.ga&&(nD(this),this.start()))}},O.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},O.N=function(){rg.$.N.call(this),nD(this),delete this.g};class xae extends gs{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:oU(this)}N(){super.N(),this.g&&(ne.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gl(n){gs.call(this),this.h=n,this.g={}}Rt(Gl,gs);var aU=[];function uU(n,e,t,r){Array.isArray(t)||(t&&(aU[0]=t.toString()),t=aU);for(var i=0;i<t.length;i++){var s=ZV(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function cU(n){z0(n.g,function(e,t){this.g.hasOwnProperty(t)&&Y0(e)},n),n.g={}}function ig(){this.g=!0}function ru(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function kae(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return eD(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Gl.prototype.N=function(){Gl.$.N.call(this),cU(this)},Gl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ig.prototype.Ea=function(){this.g=!1},ig.prototype.info=function(){};var vo={},lU=null;function sg(){return lU=lU||new kt}function dU(n){cn.call(this,vo.Ta,n)}function zl(n){const e=sg();Wt(e,new dU(e))}function hU(n,e){cn.call(this,vo.STAT_EVENT,n),this.stat=e}function Cn(n){const e=sg();Wt(e,new hU(e,n))}function fU(n,e){cn.call(this,vo.Ua,n),this.size=e}function ql(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return ne.setTimeout(function(){n()},e)}vo.Ta="serverreachability",Rt(dU,cn),vo.STAT_EVENT="statevent",Rt(hU,cn),vo.Ua="timingevent",Rt(fU,cn);var og={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},pU={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function iD(){}function mU(){}iD.prototype.h=null;var aD,Wl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function sD(){cn.call(this,"d")}function oD(){cn.call(this,"c")}function ag(){}function Kl(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Gl(this),this.P=Nae,this.V=new rg(n=U0?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new yU}function yU(){this.i=null,this.g="",this.h=!1}Rt(sD,cn),Rt(oD,cn),Rt(ag,iD),ag.prototype.g=function(){return new XMLHttpRequest},ag.prototype.i=function(){return{}},aD=new ag;var Nae=45e3,uD={},ug={};function cD(n,e,t){n.L=1,n.v=hg(Fi(e)),n.s=t,n.S=!0,_U(n,null)}function _U(n,e){n.G=Date.now(),Ql(n),n.A=Fi(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),AU(t.i,"t",r),n.C=0,t=n.l.J,n.h=new yU,n.g=JU(n.l,t?e:null,!n.s),0<n.O&&(n.M=new xae(un(n.Pa,n,n.g),n.O)),uU(n.U,n.g,"readystatechange",n.nb),e=n.I?YV(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),zl(),function Mae(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.W,n.s)}function vU(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function wU(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=Oae(n,t),i==ug){4==e&&(n.o=4,Cn(14),r=!1),ru(n.j,n.m,null,"[Incomplete Response]");break}if(i==uD){n.o=4,Cn(15),ru(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}ru(n.j,n.m,i,null),lD(n,i)}vU(n)&&i!=ug&&i!=uD&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Cn(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),yD(e),e.M=!0,Cn(11))):(ru(n.j,n.m,t,"[Invalid Chunked Response]"),wo(n),Yl(n))}function Oae(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?ug:(t=Number(e.substring(t,r)),isNaN(t)?uD:(r+=1)+t>e.length?ug:(e=e.slice(r,r+t),n.C=r+t,e))}function Ql(n){n.Y=Date.now()+n.P,IU(n,n.P)}function IU(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=ql(un(n.lb,n),e)}function cg(n){n.B&&(ne.clearTimeout(n.B),n.B=null)}function Yl(n){0==n.l.H||n.J||KU(n.l,n)}function wo(n){cg(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,nD(n.V),cU(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function lD(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||dD(t.i,n)))if(!n.K&&dD(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;_g(t),mg(t)}mD(t),Cn(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=ql(un(t.ib,t),6e3));if(1>=PU(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Eo(t,11)}else if((n.K||t.g==n)&&_g(t),!Ul(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(t.V=c[0],c=c[1],2==t.H)if("c"==c[0]){t.K=c[1],t.pa=c[2];const l=c[3];null!=l&&(t.ra=l,t.l.info("VER="+t.ra));const d=c[4];null!=d&&(t.Ga=d,t.l.info("SVER="+t.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(t.L=r=1.5*h,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(hD(s,s.h),s.h=null))}if(r.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,Be(r.I,r.F,m))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var o=n;if((r=t).wa=XU(r,r.J?r.pa:null,r.Y),o.K){RU(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(cg(a),Ql(a)),r.g=o}else qU(r);0<t.j.length&&yg(t)}else"stop"!=c[0]&&"close"!=c[0]||Eo(t,7);else 3==t.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Eo(t,7):gD(t):"noop"!=c[0]&&t.h&&t.h.Aa(c),t.A=0)}zl()}catch{}}function EU(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Xp(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Lae(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Xp(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Fae(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Xp(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(O=Kl.prototype).setTimeout=function(n){this.P=n},O.nb=function(n){n=n.target;const e=this.M;e&&3==Qr(n)?e.l():this.Pa(n)},O.Pa=function(n){try{if(n==this.g)e:{const l=Qr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||U0||this.g&&(this.h.h||this.g.ja()||BU(this.g)))){this.J||4!=l||7==e||zl(),cg(this);var t=this.g.da();this.ca=t;t:if(vU(this)){var r=BU(this.g);n="";var i=r.length,s=4==Qr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){wo(this),Yl(this);var o="";break t}this.h.i=new ne.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function Pae(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ul(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.o=3,Cn(12),wo(this),Yl(this);break e}ru(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lD(this,t)}this.S?(wU(this,l,o),U0&&this.i&&3==l&&(uU(this.U,this.V,"tick",this.mb),this.V.start())):(ru(this.j,this.m,o,null),lD(this,o)),4==l&&wo(this),this.i&&!this.J&&(4==l?KU(this.l,this):(this.i=!1,Ql(this)))}else(function tue(n){const e={};n=(n.g&&2<=Qr(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Ul(n[r]))continue;var t=Tae(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function vae(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<o.indexOf("Unknown SID")?(this.o=3,Cn(12)):(this.o=0,Cn(13)),wo(this),Yl(this)}}}catch{}},O.mb=function(){if(this.g){var n=Qr(this.g),e=this.g.ja();this.C<e.length&&(cg(this),wU(this,n,e),this.i&&4!=n&&Ql(this))}},O.cancel=function(){this.J=!0,wo(this)},O.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Rae(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(zl(),Cn(17)),wo(this),this.o=2,Yl(this)):IU(this,this.Y-n)};var CU=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Io(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Io){this.h=n.h,lg(this,n.j),this.s=n.s,this.g=n.g,dg(this,n.m),this.l=n.l;var e=n.i,t=new Zl;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),bU(this,t),this.o=n.o}else n&&(e=String(n).match(CU))?(this.h=!1,lg(this,e[1]||"",!0),this.s=Xl(e[2]||""),this.g=Xl(e[3]||"",!0),dg(this,e[4]),this.l=Xl(e[5]||"",!0),bU(this,e[6]||"",!0),this.o=Xl(e[7]||"")):(this.h=!1,this.i=new Zl(null,this.h))}function Fi(n){return new Io(n)}function lg(n,e,t){n.j=t?Xl(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function dg(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function bU(n,e,t){e instanceof Zl?(n.i=e,function Gae(n,e){e&&!n.j&&(ms(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(TU(this,r),AU(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Jl(e,jae)),n.i=new Zl(e,n.h))}function Be(n,e,t){n.i.set(e,t)}function hg(n){return Be(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Xl(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Jl(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Uae),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Uae(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Io.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Jl(e,DU,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Jl(e,DU,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Jl(t,"/"==t.charAt(0)?$ae:Bae,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Jl(t,Hae)),n.join("")};var DU=/[#\/\?@]/g,Bae=/[#\?:]/g,$ae=/[#\?]/g,jae=/[#\?@]/g,Hae=/#/g;function Zl(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ms(n){n.g||(n.g=new Map,n.h=0,n.i&&function Vae(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function TU(n,e){ms(n),e=iu(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function SU(n,e){return ms(n),e=iu(n,e),n.g.has(e)}function AU(n,e,t){TU(n,e),0<t.length&&(n.i=null,n.g.set(iu(n,e),L0(t)),n.h+=t.length)}function iu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function xU(n){this.l=n||qae,n=ne.PerformanceNavigationTiming?0<(n=ne.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(ne.g&&ne.g.Ka&&ne.g.Ka()&&ne.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(O=Zl.prototype).add=function(n,e){ms(this),this.i=null,n=iu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},O.forEach=function(n,e){ms(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},O.ta=function(){ms(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},O.Z=function(n){ms(this);let e=[];if("string"==typeof n)SU(this,n)&&(e=e.concat(this.g.get(iu(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},O.set=function(n,e){return ms(this),this.i=null,SU(this,n=iu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},O.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},O.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var qae=10;function MU(n){return!!n.h||!!n.g&&n.g.size>=n.j}function PU(n){return n.h?1:n.g?n.g.size:0}function dD(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function hD(n,e){n.g?n.g.add(e):n.h=e}function RU(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function kU(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return L0(n.i)}xU.prototype.cancel=function(){if(this.i=kU(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var Wae=class{stringify(n){return ne.JSON.stringify(n,void 0)}parse(n){return ne.JSON.parse(n,void 0)}};function Kae(){this.g=new Wae}function Qae(n,e,t){const r=t||"";try{EU(n,function(i,s){let o=i;Vl(i)&&(o=eD(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function fg(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ed(n){this.l=n.fc||null,this.j=n.ob||!1}function pg(n,e){kt.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=fD,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Rt(ed,iD),ed.prototype.g=function(){return new pg(this.l,this.j)},ed.prototype.i=function(n){return function(){return n}}({}),Rt(pg,kt);var fD=0;function NU(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function td(n){n.readyState=4,n.l=null,n.j=null,n.A=null,nd(n)}function nd(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(O=pg.prototype).open=function(n,e){if(this.readyState!=fD)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,nd(this)},O.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||ne).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},O.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,td(this)),this.readyState=fD},O.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,nd(this)),this.g&&(this.readyState=3,nd(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ne.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;NU(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},O.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?td(this):nd(this),3==this.readyState&&NU(this)}},O.Za=function(n){this.g&&(this.response=this.responseText=n,td(this))},O.Ya=function(n){this.g&&(this.response=n,td(this))},O.ka=function(){this.g&&td(this)},O.setRequestHeader=function(n,e){this.v.append(n,e)},O.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},O.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(pg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Xae=ne.JSON.parse;function tt(n){kt.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=OU,this.L=this.M=!1}Rt(tt,kt);var OU="",Jae=/^https?$/i,Zae=["POST","PUT"];function FU(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,LU(n),gg(n)}function LU(n){n.F||(n.F=!0,Wt(n,"complete"),Wt(n,"error"))}function VU(n){if(n.h&&typeof O0<"u"&&(!n.C[1]||4!=Qr(n)||2!=n.da()))if(n.v&&4==Qr(n))rD(n.La,0,n);else if(Wt(n,"readystatechange"),4==Qr(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===o){var i=String(n.I).match(CU)[1]||null;!i&&ne.self&&ne.self.location&&(i=ne.self.location.protocol.slice(0,-1)),r=!Jae.test(i?i.toLowerCase():"")}t=r}if(t)Wt(n,"complete"),Wt(n,"success");else{n.m=6;try{var s=2<Qr(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",LU(n)}}finally{gg(n)}}}function gg(n,e){if(n.g){UU(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Wt(n,"ready");try{t.onreadystatechange=r}catch{}}}function UU(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(ne.clearTimeout(n.A),n.A=null)}function Qr(n){return n.g?n.g.readyState:0}function BU(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case OU:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function $U(n){let e="";return z0(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function pD(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=$U(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Be(n,e,t))}function rd(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function jU(n){this.Ga=0,this.j=[],this.l=new ig,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=rd("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=rd("baseRetryDelayMs",5e3,n),this.hb=rd("retryDelaySeedMs",1e4,n),this.eb=rd("forwardChannelMaxRetries",2,n),this.xa=rd("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new xU(n&&n.concurrentRequestLimit),this.Ja=new Kae,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function gD(n){if(HU(n),3==n.H){var e=n.W++,t=Fi(n.I);if(Be(t,"SID",n.K),Be(t,"RID",e),Be(t,"TYPE","terminate"),id(n,t),(e=new Kl(n,n.l,e)).L=2,e.v=hg(Fi(t)),t=!1,ne.navigator&&ne.navigator.sendBeacon)try{t=ne.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&ne.Image&&((new Image).src=e.v,t=!0),t||(e.g=JU(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Ql(e)}YU(n)}function mg(n){n.g&&(yD(n),n.g.cancel(),n.g=null)}function HU(n){mg(n),n.u&&(ne.clearTimeout(n.u),n.u=null),_g(n),n.i.cancel(),n.m&&("number"==typeof n.m&&ne.clearTimeout(n.m),n.m=null)}function yg(n){if(!MU(n.i)&&!n.m){n.m=!0;var e=n.Na;jl||sU(),Hl||(jl(),Hl=!0),tD.add(e,n),n.C=0}}function GU(n,e){var t;t=e?e.m:n.W++;const r=Fi(n.I);Be(r,"SID",n.K),Be(r,"RID",t),Be(r,"AID",n.V),id(n,r),n.o&&n.s&&pD(r,n.o,n.s),t=new Kl(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=zU(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),hD(n.i,t),cD(t,r,e)}function id(n,e){n.na&&z0(n.na,function(t,r){Be(e,r,t)}),n.h&&EU({},function(t,r){Be(e,r,t)})}function zU(n,e,t){t=Math.min(n.j.length,t);var r=n.h?un(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<t;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{Qae(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function qU(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;jl||sU(),Hl||(jl(),Hl=!0),tD.add(e,n),n.A=0}}function mD(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=ql(un(n.Ma,n),QU(n,n.A)),n.A++,0))}function yD(n){null!=n.B&&(ne.clearTimeout(n.B),n.B=null)}function WU(n){n.g=new Kl(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Fi(n.wa);Be(e,"RID","rpc"),Be(e,"SID",n.K),Be(e,"AID",n.V),Be(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Be(e,"TO",n.qa),Be(e,"TYPE","xmlhttp"),id(n,e),n.o&&n.s&&pD(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=hg(Fi(e)),t.s=null,t.S=!0,_U(t,n)}function _g(n){null!=n.v&&(ne.clearTimeout(n.v),n.v=null)}function KU(n,e){var t=null;if(n.g==e){_g(n),yD(n),n.g=null;var r=2}else{if(!dD(n.i,e))return;t=e.F,RU(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;Wt(r=sg(),new fU(r,t)),yg(n)}else qU(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function nue(n,e){return!(PU(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=ql(un(n.Na,n,e),QU(n,n.C)),n.C++,0)))}(n,e)||2==r&&mD(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Eo(n,5);break;case 4:Eo(n,10);break;case 3:Eo(n,6);break;default:Eo(n,2)}}function QU(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Eo(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=un(n.pb,n);t||(t=new Io("//www.google.com/images/cleardot.gif"),ne.location&&"http"==ne.location.protocol||lg(t,"https"),hg(t)),function Yae(n,e){const t=new ig;if(ne.Image){const r=new Image;r.onload=Jp(fg,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Jp(fg,t,r,"TestLoadImage: error",!1,e),r.onabort=Jp(fg,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Jp(fg,t,r,"TestLoadImage: timeout",!1,e),ne.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Cn(2);n.H=0,n.h&&n.h.za(e),YU(n),HU(n)}function YU(n){if(n.H=0,n.ma=[],n.h){const e=kU(n.i);(0!=e.length||0!=n.j.length)&&(zV(n.ma,e),zV(n.ma,n.j),n.i.i.length=0,L0(n.j),n.j.length=0),n.h.ya()}}function XU(n,e,t){var r=t instanceof Io?Fi(t):new Io(t);if(""!=r.g)e&&(r.g=e+"."+r.g),dg(r,r.m);else{var i=ne.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Io(null);r&&lg(s,r),e&&(s.g=e),i&&dg(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&Be(r,t,e),Be(r,"VER",n.ra),id(n,r),r}function JU(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new tt(t&&n.Ha&&!n.va?new ed({ob:!0}):n.va)).Oa(n.J),e}function ZU(){}function vg(){if(nu&&!(10<=Number(gae)))throw Error("Environmental error: no available transport.")}function Wn(n,e){kt.call(this),this.g=new jU(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Ul(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ul(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new su(this)}function eB(n){sD.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function tB(){oD.call(this),this.status=1}function su(n){this.g=n}function Er(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function _D(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;o=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function Te(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(O=tt.prototype).Oa=function(n){this.M=n},O.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():aD.g(),this.C=function gU(n){return n.h||(n.h=n.i())}(this.u?this.u:aD),this.g.onreadystatechange=un(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void FU(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=ne.FormData&&n instanceof ne.FormData,!(0<=GV(Zae,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{UU(this),0<this.B&&((this.L=function eue(n){return nu&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=un(this.ua,this)):this.A=rD(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){FU(this,s)}},O.ua=function(){typeof O0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Wt(this,"timeout"),this.abort(8))},O.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Wt(this,"complete"),Wt(this,"abort"),gg(this))},O.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),gg(this,!0)),tt.$.N.call(this)},O.La=function(){this.s||(this.G||this.v||this.l?VU(this):this.kb())},O.kb=function(){VU(this)},O.isActive=function(){return!!this.g},O.da=function(){try{return 2<Qr(this)?this.g.status:-1}catch{return-1}},O.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},O.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Xae(e)}},O.Ia=function(){return this.m},O.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(O=jU.prototype).ra=8,O.H=1,O.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new Kl(this,this.l,n);let s=this.s;if(this.U&&(s?(s=YV(s),JV(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=zU(this,i,e),Be(t=Fi(this.I),"RID",n),Be(t,"CVER",22),this.F&&Be(t,"X-HTTP-Session-Id",this.F),id(this,t),s&&(this.O?e="headers="+encodeURIComponent(String($U(s)))+"&"+e:this.o&&pD(t,this.o,s)),hD(this.i,i),this.bb&&Be(t,"TYPE","init"),this.P?(Be(t,"$req",e),Be(t,"SID","null"),i.aa=!0,cD(i,t,null)):cD(i,t,e),this.H=2}}else 3==this.H&&(n?GU(this,n):0==this.j.length||MU(this.i)||GU(this))},O.Ma=function(){if(this.u=null,WU(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=ql(un(this.jb,this),n)}},O.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Cn(10),mg(this),WU(this))},O.ib=function(){null!=this.v&&(this.v=null,mg(this),mD(this),Cn(19))},O.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Cn(2)):(this.l.info("Failed to ping google.com"),Cn(1))},O.isActive=function(){return!!this.h&&this.h.isActive(this)},(O=ZU.prototype).Ba=function(){},O.Aa=function(){},O.za=function(){},O.ya=function(){},O.isActive=function(){return!0},O.Va=function(){},vg.prototype.g=function(n,e){return new Wn(n,e)},Rt(Wn,kt),Wn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Cn(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=XU(n,null,n.Y),yg(n)},Wn.prototype.close=function(){gD(this.g)},Wn.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=eD(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&yg(e)},Wn.prototype.N=function(){this.g.h=null,delete this.j,gD(this.g),delete this.g,Wn.$.N.call(this)},Rt(eB,sD),Rt(tB,oD),Rt(su,ZU),su.prototype.Ba=function(){Wt(this.g,"a")},su.prototype.Aa=function(n){Wt(this.g,new eB(n))},su.prototype.za=function(n){Wt(this.g,new tB)},su.prototype.ya=function(){Wt(this.g,"b")},Rt(Er,function rue(){this.blockSize=-1}),Er.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Er.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)_D(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){_D(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){_D(this,r),i=0;break}}this.h=i,this.i+=e},Er.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var iue={};function vD(n){return-128<=n&&128>n?function hae(n,e){var t=iue;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Te([0|e],0>e?-1:0)}):new Te([0|n],0>n?-1:0)}function Yr(n){if(isNaN(n)||!isFinite(n))return ou;if(0>n)return Kt(Yr(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=wD;return new Te(e,0)}var wD=4294967296,ou=vD(0),ID=vD(1),rB=vD(16777216);function Li(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function lr(n){return-1==n.h}function Kt(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Te(t,~n.h).add(ID)}function wg(n,e){return n.add(Kt(e))}function Ig(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function sd(n,e){this.g=n,this.h=e}function Eg(n,e){if(Li(e))throw Error("division by zero");if(Li(n))return new sd(ou,ou);if(lr(n))return e=Eg(Kt(n),e),new sd(Kt(e.g),Kt(e.h));if(lr(e))return e=Eg(n,Kt(e)),new sd(Kt(e.g),e.h);if(30<n.g.length){if(lr(n)||lr(e))throw Error("slowDivide_ only works with positive integers.");for(var t=ID,r=e;0>=r.X(n);)t=iB(t),r=iB(r);var i=au(t,1),s=au(r,1);for(r=au(r,2),t=au(t,2);!Li(r);){var o=s.add(r);0>=o.X(n)&&(i=i.add(t),s=o),r=au(r,1),t=au(t,1)}return e=wg(n,i.R(e)),new sd(i,e)}for(i=ou;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Yr(t)).R(e);lr(o)||0<o.X(n);)o=(s=Yr(t-=r)).R(e);Li(s)&&(s=ID),i=i.add(s),n=wg(n,o)}return new sd(i,n)}function iB(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Te(t,n.h)}function au(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new Te(i,n.h)}(O=Te.prototype).ea=function(){if(lr(this))return-Kt(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:wD+r)*e,e*=wD}return n},O.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Li(this))return"0";if(lr(this))return"-"+Kt(this).toString(n);for(var e=Yr(Math.pow(n,6)),t=this,r="";;){var i=Eg(t,e).g,s=((0<(t=wg(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Li(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},O.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},O.X=function(n){return lr(n=wg(this,n))?-1:Li(n)?0:1},O.abs=function(){return lr(this)?Kt(this):this},O.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=o>>>16,t[i]=(o&=65535)<<16|(s&=65535)}return new Te(t,-2147483648&t[t.length-1]?-1:0)},O.R=function(n){if(Li(this)||Li(n))return ou;if(lr(this))return lr(n)?Kt(this).R(Kt(n)):Kt(Kt(this).R(n));if(lr(n))return Kt(this.R(Kt(n)));if(0>this.X(rB)&&0>n.X(rB))return Yr(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=n.D(i)>>>16,u=65535&n.D(i);t[2*r+2*i]+=o*u,Ig(t,2*r+2*i),t[2*r+2*i+1]+=s*u,Ig(t,2*r+2*i+1),t[2*r+2*i+1]+=o*a,Ig(t,2*r+2*i+1),t[2*r+2*i+2]+=s*a,Ig(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Te(t,0)},O.gb=function(n){return Eg(this,n).h},O.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Te(t,this.h&n.h)},O.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Te(t,this.h|n.h)},O.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Te(t,this.h^n.h)},vg.prototype.createWebChannel=vg.prototype.g,Wn.prototype.send=Wn.prototype.u,Wn.prototype.open=Wn.prototype.m,Wn.prototype.close=Wn.prototype.close,og.NO_ERROR=0,og.TIMEOUT=8,og.HTTP_ERROR=6,pU.COMPLETE="complete",mU.EventType=Wl,Wl.OPEN="a",Wl.CLOSE="b",Wl.ERROR="c",Wl.MESSAGE="d",kt.prototype.listen=kt.prototype.O,tt.prototype.listenOnce=tt.prototype.P,tt.prototype.getLastError=tt.prototype.Sa,tt.prototype.getLastErrorCode=tt.prototype.Ia,tt.prototype.getStatus=tt.prototype.da,tt.prototype.getResponseJson=tt.prototype.Wa,tt.prototype.getResponseText=tt.prototype.ja,tt.prototype.send=tt.prototype.ha,tt.prototype.setWithCredentials=tt.prototype.Oa,Er.prototype.digest=Er.prototype.l,Er.prototype.reset=Er.prototype.reset,Er.prototype.update=Er.prototype.j,Te.prototype.add=Te.prototype.add,Te.prototype.multiply=Te.prototype.R,Te.prototype.modulo=Te.prototype.gb,Te.prototype.compare=Te.prototype.X,Te.prototype.toNumber=Te.prototype.ea,Te.prototype.toString=Te.prototype.toString,Te.prototype.getBits=Te.prototype.D,Te.fromNumber=Yr,Te.fromString=function nB(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Kt(nB(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Yr(Math.pow(e,8)),r=ou,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),o=parseInt(n.substring(i,i+s),e);8>s?(s=Yr(Math.pow(e,s)),r=r.R(s).add(Yr(o))):r=(r=r.R(t)).add(Yr(o))}return r};var sue=Ir.createWebChannelTransport=function(){return new vg},oue=Ir.getStatEventTarget=function(){return sg()},ED=Ir.ErrorCode=og,aue=Ir.EventType=pU,uue=Ir.Event=vo,sB=Ir.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},cue=Ir.FetchXmlHttpFactory=ed,Cg=Ir.WebChannel=mU,lue=Ir.XhrIo=tt,due=Ir.Md5=Er,uu=Ir.Integer=Te;const oB="@firebase/firestore";class Nt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nt.UNAUTHENTICATED=new Nt(null),Nt.GOOGLE_CREDENTIALS=new Nt("google-credentials-uid"),Nt.FIRST_PARTY=new Nt("first-party-uid"),Nt.MOCK_USER=new Nt("mock-user");let cu="9.22.1";const ys=new za("@firebase/firestore");function CD(){return ys.logLevel}function A(n,...e){if(ys.logLevel<=me.DEBUG){const t=e.map(bD);ys.debug(`Firestore (${cu}): ${n}`,...t)}}function ut(n,...e){if(ys.logLevel<=me.ERROR){const t=e.map(bD);ys.error(`Firestore (${cu}): ${n}`,...t)}}function Cr(n,...e){if(ys.logLevel<=me.WARN){const t=e.map(bD);ys.warn(`Firestore (${cu}): ${n}`,...t)}}function bD(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function U(n="Unexpected state"){const e=`FIRESTORE (${cu}) INTERNAL ASSERTION FAILED: `+n;throw ut(e),new Error(e)}function j(n,e){n||U()}function N(n,e){return n}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class T extends ur{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Dt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class aB{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hue{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Nt.UNAUTHENTICATED))}shutdown(){}}class fue{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class pue{constructor(e){this.t=e,this.currentUser=Nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let o=new Dt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Dt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(g(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{A("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(A("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Dt)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(A("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(j("string"==typeof r.accessToken),new aB(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return j(null===e||"string"==typeof e),new Nt(e)}}class gue{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Nt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class mue{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new gue(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Nt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yue{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=s=>{null!=s.error&&A("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,A("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{A("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):A("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(j("string"==typeof t.token),this.T=t.token,new uB(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function _ue(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class cB{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=_ue(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function Z(n,e){return n<e?-1:n>e?1:0}function lu(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class Qe{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new T(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new T(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new T(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new T(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qe.fromMillis(Date.now())}static fromDate(e){return Qe.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Qe(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Z(this.nanoseconds,e.nanoseconds):Z(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class H{constructor(e){this.timestamp=e}static fromTimestamp(e){return new H(e)}static min(){return new H(new Qe(0,0))}static max(){return new H(new Qe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class od{constructor(e,t,r){void 0===t?t=0:t>e.length&&U(),void 0===r?r=e.length-t:r>e.length-t&&U(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===od.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof od?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ve extends od{construct(e,t,r){return new ve(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new T(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new ve(t)}static emptyPath(){return new ve([])}}const vue=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ct extends od{construct(e,t,r){return new ct(e,t,r)}static isValidIdentifier(e){return vue.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ct(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new T(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new T(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new T(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new T(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ct(t)}static emptyPath(){return new ct([])}}class R{constructor(e){this.path=e}static fromPath(e){return new R(ve.fromString(e))}static fromName(e){return new R(ve.fromString(e).popFirst(5))}static empty(){return new R(ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ve.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ve.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new R(new ve(e.slice()))}}function hB(n){return new Kn(n.readTime,n.key,-1)}class Kn{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Kn(H.min(),R.empty(),-1)}static max(){return new Kn(H.max(),R.empty(),-1)}}function TD(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=R.comparator(n.documentKey,e.documentKey),0!==t?t:Z(n.largestBatchId,e.largestBatchId))}const fB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Eue{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function _s(n){return SD.apply(this,arguments)}function SD(){return SD=g(function*(n){if(n.code!==I.FAILED_PRECONDITION||n.message!==fB)throw n;A("LocalStore","Unexpectedly lost primary lease")}),SD.apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&U(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof w?t:w.resolve(t)}catch(t){return w.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):w.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):w.reject(t)}static resolve(e){return new w((t,r)=>{t(e)})}static reject(e){return new w((t,r)=>{r(e)})}static waitFor(e){return new w((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=w.resolve(!1);for(const r of e)t=t.next(i=>i?w.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new w((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;t(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,t){return new w((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function vs(n){return"IndexedDbTransactionError"===n.name}let Qn=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function cd(n){return null==n}function ld(n){return 0===n&&1/n==-1/0}function EB(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ws(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function CB(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Ne{constructor(e,t){this.comparator=e,this.root=t||Qt.EMPTY}insert(e,t){return new Ne(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new Ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ag(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ag(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ag(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ag(this.root,e,this.comparator,!0)}}class Ag{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Qt.RED,this.left=i??Qt.EMPTY,this.right=s??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Qt(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Qt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw U();const e=this.left.check();if(e!==this.right.check())throw U();return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1,Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw U()}get value(){throw U()}get color(){throw U()}get left(){throw U()}get right(){throw U()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Qt(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $e{constructor(e){this.comparator=e,this.data=new Ne(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new bB(this.data.getIterator())}getIteratorFrom(e){return new bB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof $e)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new $e(this.comparator);return t.data=e,t}}class bB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Nn{constructor(e){this.fields=e,e.sort(ct.comparator)}static empty(){return new Nn([])}unionWith(e){let t=new $e(ct.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Nn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return lu(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class DB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Tt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new DB("Invalid base64 string: "+i):i}}(e);return new Tt(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Tt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Z(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tt.EMPTY_BYTE_STRING=new Tt("");const zue=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Is(n){if(j(!!n),"string"==typeof n){let e=0;const t=zue.exec(n);if(j(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:nt(n.seconds),nanos:nt(n.nanos)}}function nt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Vi(n){return"string"==typeof n?Tt.fromBase64String(n):Tt.fromUint8Array(n)}function xg(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Mg(n){const e=n.mapValue.fields.__previous_value__;return xg(e)?Mg(e):e}function dd(n){const e=Is(n.mapValue.fields.__local_write_time__.timestampValue);return new Qe(e.seconds,e.nanos)}class que{constructor(e,t,r,i,s,o,a,u,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Do{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Do("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Do&&e.projectId===this.projectId&&e.database===this.database}}const Es={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Cs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?xg(n)?4:xB(n)?9007199254740991:10:U()}function Jr(n,e){if(n===e)return!0;const t=Cs(n);if(t!==Cs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return dd(n).isEqual(dd(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Is(r.timestampValue),o=Is(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Vi(n.bytesValue).isEqual(Vi(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return nt(r.geoPointValue.latitude)===nt(i.geoPointValue.latitude)&&nt(r.geoPointValue.longitude)===nt(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return nt(r.integerValue)===nt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=nt(r.doubleValue),o=nt(i.doubleValue);return s===o?ld(s)===ld(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return lu(n.arrayValue.values||[],e.arrayValue.values||[],Jr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(EB(s)!==EB(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Jr(s[a],o[a])))return!1;return!0}(n,e);default:return U()}var i}function hd(n,e){return void 0!==(n.values||[]).find(t=>Jr(t,e))}function bs(n,e){if(n===e)return 0;const t=Cs(n),r=Cs(e);if(t!==r)return Z(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Z(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=nt(i.integerValue||i.doubleValue),a=nt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return TB(n.timestampValue,e.timestampValue);case 4:return TB(dd(n),dd(e));case 5:return Z(n.stringValue,e.stringValue);case 6:return function(i,s){const o=Vi(i),a=Vi(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=Z(o[u],a[u]);if(0!==c)return c}return Z(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Z(nt(i.latitude),nt(s.latitude));return 0!==o?o:Z(nt(i.longitude),nt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=bs(o[u],a[u]);if(c)return c}return Z(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Es.mapValue&&s===Es.mapValue)return 0;if(i===Es.mapValue)return 1;if(s===Es.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=Z(a[l],c[l]);if(0!==d)return d;const h=bs(o[a[l]],u[c[l]]);if(0!==h)return h}return Z(a.length,c.length)}(n.mapValue,e.mapValue);default:throw U()}}function TB(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Z(n,e);const t=Is(n),r=Is(e),i=Z(t.seconds,r.seconds);return 0!==i?i:Z(t.nanos,r.nanos)}function hu(n){return MD(n)}function MD(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Is(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Vi(n.bytesValue).toBase64():"referenceValue"in n?R.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=MD(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${MD(r.fields[a])}`;return s+"}"}(n.mapValue):U();var e}function To(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function PD(n){return!!n&&"integerValue"in n}function fd(n){return!!n&&"arrayValue"in n}function SB(n){return!!n&&"nullValue"in n}function AB(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function kg(n){return!!n&&"mapValue"in n}function pd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ws(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=pd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=pd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function xB(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Yt{constructor(e){this.value=e}static empty(){return new Yt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!kg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=pd(t)}setAll(e){let t=ct.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=pd(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());kg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Jr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];kg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ws(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Yt(pd(this.value))}}function RB(n){const e=[];return ws(n.fields,(t,r)=>{const i=new ct([t]);if(kg(r)){const s=RB(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Nn(e)}class je{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new je(e,0,H.min(),H.min(),H.min(),Yt.empty(),0)}static newFoundDocument(e,t,r,i){return new je(e,1,t,H.min(),r,i,0)}static newNoDocument(e,t){return new je(e,2,t,H.min(),H.min(),Yt.empty(),0)}static newUnknownDocument(e,t){return new je(e,3,t,H.min(),H.min(),Yt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(H.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=H.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof je&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ds{constructor(e,t){this.position=e,this.inclusive=t}}function kB(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?R.comparator(R.fromName(o.referenceValue),t.key):bs(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function NB(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Jr(n.position[t],e.position[t]))return!1;return!0}class fu{constructor(e,t="asc"){this.field=e,this.dir=t}}function Que(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class OB{}class ge extends OB{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Yue(e,t,r):"array-contains"===t?new Zue(e,r):"in"===t?new $B(e,r):"not-in"===t?new ece(e,r):"array-contains-any"===t?new tce(e,r):new ge(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new Xue(e,r):new Jue(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(bs(t,this.value)):null!==t&&Cs(this.value)===Cs(t)&&this.matchesComparison(bs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return U()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Se extends OB{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Se(e,t)}matches(e){return pu(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function pu(n){return"and"===n.op}function kD(n){return function FB(n){for(const e of n.filters)if(e instanceof Se)return!1;return!0}(n)&&pu(n)}function ND(n){if(n instanceof ge)return n.field.canonicalString()+n.op.toString()+hu(n.value);if(kD(n))return n.filters.map(e=>ND(e)).join(",");{const e=n.filters.map(t=>ND(t)).join(",");return`${n.op}(${e})`}}function LB(n,e){return n instanceof ge?(t=n,(r=e)instanceof ge&&t.op===r.op&&t.field.isEqual(r.field)&&Jr(t.value,r.value)):n instanceof Se?function(t,r){return r instanceof Se&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,s,o)=>i&&LB(s,r.filters[o]),!0)}(n,e):void U();var t,r}function UB(n){return n instanceof ge?`${(e=n).field.canonicalString()} ${e.op} ${hu(e.value)}`:n instanceof Se?function(e){return e.op.toString()+" {"+e.getFilters().map(UB).join(" ,")+"}"}(n):"Filter";var e}class Yue extends ge{constructor(e,t,r){super(e,t,r),this.key=R.fromName(r.referenceValue)}matches(e){const t=R.comparator(e.key,this.key);return this.matchesComparison(t)}}class Xue extends ge{constructor(e,t){super(e,"in",t),this.keys=BB(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Jue extends ge{constructor(e,t){super(e,"not-in",t),this.keys=BB(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function BB(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>R.fromName(r.referenceValue))}class Zue extends ge{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return fd(t)&&hd(t.arrayValue,this.value)}}class $B extends ge{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&hd(this.value.arrayValue,t)}}class ece extends ge{constructor(e,t){super(e,"not-in",t)}matches(e){if(hd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!hd(this.value.arrayValue,t)}}class tce extends ge{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!fd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>hd(this.value.arrayValue,r))}}class nce{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function OD(n,e=null,t=[],r=[],i=null,s=null,o=null){return new nce(n,e,t,r,i,s,o)}function So(n){const e=N(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>ND(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),cd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>hu(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>hu(r)).join(",")),e.dt=t}return e.dt}function gd(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Que(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!LB(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!NB(n.startAt,e.startAt)&&NB(n.endAt,e.endAt)}function Ng(n){return R.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Ui{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function gu(n){return new Ui(n)}function zB(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function FD(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Fg(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function LD(n){return null!==n.collectionGroup}function Ao(n){const e=N(n);if(null===e.wt){e.wt=[];const t=Fg(e),r=FD(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new fu(t)),e.wt.push(new fu(ct.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new fu(ct.keyField(),s))}}}return e.wt}function bn(n){const e=N(n);if(!e._t)if("F"===e.limitType)e._t=OD(e.path,e.collectionGroup,Ao(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Ao(e))t.push(new fu(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Ds(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Ds(e.startAt.position,e.startAt.inclusive):null;e._t=OD(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function VD(n,e){e.getFirstInequalityField(),Fg(n);const t=n.filters.concat([e]);return new Ui(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Lg(n,e,t){return new Ui(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function md(n,e){return gd(bn(n),bn(e))&&n.limitType===e.limitType}function qB(n){return`${So(bn(n))}|lt:${n.limitType}`}function UD(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>UB(r)).join(", ")}]`),cd(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>hu(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>hu(r)).join(",")),`Target(${t})`}(bn(n))}; limitType=${n.limitType})`}function yd(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):R.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Ao(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,o){const a=kB(i,s,o);return i.inclusive?a<=0:a<0}(t.startAt,Ao(t),r)||t.endAt&&!function(i,s,o){const a=kB(i,s,o);return i.inclusive?a>=0:a>0}(t.endAt,Ao(t),r)));var t,r}function KB(n){return(e,t)=>{let r=!1;for(const i of Ao(n)){const s=rce(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function rce(n,e,t){const r=n.field.isKeyField()?R.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?bs(a,u):U()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return U()}}class Bi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ws(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return CB(this.inner)}size(){return this.innerSize}}const ice=new Ne(R.comparator);function On(){return ice}const QB=new Ne(R.comparator);function _d(...n){let e=QB;for(const t of n)e=e.insert(t.key,t);return e}function YB(n){let e=QB;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Zr(){return vd()}function XB(){return vd()}function vd(){return new Bi(n=>n.toString(),(n,e)=>n.isEqual(e))}const sce=new Ne(R.comparator),oce=new $e(R.comparator);function ue(...n){let e=oce;for(const t of n)e=e.add(t);return e}const ace=new $e(Z);function JB(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ld(e)?"-0":e}}function ZB(n){return{integerValue:""+n}}function e$(n,e){return function gB(n){return"number"==typeof n&&Number.isInteger(n)&&!ld(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?ZB(e):JB(n,e)}class Vg{constructor(){this._=void 0}}function uce(n,e,t){return n instanceof mu?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&xg(i)&&(i=Mg(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof xo?n$(n,e):n instanceof Mo?r$(n,e):function(r,i){const s=t$(r,i),o=i$(s)+i$(r.gt);return PD(s)&&PD(r.gt)?ZB(o):JB(r.serializer,o)}(n,e)}function cce(n,e,t){return n instanceof xo?n$(n,e):n instanceof Mo?r$(n,e):t}function t$(n,e){return n instanceof yu?PD(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class mu extends Vg{}class xo extends Vg{constructor(e){super(),this.elements=e}}function n$(n,e){const t=s$(e);for(const r of n.elements)t.some(i=>Jr(i,r))||t.push(r);return{arrayValue:{values:t}}}class Mo extends Vg{constructor(e){super(),this.elements=e}}function r$(n,e){let t=s$(e);for(const r of n.elements)t=t.filter(i=>!Jr(i,r));return{arrayValue:{values:t}}}class yu extends Vg{constructor(e,t){super(),this.serializer=e,this.gt=t}}function i$(n){return nt(n.integerValue||n.doubleValue)}function s$(n){return fd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class dce{constructor(e,t){this.version=e,this.transformResults=t}}class ze{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ze}static exists(e){return new ze(void 0,e)}static updateTime(e){return new ze(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ug(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Bg{}function o$(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new vu(n.key,ze.none()):new _u(n.key,n.data,ze.none());{const t=n.data,r=Yt.empty();let i=new $e(ct.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new $i(n.key,r,new Nn(i.toArray()),ze.none())}}function hce(n,e,t){n instanceof _u?function(r,i,s){const o=r.value.clone(),a=c$(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof $i?function(r,i,s){if(!Ug(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=c$(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(u$(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Id(n,e,t,r){return n instanceof _u?function(i,s,o,a){if(!Ug(i.precondition,s))return o;const u=i.value.clone(),c=l$(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof $i?function(i,s,o,a){if(!Ug(i.precondition,s))return o;const u=l$(i.fieldTransforms,a,s),c=s.data;return c.setAll(u$(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(n,e,t,r):(o=t,Ug(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function fce(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=t$(r.transform,i||null);null!=s&&(null===t&&(t=Yt.empty()),t.set(r.field,s))}return t||null}function a$(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&lu(t,r,(i,s)=>function lce(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof xo&&r instanceof xo||t instanceof Mo&&r instanceof Mo?lu(t.elements,r.elements,Jr):t instanceof yu&&r instanceof yu?Jr(t.gt,r.gt):t instanceof mu&&r instanceof mu);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class _u extends Bg{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class $i extends Bg{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function u$(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function c$(n,e,t){const r=new Map;j(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,cce(o,a,t[i]))}return r}function l$(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,uce(s,o,e))}return r}class vu extends Bg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $D extends Bg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class jD{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&hce(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Id(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Id(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=XB();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const u=o$(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(H.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ue())}isEqual(e){return this.batchId===e.batchId&&lu(this.mutations,e.mutations,(t,r)=>a$(t,r))&&lu(this.baseMutations,e.baseMutations,(t,r)=>a$(t,r))}}class HD{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){j(e.mutations.length===r.length);let i=sce;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new HD(e,t,r,i)}}class GD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class gce{constructor(e,t){this.count=e,this.unchangedNames=t}}var vt,we;function h$(n){if(void 0===n)return ut("GRPC error has no .code"),I.UNKNOWN;switch(n){case vt.OK:return I.OK;case vt.CANCELLED:return I.CANCELLED;case vt.UNKNOWN:return I.UNKNOWN;case vt.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case vt.INTERNAL:return I.INTERNAL;case vt.UNAVAILABLE:return I.UNAVAILABLE;case vt.UNAUTHENTICATED:return I.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case vt.NOT_FOUND:return I.NOT_FOUND;case vt.ALREADY_EXISTS:return I.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return I.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case vt.ABORTED:return I.ABORTED;case vt.OUT_OF_RANGE:return I.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return I.UNIMPLEMENTED;case vt.DATA_LOSS:return I.DATA_LOSS;default:return U()}}(we=vt||(vt={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";class zD{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return $g}static getOrCreateInstance(){return null===$g&&($g=new zD),$g}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let $g=null;const mce=new uu([4294967295,4294967295],0);function p$(n){const e=function f$(){return new TextEncoder}().encode(n),t=new due;return t.update(e),new Uint8Array(t.digest())}function g$(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new uu([t,r],0),new uu([i,s],0)]}class qD{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ed(`Invalid padding: ${t}`);if(r<0)throw new Ed(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Ed(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Ed(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=uu.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(uu.fromNumber(r)));return 1===i.compare(mce)&&(i=new uu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=p$(e),[r,i]=g$(t);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new qD(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const t=p$(e),[r,i]=g$(t);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Ed extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Cd{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,bd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Cd(H.min(),i,new Ne(Z),On(),ue())}}class bd{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new bd(r,t,ue(),ue(),ue())}}class jg{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class m${constructor(e,t){this.targetId=e,this.Vt=t}}class y${constructor(e,t,r=Tt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class _${constructor(){this.St=0,this.Dt=w$(),this.Ct=Tt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ue(),t=ue(),r=ue();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:U()}}),new bd(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=w$()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class yce{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=On(),this.zt=v$(),this.Wt=new Ne(Z)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:U()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Ng(o))if(0===i){const a=new R(o.path);this.Yt(r,a,je.newNoDocument(a,H.min()))}else j(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=zD.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,m,y,_;const C={localCacheCount:l,existenceFilterCount:d.count},v=d.unchangedNames;return v&&(C.bloomFilter={applied:0===c,hashCount:null!==(h=v?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(m=null===(p=null===(f=v?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==m?m:0,padding:null!==(_=null===(y=v?.bits)||void 0===y?void 0:y.padding)&&void 0!==_?_:0}),C}(u,a,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=Vi(s).toUint8Array()}catch(l){if(l instanceof DB)return Cr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new qD(u,o,a)}catch(l){return Cr(l instanceof Ed?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==t-this.oe(e.targetId,c)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Ng(a.target)){const u=new R(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,je.newNoDocument(u,e))}s.Mt&&(t.set(o,s.Ot()),s.Ft())}});let r=ue();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new Cd(e,t,this.Wt,this.jt,r);return this.jt=On(),this.zt=v$(),this.Wt=new Ne(Z),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new _$,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new $e(Z),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||A("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new _$),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function v$(){return new Ne(R.comparator)}function w$(){return new Ne(R.comparator)}const _ce={asc:"ASCENDING",desc:"DESCENDING"},vce={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wce={and:"AND",or:"OR"};class Ice{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function WD(n,e){return n.useProto3Json||cd(e)?e:{value:e}}function wu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function I$(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Ece(n,e){return wu(n,e.toTimestamp())}function lt(n){return j(!!n),H.fromTimestamp(function(e){const t=Is(e);return new Qe(t.seconds,t.nanos)}(n))}function KD(n,e){return(t=n,new ve(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function E$(n){const e=ve.fromString(n);return j(P$(e)),e}function Dd(n,e){return KD(n.databaseId,e.path)}function ei(n,e){const t=E$(e);if(t.get(1)!==n.databaseId.projectId)throw new T(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new T(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new R(b$(t))}function QD(n,e){return KD(n.databaseId,e)}function Td(n){return new ve(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function b$(n){return j(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function D$(n,e,t){return{name:Dd(n,e),fields:t.value.mapValue.fields}}function S$(n,e){return{documents:[QD(n,e.path)]}}function XD(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=QD(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=QD(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return M$(Se.create(u,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:Ts((l=c).field),direction:Sce(l.dir)};var l})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=WD(n,e.limit);var a,u;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),t}function A$(n){let e=function C$(n){const e=E$(n);return 4===e.length?ve.emptyPath():b$(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){j(1===r);const l=t.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];t.where&&(s=function(l){const d=x$(l);return d instanceof Se&&kD(d)?d.getFilters():[d]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(l=>{return new fu(Iu((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,cd(d)?null:d}(t.limit));let u=null;var l;t.startAt&&(u=new Ds((l=t.startAt).values||[],!!l.before));let c=null;return t.endAt&&(c=function(l){return new Ds(l.values||[],!l.before)}(t.endAt)),function GB(n,e,t,r,i,s,o,a){return new Ui(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function x$(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Iu(e.unaryFilter.field);return ge.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Iu(e.unaryFilter.field);return ge.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Iu(e.unaryFilter.field);return ge.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Iu(e.unaryFilter.field);return ge.create(s,"!=",{nullValue:"NULL_VALUE"});default:return U()}}(n):void 0!==n.fieldFilter?ge.create(Iu((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return U()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Se.create(e.compositeFilter.filters.map(t=>x$(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return U()}}(e.compositeFilter.op))}(n):U();var e}function Sce(n){return _ce[n]}function Ace(n){return vce[n]}function xce(n){return wce[n]}function Ts(n){return{fieldPath:n.canonicalString()}}function Iu(n){return ct.fromServerFormat(n.fieldPath)}function M$(n){return n instanceof ge?function(e){if("=="===e.op){if(AB(e.value))return{unaryFilter:{field:Ts(e.field),op:"IS_NAN"}};if(SB(e.value))return{unaryFilter:{field:Ts(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(AB(e.value))return{unaryFilter:{field:Ts(e.field),op:"IS_NOT_NAN"}};if(SB(e.value))return{unaryFilter:{field:Ts(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ts(e.field),op:Ace(e.op),value:e.value}}}(n):n instanceof Se?function(e){const t=e.getFilters().map(r=>M$(r));return 1===t.length?t[0]:{compositeFilter:{op:xce(e.op),filters:t}}}(n):U()}function Mce(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function P$(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class ji{constructor(e,t,r,i,s=H.min(),o=H.min(),a=Tt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new ji(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class R${constructor(e){this.fe=e}}function JD(n){const e=A$({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Lg(e,e.limit,"L"):e}class No{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(nt(e.integerValue));else if("doubleValue"in e){const r=nt(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),ld(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Vi(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?xB(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):U()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),R.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}No.Ve=new No;class Uce{constructor(){this.rn=new iT}addToCollectionParentIndex(e,t){return this.rn.add(t),w.resolve()}getCollectionParents(e,t){return w.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return w.resolve()}deleteFieldIndex(e,t){return w.resolve()}getDocumentsMatchingTarget(e,t){return w.resolve(null)}getIndexType(e,t){return w.resolve(0)}getFieldIndexes(e,t){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,t){return w.resolve(Kn.min())}getMinOffsetFromCollectionGroup(e,t){return w.resolve(Kn.min())}updateCollectionGroup(e,t,r){return w.resolve()}updateIndexEntries(e,t){return w.resolve()}}class iT{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new $e(ve.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new $e(ve.comparator)).toArray()}}new Uint8Array(0);class dn{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(41943040,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);class Fo{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Fo(0)}static Mn(){return new Fo(-1)}}class zce{constructor(){this.changes=new Bi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,je.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?w.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Kce{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ij{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Id(r.mutation,i,Nn.empty(),Qe.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ue()){const i=Zr();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=_d();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=Zr();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ue()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=On();const o=vd(),a=vd();return t.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof $i)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),Id(l.mutation,c,l.mutation.getFieldMask(),Qe.now())):o.set(c.key,Nn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),t.forEach((c,l)=>{var d;return a.set(c,new Kce(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=vd();let i=new Ne((o,a)=>o-a),s=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=t.get(u);if(null===c)return;let l=r.get(u)||Nn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||ue()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=XB();l.forEach(h=>{if(!s.has(h)){const f=o$(t.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return w.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return R.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):LD(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):w.resolve(Zr());let a=-1,u=s;return o.next(c=>w.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?w.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ue())).next(l=>({batchId:a,changes:YB(l)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new R(t)).next(r=>{let i=_d();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=_d();return this.indexManager.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const u=(c=t,l=a.child(i),new Ui(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,je.newInvalidDocument(c)))});let o=_d();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&Id(c.mutation,u,Nn.empty(),Qe.now()),yd(t,u)&&(o=o.insert(a,u))}),o})}}class Qce{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return w.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:lt(r.createTime)}),w.resolve()}getNamedQuery(e,t){return w.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:JD(r.bundledQuery),readTime:lt(r.readTime)}),w.resolve();var r}}class Yce{constructor(){this.overlays=new Ne(R.comparator),this.ls=new Map}getOverlay(e,t){return w.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Zr();return w.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.we(e,t,s)}),w.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),w.resolve()}getOverlaysForCollection(e,t,r){const i=Zr(),s=t.length+1,o=new R(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return w.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Ne((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=Zr(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Zr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return w.resolve(a)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new GD(t,r));let s=this.ls.get(t);void 0===s&&(s=ue(),this.ls.set(t,s)),this.ls.set(t,s.add(r.key))}}class sT{constructor(){this.fs=new $e(Ft.ds),this.ws=new $e(Ft._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new Ft(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new Ft(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new R(new ve([])),r=new Ft(t,e),i=new Ft(t,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new R(new ve([])),r=new Ft(t,e),i=new Ft(t,e+1);let s=ue();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Ft(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ft{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return R.comparator(e.key,t.key)||Z(e.As,t.As)}static _s(e,t){return Z(e.As,t.As)||R.comparator(e.key,t.key)}}class Xce{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new $e(Ft.ds)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.vs;this.vs++;const o=new jD(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Ft(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,t){return w.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),s=i<0?0:i;return w.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ft(t,0),i=new Ft(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new $e(Z);return t.forEach(i=>{const s=new Ft(i,0),o=new Ft(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),w.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;R.isDocumentKey(s)||(s=s.child(""));const o=new Ft(new R(s),0);let a=new $e(Z);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),w.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){j(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return w.forEach(t.mutations,i=>{const s=new Ft(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new Ft(t,0),i=this.Rs.firstAfterOrEqual(r);return w.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Jce{constructor(e){this.Ds=e,this.docs=new Ne(R.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return w.resolve(r?r.document.mutableCopy():je.newInvalidDocument(t))}getEntries(e,t){let r=On();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():je.newInvalidDocument(i))}),w.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=On();const o=t.path,a=new R(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||TD(hB(l),r)<=0||(i.has(l.key)||yd(t,l))&&(s=s.insert(l.key,l.mutableCopy()))}return w.resolve(s)}getAllFromCollectionGroup(e,t,r,i){U()}Cs(e,t){return w.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Zce(this)}getSize(e){return w.resolve(this.size)}}class Zce extends zce{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),w.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class ele{constructor(e){this.persistence=e,this.xs=new Bi(t=>So(t),gd),this.lastRemoteSnapshotVersion=H.min(),this.highestTargetId=0,this.Ns=0,this.ks=new sT,this.targetCount=0,this.Ms=Fo.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),w.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Fo(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,w.resolve()}updateTargetData(e,t){return this.Fn(t),w.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return w.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),w.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),w.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return w.resolve(r)}containsKey(e,t){return w.resolve(this.ks.containsKey(t))}}class oT{constructor(e,t){this.$s={},this.overlays={},this.Os=new Qn(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new ele(this),this.indexManager=new Uce,this.remoteDocumentCache=new Jce(r=>this.referenceDelegate.Ls(r)),this.serializer=new R$(t),this.qs=new Qce(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Yce,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new Xce(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){A("MemoryPersistence","Starting transaction:",e);const i=new tle(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,t){return w.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class tle extends Eue{constructor(e){super(),this.currentSequenceNumber=e}}class Xg{constructor(e){this.persistence=e,this.Qs=new sT,this.js=null}static zs(e){return new Xg(e)}get Ws(){if(this.js)return this.js;throw U()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),w.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),w.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Ws,r=>{const i=R.fromPath(r);return this.Hs(e,i).next(s=>{s||t.removeEntry(i,H.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return w.or([()=>w.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class lT{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=ue(),i=ue();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new lT(e,t.fromCache,r,i)}}class oj{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(s=>s||this.Gi(e,t,i,r)).next(s=>s||this.Qi(e,t))}Ki(e,t){if(zB(t))return w.resolve(null);let r=bn(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Lg(t,null,"F"),r=bn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ue(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(t,a);return this.zi(t,c,o,u.readTime)?this.Ki(e,Lg(t,null,"F")):this.Wi(e,c,t,u)}))})))}Gi(e,t,r,i){return zB(t)||i.isEqual(H.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(t,s);return this.zi(t,o,r,i)?this.Qi(e,t):(CD()<=me.DEBUG&&A("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),UD(t)),this.Wi(e,o,t,function dB(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=H.fromTimestamp(1e9===r?new Qe(t+1,0):new Qe(t,r));return new Kn(i,R.empty(),e)}(i,-1)))})}ji(e,t){let r=new $e(KB(e));return t.forEach((i,s)=>{yd(e,s)&&(r=r.add(s))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,t){return CD()<=me.DEBUG&&A("QueryEngine","Using full collection scan to execute query:",UD(t)),this.Ui.getDocumentsMatchingQuery(e,t,Kn.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class rle{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new Ne(Z),this.Yi=new Bi(s=>So(s),gd),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ij(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function uj(n,e){return dT.apply(this,arguments)}function dT(){return dT=g(function*(n,e){const t=N(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ue();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return t.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),dT.apply(this,arguments)}function cj(n){const e=N(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function ole(n,e){const t=N(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Du(n,e,t){return hT.apply(this,arguments)}function hT(){return hT=g(function*(n,e,t){const r=N(n),i=r.Ji.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!vs(o))throw o;A("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),hT.apply(this,arguments)}function em(n,e,t){const r=N(n);let i=H.min(),s=ue();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=N(a),d=l.Yi.get(c);return void 0!==d?w.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,bn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,t?i:H.min(),t?s:ue())).next(a=>(function fj(n,e,t){let r=n.Xi.get(e)||H.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Xi.set(e,r)}(r,function WB(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ir:s})))}class yT{constructor(){this.activeTargetIds=function BD(){return ace}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mj{constructor(){this.Hr=new yT,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new yT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class cle{Yr(e){}shutdown(){}}class yj{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){A("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){A("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let rm=null;function vT(){return null===rm?rm=268435456+Math.round(2147483648*Math.random()):rm++,"0x"+rm.toString(16)}const lle={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dle{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const hn="WebChannelConnection";class hle extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,s){const o=vT(),a=this.To(e,t);A("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(A("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw Cr("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,t,r,i,s,o){return this.Io(e,t,r,i,s)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+cu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,t){return`${this.mo}/v1/${t}:${lle[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const s=vT();return new Promise((o,a)=>{const u=new lue;u.setWithCredentials(!0),u.listenOnce(aue.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ED.NO_ERROR:const l=u.getResponseJson();A(hn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case ED.TIMEOUT:A(hn,`RPC '${e}' ${s} timed out`),a(new T(I.DEADLINE_EXCEEDED,"Request time out"));break;case ED.HTTP_ERROR:const d=u.getStatus();if(A(hn,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(m){const y=m.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(y)>=0?y:I.UNKNOWN}(f.status);a(new T(p,f.message))}else a(new T(I.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new T(I.UNAVAILABLE,"Connection failed."));break;default:U()}}finally{A(hn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);A(hn,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",c,r,15)})}Ro(e,t,r){const i=vT(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=sue(),a=oue(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new cue({})),this.Eo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;const l=s.join("");A(hn,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new dle({ro:y=>{f?A(hn,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(A(hn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),A(hn,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},oo:()=>d.close()}),m=(y,_,C)=>{y.listen(_,v=>{try{C(v)}catch(k){setTimeout(()=>{throw k},0)}})};return m(d,Cg.EventType.OPEN,()=>{f||A(hn,`RPC '${e}' stream ${i} transport opened.`)}),m(d,Cg.EventType.CLOSE,()=>{f||(f=!0,A(hn,`RPC '${e}' stream ${i} transport closed`),p.wo())}),m(d,Cg.EventType.ERROR,y=>{f||(f=!0,Cr(hn,`RPC '${e}' stream ${i} transport errored:`,y),p.wo(new T(I.UNAVAILABLE,"The operation could not be completed")))}),m(d,Cg.EventType.MESSAGE,y=>{var _;if(!f){const C=y.data[0];j(!!C);const k=C.error||(null===(_=C[0])||void 0===_?void 0:_.error);if(k){A(hn,`RPC '${e}' stream ${i} received error:`,k);const G=k.status;let K=function(zi){const ju=vt[zi];if(void 0!==ju)return h$(ju)}(G),Lt=k.message;void 0===K&&(K=I.INTERNAL,Lt="Unknown error status: "+G+" with message "+k.message),f=!0,p.wo(new T(K,Lt)),d.close()}else A(hn,`RPC '${e}' stream ${i} received:`,C),p._o(C)}}),m(a,uue.STAT_EVENT,y=>{y.stat===sB.PROXY?A(hn,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===sB.NOPROXY&&A(hn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function im(){return typeof document<"u"?document:null}function Fd(n){return new Ice(n,!0)}class wT{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&A("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class vj{constructor(e,t,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new wT(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return g(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return g(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return g(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===I.RESOURCE_EXHAUSTED?(ut(t.toString()),ut("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===I.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new T(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(g(function*(){e.state=0,e.start()}))}tu(e){return A("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(A("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fle extends vj{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function bce(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:U(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(j(void 0===c||"string"==typeof c),Tt.fromBase64String(c||"")):(j(void 0===c||c instanceof Uint8Array),Tt.fromUint8Array(c||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?I.UNKNOWN:h$(u.code);return new T(c,u.message||"")}(o);t=new y$(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=ei(n,r.document.name),s=lt(r.document.updateTime),o=r.document.createTime?lt(r.document.createTime):H.min(),a=new Yt({mapValue:{fields:r.document.fields}}),u=je.newFoundDocument(i,s,o,a);t=new jg(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=ei(n,r.document),s=r.readTime?lt(r.readTime):H.min(),o=je.newNoDocument(i,s);t=new jg([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=ei(n,r.document);t=new jg([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return U();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new gce(i,s);t=new m$(r.targetId,o)}}var u;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return H.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?H.min():s.readTime?lt(s.readTime):H.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=Td(this.serializer),t.addTarget=function(i,s){let o;const a=s.target;if(o=Ng(a)?{documents:S$(i,a)}:{query:XD(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=I$(i,s.resumeToken);const u=WD(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(H.min())>0){o.readTime=wu(i,s.snapshotVersion.toTimestamp());const u=WD(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function Tce(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return U()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=Td(this.serializer),t.removeTarget=e,this.Wo(t)}}class ple extends vj{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(j(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function Dce(n,e){return n&&n.length>0?(j(void 0!==e),n.map(t=>function(r,i){let s=lt(r.updateTime?r.updateTime:i);return s.isEqual(H.min())&&(s=lt(i)),new dce(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=lt(e.commitTime);return this.listener.cu(r,t)}return j(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Td(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function Sd(n,e){let t;if(e instanceof _u)t={update:D$(n,e.key,e.value)};else if(e instanceof vu)t={delete:Dd(n,e.key)};else if(e instanceof $i)t={update:D$(n,e.key,e.data),updateMask:Mce(e.fieldMask)};else{if(!(e instanceof $D))return U();t={verify:Dd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof mu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof xo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Mo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof yu)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw U()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Ece(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:U()),t;var i}(this.serializer,r))};this.Wo(t)}}class gle extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new T(I.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new T(I.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new T(I.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class yle{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ut(t),this.mu=!1):A("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class _le{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(g(function*(){var u;Ms(o)&&(A("RemoteStore","Restarting streams for network reachability change."),yield(u=g(function*(c){const l=N(c);l.vu.add(4),yield Tu(l),l.bu.set("Unknown"),l.vu.delete(4),yield Ld(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.bu=new yle(r,i)}}function Ld(n){return ET.apply(this,arguments)}function ET(){return ET=g(function*(n){if(Ms(n))for(const e of n.Ru)yield e(!0)}),ET.apply(this,arguments)}function Tu(n){return CT.apply(this,arguments)}function CT(){return CT=g(function*(n){for(const e of n.Ru)yield e(!1)}),CT.apply(this,arguments)}function sm(n,e){const t=N(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),TT(t)?DT(t):Au(t).Ko()&&bT(t,e))}function Vd(n,e){const t=N(n),r=Au(t);t.Au.delete(e),r.Ko()&&wj(t,e),0===t.Au.size&&(r.Ko()?r.jo():Ms(t)&&t.bu.set("Unknown"))}function bT(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(H.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Au(n).su(e)}function wj(n,e){n.Vu.qt(e),Au(n).iu(e)}function DT(n){n.Vu=new yce({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Au(n).start(),n.bu.gu()}function TT(n){return Ms(n)&&!Au(n).Uo()&&n.Au.size>0}function Ms(n){return 0===N(n).vu.size}function Ij(n){n.Vu=void 0}function vle(n){return ST.apply(this,arguments)}function ST(){return ST=g(function*(n){n.Au.forEach((e,t)=>{bT(n,e)})}),ST.apply(this,arguments)}function wle(n,e){return AT.apply(this,arguments)}function AT(){return AT=g(function*(n,e){Ij(n),TT(n)?(n.bu.Iu(e),DT(n)):n.bu.set("Unknown")}),AT.apply(this,arguments)}function Ile(n,e,t){return xT.apply(this,arguments)}function xT(){return xT=g(function*(n,e,t){if(n.bu.set("Online"),e instanceof y$&&2===e.state&&e.cause)try{yield(r=g(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){A("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield om(n,r)}else if(e instanceof jg?n.Vu.Ht(e):e instanceof m$?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(H.min()))try{const r=yield cj(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(Tt.EMPTY_BYTE_STRING,c.snapshotVersion)),wj(i,a);const l=new ji(c.target,a,u,c.sequenceNumber);bT(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){A("RemoteStore","Failed to raise snapshot:",r),yield om(n,r)}var r}),xT.apply(this,arguments)}function om(n,e,t){return MT.apply(this,arguments)}function MT(){return MT=g(function*(n,e,t){if(!vs(e))throw e;n.vu.add(1),yield Tu(n),n.bu.set("Offline"),t||(t=()=>cj(n.localStore)),n.asyncQueue.enqueueRetryable(g(function*(){A("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Ld(n)}))}),MT.apply(this,arguments)}function Ej(n,e){return e().catch(t=>om(n,t,e))}function Su(n){return PT.apply(this,arguments)}function PT(){return PT=g(function*(n){const e=N(n),t=Ps(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Ele(e);)try{const i=yield ole(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,Cle(e,i)}catch(i){yield om(e,i)}Cj(e)&&bj(e)}),PT.apply(this,arguments)}function Ele(n){return Ms(n)&&n.Eu.length<10}function Cle(n,e){n.Eu.push(e);const t=Ps(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function Cj(n){return Ms(n)&&!Ps(n).Uo()&&n.Eu.length>0}function bj(n){Ps(n).start()}function ble(n){return RT.apply(this,arguments)}function RT(){return RT=g(function*(n){Ps(n).hu()}),RT.apply(this,arguments)}function Dle(n){return kT.apply(this,arguments)}function kT(){return kT=g(function*(n){const e=Ps(n);for(const t of n.Eu)e.uu(t.mutations)}),kT.apply(this,arguments)}function Tle(n,e,t){return NT.apply(this,arguments)}function NT(){return NT=g(function*(n,e,t){const r=n.Eu.shift(),i=HD.from(r,e,t);yield Ej(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Su(n)}),NT.apply(this,arguments)}function Sle(n,e){return OT.apply(this,arguments)}function OT(){return OT=g(function*(n,e){var t;e&&Ps(n).ou&&(yield(t=g(function*(r,i){if(function d$(n){switch(n){default:return U();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}(s=i.code)&&s!==I.ABORTED){const o=r.Eu.shift();Ps(r).Qo(),yield Ej(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Su(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),Cj(n)&&bj(n)}),OT.apply(this,arguments)}function Dj(n,e){return FT.apply(this,arguments)}function FT(){return FT=g(function*(n,e){const t=N(n);t.asyncQueue.verifyOperationInProgress(),A("RemoteStore","RemoteStore received new credentials");const r=Ms(t);t.vu.add(3),yield Tu(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Ld(t)}),FT.apply(this,arguments)}function VT(){return VT=g(function*(n,e){const t=N(n);e?(t.vu.delete(2),yield Ld(t)):e||(t.vu.add(2),yield Tu(t),t.bu.set("Unknown"))}),VT.apply(this,arguments)}function Au(n){return n.Su||(n.Su=function(e,t,r){const i=N(e);return i.fu(),new fle(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:vle.bind(null,n),ao:wle.bind(null,n),nu:Ile.bind(null,n)}),n.Ru.push(function(){var e=g(function*(t){t?(n.Su.Qo(),TT(n)?DT(n):n.bu.set("Unknown")):(yield n.Su.stop(),Ij(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Ps(n){return n.Du||(n.Du=function(e,t,r){const i=N(e);return i.fu(),new ple(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:ble.bind(null,n),ao:Sle.bind(null,n),au:Dle.bind(null,n),cu:Tle.bind(null,n)}),n.Ru.push(function(){var e=g(function*(t){t?(n.Du.Qo(),yield Su(n)):(yield n.Du.stop(),n.Eu.length>0&&(A("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class UT{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Dt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new UT(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new T(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xu(n,e){if(ut("AsyncQueue",`${e}: ${n}`),vs(n))return new T(I.UNAVAILABLE,`${e}: ${n}`);throw n}class Mu{constructor(e){this.comparator=e?(t,r)=>e(t,r)||R.comparator(t.key,r.key):(t,r)=>R.comparator(t.key,r.key),this.keyedMap=_d(),this.sortedSet=new Ne(this.comparator)}static emptySet(e){return new Mu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Mu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Mu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Tj{constructor(){this.Cu=new Ne(R.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):U():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Pu{constructor(e,t,r,i,s,o,a,u,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new Pu(e,t,Mu.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&md(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class Ale{constructor(){this.Nu=void 0,this.listeners=[]}}class xle{constructor(){this.queries=new Bi(e=>qB(e),md),this.onlineState="Unknown",this.ku=new Set}}function BT(n,e){return $T.apply(this,arguments)}function $T(){return $T=g(function*(n,e){const t=N(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new Ale),i)try{s.Nu=yield t.onListen(r)}catch(o){const a=xu(o,`Initialization of query '${UD(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.Mu(t.onlineState),s.Nu&&e.$u(s.Nu)&&GT(t)}),$T.apply(this,arguments)}function jT(n,e){return HT.apply(this,arguments)}function HT(){return HT=g(function*(n,e){const t=N(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),HT.apply(this,arguments)}function Mle(n,e){const t=N(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&GT(t)}function Ple(n,e,t){const r=N(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function GT(n){n.ku.forEach(e=>{e.next()})}class zT{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Pu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Pu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class xj{constructor(e){this.key=e}}class Mj{constructor(e){this.key=e}}class Pj{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ue(),this.mutatedKeys=ue(),this.tc=KB(e),this.ec=new Mu(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new Tj,i=t?t.ec:this.ec;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=yd(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),y=!0):this.rc(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(o=o.add(f),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return U()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new Pu(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Tj,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ue(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new Mj(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new xj(r))}),t}hc(e){this.Yu=e.ir,this.Zu=ue();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Pu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Nle{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Ole{constructor(e){this.key=e,this.fc=!1}}class Fle{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Bi(a=>qB(a),md),this._c=new Map,this.mc=new Set,this.gc=new Ne(R.comparator),this.yc=new Map,this.Ic=new sT,this.Tc={},this.Ec=new Map,this.Ac=Fo.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Lle(n,e){return qT.apply(this,arguments)}function qT(){return qT=g(function*(n,e){const t=function gS(n){const e=N(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Rj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qle.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ble.bind(null,e),e.dc.nu=Mle.bind(null,e.eventManager),e.dc.Pc=Ple.bind(null,e.eventManager),e}(n);let r,i;const s=t.wc.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function bu(n,e){const t=N(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):t.Bs.allocateTargetId(r).next(o=>(i=new ji(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}(t.localStore,bn(e)),a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function WT(n,e,t,r,i){return KT.apply(this,arguments)}(t,e,r,"current"===a,o.resumeToken),t.isPrimaryClient&&sm(t.remoteStore,o)}return i}),qT.apply(this,arguments)}function KT(){return KT=g(function*(n,e,t,r,i){n.Rc=(d,h,f)=>{return(p=g(function*(m,y,_,C){let v=y.view.sc(_);v.zi&&(v=yield em(m.localStore,y.query,!1).then(({documents:K})=>y.view.sc(K,v)));const k=C&&C.targetChanges.get(y.targetId),G=y.view.applyChanges(v,m.isPrimaryClient,k);return iS(m,y.targetId,G.cc),G.snapshot}),function(m,y,_,C){return p.apply(this,arguments)})(n,d,h,f);var p};const s=yield em(n.localStore,e,!0),o=new Pj(e,s.ir),a=o.sc(s.documents),u=bd.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),c=o.applyChanges(a,n.isPrimaryClient,u);iS(n,t,c.cc);const l=new Nle(e,t,o);return n.wc.set(e,l),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),c.snapshot}),KT.apply(this,arguments)}function Vle(n,e){return QT.apply(this,arguments)}function QT(){return QT=g(function*(n,e){const t=N(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(s=>!md(s,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Du(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Vd(t.remoteStore,r.targetId),Ru(t,r.targetId)}).catch(_s))):(Ru(t,r.targetId),yield Du(t.localStore,r.targetId,!0))}),QT.apply(this,arguments)}function YT(){return YT=g(function*(n,e,t){const r=function mS(n){const e=N(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$le.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jle.bind(null,e),e}(n);try{const i=yield function(s,o){const a=N(s),u=Qe.now(),c=o.reduce((h,f)=>h.add(f.key),ue());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=On(),p=ue();return a.Zi.getEntries(h,c).next(m=>{f=m,f.forEach((y,_)=>{_.isValidDocument()||(p=p.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{l=m;const y=[];for(const _ of o){const C=fce(_,l.get(_.key).overlayedDocument);null!=C&&y.push(new $i(_.key,C,RB(C.value.mapValue),ze.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,y,o)}).next(m=>{d=m;const y=m.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,y)})}).then(()=>({batchId:d.batchId,changes:YB(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Tc[s.currentUser.toKey()];u||(u=new Ne(Z)),u=u.insert(o,a),s.Tc[s.currentUser.toKey()]=u}(r,i.batchId,t),yield Hi(r,i.changes),yield Su(r.remoteStore)}catch(i){const s=xu(i,"Failed to persist write");t.reject(s)}}),YT.apply(this,arguments)}function Rj(n,e){return XT.apply(this,arguments)}function XT(){return XT=g(function*(n,e){const t=N(n);try{const r=yield function sle(n,e){const t=N(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(t.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>t.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,m,y;null!==e.targetMismatches.get(d)?f=f.withResumeToken(Tt.EMPTY_BYTE_STRING,H.min()).withLastLimboFreeSnapshotVersion(H.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,y=l,(0===(p=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(t.Bs.updateTargetData(s,f))});let u=On(),c=ue();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function lj(n,e,t){let r=ue(),i=ue();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=On();return t.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(H.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):A("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(H.min())){const l=t.Bs.getLastRemoteSnapshotVersion(s).next(d=>t.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(t.Ji=i,s))}(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.yc.get(s);o&&(j(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?j(o.fc):i.removedDocuments.size>0&&(j(o.fc),o.fc=!1))}),yield Hi(t,r,e)}catch(r){yield _s(r)}}),XT.apply(this,arguments)}function kj(n,e,t){const r=N(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=N(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&GT(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Ble(n,e,t){return JT.apply(this,arguments)}function JT(){return JT=g(function*(n,e,t){const r=N(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Ne(R.comparator);o=o.insert(s,je.newNoDocument(s,H.min()));const a=ue().add(s),u=new Cd(H.min(),new Map,new Ne(Z),o,a);yield Rj(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),sS(r)}else yield Du(r.localStore,e,!1).then(()=>Ru(r,e,t)).catch(_s)}),JT.apply(this,arguments)}function $le(n,e){return ZT.apply(this,arguments)}function ZT(){return ZT=g(function*(n,e){const t=N(n),r=e.batch.batchId;try{const i=yield function ile(n,e){const t=N(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=w.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=u.docVersions.get(f);j(null!==m),p.version.compareTo(m)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ue();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);rS(t,r,null),nS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Hi(t,i)}catch(i){yield _s(i)}}),ZT.apply(this,arguments)}function jle(n,e,t){return eS.apply(this,arguments)}function eS(){return eS=g(function*(n,e,t){const r=N(n);try{const i=yield function(s,o){const a=N(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>(j(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);rS(r,e,t),nS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Hi(r,i)}catch(i){yield _s(i)}}),eS.apply(this,arguments)}function nS(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function rS(n,e,t){const r=N(n);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Ru(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||Nj(n,r)})}function Nj(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(Vd(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),sS(n))}function iS(n,e,t){for(const r of t)r instanceof xj?(n.Ic.addReference(r.key,e),Gle(n,r)):r instanceof Mj?(A("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||Nj(n,r.key)):U()}function Gle(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(A("SyncEngine","New document in limbo: "+t),n.mc.add(r),sS(n))}function sS(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new R(ve.fromString(e)),r=n.Ac.next();n.yc.set(r,new Ole(t)),n.gc=n.gc.insert(t,r),sm(n.remoteStore,new ji(bn(gu(t.path)),r,"TargetPurposeLimboResolution",Qn.ct))}}function Hi(n,e,t){return oS.apply(this,arguments)}function oS(){return oS=g(function*(n,e,t){const r=N(n),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,t).then(c=>{if((c||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=lT.Li(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=g(function*(u,c){const l=N(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(c,h=>w.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!vs(d))throw d;A("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,m)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),oS.apply(this,arguments)}function zle(n,e){return aS.apply(this,arguments)}function aS(){return aS=g(function*(n,e){const t=N(n);if(!t.currentUser.isEqual(e)){A("SyncEngine","User change. New user:",e.toKey());const r=yield uj(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(o=>{o.forEach(a=>{a.reject(new T(I.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Hi(t,r.er)}var i}),aS.apply(this,arguments)}function qle(n,e){const t=N(n),r=t.yc.get(e);if(r&&r.fc)return ue().add(r.key);{let i=ue();const s=t._c.get(e);if(!s)return i;for(const o of s){const a=t.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class am{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return g(function*(){t.serializer=Fd(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function aj(n,e,t,r){return new rle(n,e,t,r)}(this.persistence,new oj,e.initialUser,this.serializer)}createPersistence(e){return new oT(Xg.zs,this.serializer)}createSharedClientState(e){return new mj}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ku{initialize(e,t){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>kj(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=zle.bind(null,r.syncEngine),yield function LT(n,e){return VT.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new xle}createDatastore(e){const t=Fd(e.databaseInfo.databaseId),r=new hle(e.databaseInfo);return new gle(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>kj(this.syncEngine,a,0),o=yj.D()?new yj:new cle,new _le(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,u,c){const l=new Fle(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=g(function*(t){const r=N(t);A("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Tu(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class um{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ut("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class sde{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Nt.UNAUTHENTICATED,this.clientId=cB.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=g(function*(a){A("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(A("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new T(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Dt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=xu(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function cm(n,e){return yS.apply(this,arguments)}function yS(){return yS=g(function*(n,e){n.asyncQueue.verifyOperationInProgress(),A("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=g(function*(s){r.isEqual(s)||(yield uj(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),yS.apply(this,arguments)}function _S(n,e){return vS.apply(this,arguments)}function vS(){return vS=g(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function wS(n){return IS.apply(this,arguments)}(n);A("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>Dj(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>Dj(e.remoteStore,s)),n._onlineComponents=e}),vS.apply(this,arguments)}function IS(){return IS=g(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){A("FirestoreClient","Using user provided OfflineComponentProvider");try{yield cm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function Bj(n){return"FirebaseError"===n.name?n.code===I.FAILED_PRECONDITION||n.code===I.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;Cr("Error using user provided cache. Falling back to memory cache: "+t),yield cm(n,new am)}}else A("FirestoreClient","Using default OfflineComponentProvider"),yield cm(n,new am);return n._offlineComponents}),IS.apply(this,arguments)}function lm(n){return ES.apply(this,arguments)}function ES(){return ES=g(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(A("FirestoreClient","Using user provided OnlineComponentProvider"),yield _S(n,n._uninitializedComponentsProvider._online)):(A("FirestoreClient","Using default OnlineComponentProvider"),yield _S(n,new ku))),n._onlineComponents}),ES.apply(this,arguments)}function Nu(n){return bS.apply(this,arguments)}function bS(){return bS=g(function*(n){const e=yield lm(n),t=e.eventManager;return t.onListen=Lle.bind(null,e.syncEngine),t.onUnlisten=Vle.bind(null,e.syncEngine),t}),bS.apply(this,arguments)}function qj(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const Wj=new Map;function DS(n,e,t){if(!t)throw new T(I.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Kj(n){if(!R.isDocumentKey(n))throw new T(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Qj(n){if(R.isDocumentKey(n))throw new T(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function hm(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":U()}function ye(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new T(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=hm(n);throw new T(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class Xj{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new T(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new T(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function pde(n,e,t,r){if(!0===e&&!0===r)throw new T(I.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=qj(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new T(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new T(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new T(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ud{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xj({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new T(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new T(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xj(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new hue;switch(t.type){case"firstParty":return new mue(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new T(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Wj.get(e);t&&(A("ComponentProvider","Removing Datastore"),Wj.delete(e),t.terminate())}(this),Promise.resolve()}}class dt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ti(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dt(this.firestore,e,this._key)}}class Xt{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xt(this.firestore,e,this._query)}}class ti extends Xt{constructor(e,t,r){super(e,t,gu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dt(this.firestore,null,new R(e))}withConverter(e){return new ti(this.firestore,e,this._path)}}function mde(n,e,...t){if(n=at(n),DS("collection","path",e),n instanceof Ud){const r=ve.fromString(e,...t);return Qj(r),new ti(n,null,r)}{if(!(n instanceof dt||n instanceof ti))throw new T(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ve.fromString(e,...t));return Qj(r),new ti(n.firestore,null,r)}}function Jj(n,e,...t){if(n=at(n),1===arguments.length&&(e=cB.A()),DS("doc","path",e),n instanceof Ud){const r=ve.fromString(e,...t);return Kj(r),new dt(n,null,new R(r))}{if(!(n instanceof dt||n instanceof ti))throw new T(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ve.fromString(e,...t));return Kj(r),new dt(n.firestore,n instanceof ti?n.converter:null,new R(r))}}class yde{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new wT(this,"async_queue_retry"),this.Xc=()=>{const t=im();t&&A("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=im();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=im();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Dt;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return g(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!vs(t))throw t;A("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,ut("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=UT.createAndSchedule(this,e,t,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&U()}verifyOperationInProgress(){}sa(){var e=this;return g(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function TS(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class He extends Ud{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new yde,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||eH(this),this._firestoreClient.terminate()}}function vde(n,e){const r="string"==typeof n?n:e||"(default)",i=qa("object"==typeof n?n:Xw(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=vJ("firestore");s&&function gde(n,e,t,r={}){var i;const s=(n=ye(n,Ud))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Cr("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=Nt.MOCK_USER;else{o=function wJ(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[hp(JSON.stringify({alg:"none",type:"JWT"})),hp(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new T(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Nt(u)}n._authCredentials=new fue(new aB(o,a))}}(i,...s)}return i}function wt(n){return n._firestoreClient||eH(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function eH(n){var e,t,r;const i=n._freezeSettings(),s=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new que(n._databaseId,a,n._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,qj(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;n._firestoreClient=new sde(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Vo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vo(Tt.fromBase64String(e))}catch(t){throw new T(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Vo(Tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ou{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new T(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class SS{constructor(e){this._methodName=e}}class AS{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new T(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new T(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Z(this._lat,e._lat)||Z(this._long,e._long)}}const Ide=/^__.*__$/;class Ede{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new $i(e,this.data,this.fieldMask,t,this.fieldTransforms):new _u(e,this.data,t,this.fieldTransforms)}}class rH{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new $i(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function iH(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw U()}}class fm{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new fm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return gm(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(iH(this.ca)&&Ide.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Cde{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Fd(e)}ya(e,t,r,i=!1){return new fm({ca:e,methodName:t,ga:r,path:ct.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fu(n){const e=n._freezeSettings(),t=Fd(n._databaseId);return new Cde(n._databaseId,!!e.ignoreUndefinedProperties,t)}function xS(n,e,t,r,i,s={}){const o=n.ya(s.merge||s.mergeFields?2:0,e,t,i);PS("Data must be an object, but it was:",o,r);const a=cH(r,o);let u,c;if(s.merge)u=new Nn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=jd(e,d,t);if(!o.contains(h))throw new T(I.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);dH(l,h)||l.push(h)}u=new Nn(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new Ede(new Yt(a),u,c)}class $d extends SS{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $d}}function uH(n,e,t,r=!1){return Uo(t,n.ya(r?4:3,e))}function Uo(n,e){if(lH(n=at(n)))return PS("Unsupported field value:",e,n),cH(n,e);if(n instanceof SS)return function(t,r){if(!iH(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let a=Uo(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=at(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return e$(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Qe.fromDate(t);return{timestampValue:wu(r.serializer,i)}}if(t instanceof Qe){const i=new Qe(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:wu(r.serializer,i)}}if(t instanceof AS)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Vo)return{bytesValue:I$(r.serializer,t._byteString)};if(t instanceof dt){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:KD(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${hm(t)}`)}(n,e)}function cH(n,e){const t={};return CB(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ws(n,(r,i)=>{const s=Uo(i,e.ha(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function lH(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Qe||n instanceof AS||n instanceof Vo||n instanceof dt||n instanceof SS)}function PS(n,e,t){if(!lH(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=hm(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function jd(n,e,t){if((e=at(e))instanceof Ou)return e._internalPath;if("string"==typeof e)return pm(n,e);throw gm("Field path arguments must be of type string or ",n,!1,void 0,t)}const Sde=new RegExp("[~\\*/\\[\\]]");function pm(n,e,t){if(e.search(Sde)>=0)throw gm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ou(...e.split("."))._internalPath}catch{throw gm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function gm(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new T(I.INVALID_ARGUMENT,a+n+u)}function dH(n,e){return n.some(t=>t.isEqual(e))}class RS{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new dt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ade(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(mm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ade extends RS{data(){return super.data()}}function mm(n,e){return"string"==typeof e?pm(n,e):e instanceof Ou?e._internalPath:e._delegate._internalPath}class kS{}class ym extends kS{}function xde(n,e,...t){let r=[];e instanceof kS&&r.push(e),r=r.concat(t),function(i){const s=i.filter(a=>a instanceof Lu).length,o=i.filter(a=>a instanceof Hd).length;if(s>1||s>0&&o>0)throw new T(I.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Hd extends ym{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Hd(e,t,r)}_apply(e){const t=this._parse(e);return mH(e._query,t),new Xt(e.firestore,e.converter,VD(e._query,t))}_parse(e){const t=Fu(e.firestore);return function(i,s,o,a,u,c,l){let d;if(u.isKeyField()){if("array-contains"===c||"array-contains-any"===c)throw new T(I.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if("in"===c||"not-in"===c){gH(l,c);const h=[];for(const f of l)h.push(pH(a,i,f));d={arrayValue:{values:h}}}else d=pH(a,i,l)}else"in"!==c&&"not-in"!==c&&"array-contains-any"!==c||gH(l,c),d=uH(o,"where",l,"in"===c||"not-in"===c);return ge.create(u,c,d)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Lu extends kS{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Lu(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Se.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)mH(s,a),s=VD(s,a)}(e._query,t),new Xt(e.firestore,e.converter,VD(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class NS extends ym{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new NS(e,t)}_apply(e){const t=function(r,i,s){if(null!==r.startAt)throw new T(I.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new T(I.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new fu(i,s);return function(a,u){if(null===FD(a)){const c=Fg(a);null!==c&&yH(0,c,u.field)}}(r,o),o}(e._query,this._field,this._direction);return new Xt(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new Ui(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}function Mde(n,e="asc"){const t=e,r=mm("orderBy",n);return NS._create(r,t)}class _m extends ym{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new _m(e,t,r)}_apply(e){return new Xt(e.firestore,e.converter,Lg(e._query,this._limit,this._limitType))}}function Pde(n){return function Yj(n,e){if(e<=0)throw new T(I.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}("limit",n),_m._create("limit",n,"F")}class vm extends ym{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new vm(e,t,r)}_apply(e){const t=function fH(n,e,t,r){if(t[0]=at(t[0]),t[0]instanceof RS)return function(i,s,o,a,u){if(!a)throw new T(I.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const c=[];for(const l of Ao(i))if(l.field.isKeyField())c.push(To(s,a.key));else{const d=a.data.field(l.field);if(xg(d))throw new T(I.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+l.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===d){const h=l.field.canonicalString();throw new T(I.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${h}' (used as the orderBy) does not exist.`)}c.push(d)}return new Ds(c,u)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Fu(n.firestore);return function(s,o,a,u,c,l){const d=s.explicitOrderBy;if(c.length>d.length)throw new T(I.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const h=[];for(let f=0;f<c.length;f++){const p=c[f];if(d[f].field.isKeyField()){if("string"!=typeof p)throw new T(I.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof p}`);if(!LD(s)&&-1!==p.indexOf("/"))throw new T(I.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${p}' contains a slash.`);const m=s.path.child(ve.fromString(p));if(!R.isDocumentKey(m))throw new T(I.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${m}' is not because it contains an odd number of segments.`);const y=new R(m);h.push(To(o,y))}else{const m=uH(a,u,p);h.push(m)}}return new Ds(h,l)}(n._query,n.firestore._databaseId,i,e,t,r)}}(e,this.type,this._docOrFields,this._inclusive);return new Xt(e.firestore,e.converter,(i=t,new Ui((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}function Rde(...n){return vm._create("startAfter",n,!1)}function pH(n,e,t){if("string"==typeof(t=at(t))){if(""===t)throw new T(I.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!LD(e)&&-1!==t.indexOf("/"))throw new T(I.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ve.fromString(t));if(!R.isDocumentKey(r))throw new T(I.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return To(n,new R(r))}if(t instanceof dt)return To(n,t._key);throw new T(I.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hm(t)}.`)}function gH(n,e){if(!Array.isArray(n)||0===n.length)throw new T(I.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mH(n,e){if(e.isInequality()){const r=Fg(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new T(I.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=FD(n);null!==s&&yH(0,i,s)}const t=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new T(I.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function yH(n,e,t){if(!t.isEqual(e))throw new T(I.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class kde{convertValue(e,t="none"){switch(Cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw U()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ws(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new AS(nt(e.latitude),nt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Mg(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(dd(e));default:return null}}convertTimestamp(e){const t=Is(e);return new Qe(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ve.fromString(e);j(P$(r));const i=new Do(r.get(1),r.get(3)),s=new R(r.popFirst(5));return i.isEqual(t)||ut(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}class Bo{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vu extends RS{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Im(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(mm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Im extends Vu{data(e={}){return super.data(e)}}class Uu{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Bo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Im(this._firestore,this._userDataWriter,r.key,r,new Bo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new T(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Im(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Bo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Im(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Bo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:Ode(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Ode(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return U()}}function Fde(n){n=ye(n,dt);const e=ye(n.firestore,He);return function Gj(n,e,t={}){const r=new Dt;return n.asyncQueue.enqueueAndForget(g(function*(){return function(i,s,o,a,u){const c=new um({next:d=>{s.enqueueAndForget(()=>jT(i,l));const h=d.docs.has(o);!h&&d.fromCache?u.reject(new T(I.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&"server"===a.source?u.reject(new T(I.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new zT(gu(o.path),c,{includeMetadataChanges:!0,Ku:!0});return BT(i,l)}(yield Nu(n),n.asyncQueue,e,t,r)})),r.promise}(wt(e),n._key).then(t=>FS(e,n,t))}class Rs extends kde{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dt(this.firestore,null,t)}}function Lde(n,e,t,...r){n=ye(n,dt);const i=ye(n.firestore,He),s=Fu(i);let o;return o="string"==typeof(e=at(e))||e instanceof Ou?function aH(n,e,t,r,i,s){const o=n.ya(1,e,t),a=[jd(e,r,t)],u=[i];if(s.length%2!=0)throw new T(I.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(jd(e,s[h])),u.push(s[h+1]);const c=[],l=Yt.empty();for(let h=a.length-1;h>=0;--h)if(!dH(c,a[h])){const f=a[h];let p=u[h];p=at(p);const m=o.da(f);if(p instanceof $d)c.push(f);else{const y=Uo(p,m);null!=y&&(c.push(f),l.set(f,y))}}const d=new Nn(c);return new rH(l,d,o.fieldTransforms)}(s,"updateDoc",n._key,e,t,r):function oH(n,e,t,r){const i=n.ya(1,e,t);PS("Data must be an object, but it was:",i,r);const s=[],o=Yt.empty();ws(r,(u,c)=>{const l=pm(e,u,t);c=at(c);const d=i.da(l);if(c instanceof $d)s.push(l);else{const h=Uo(c,d);null!=h&&(s.push(l),o.set(l,h))}});const a=new Nn(s);return new rH(o,a,i.fieldTransforms)}(s,"updateDoc",n._key,e),Gd(i,[o.toMutation(n._key,ze.exists(!0))])}function Vde(n){return Gd(ye(n.firestore,He),[new vu(n._key,ze.none())])}function Ude(n,e){const t=ye(n.firestore,He),r=Jj(n),i=function OS(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e);return Gd(t,[xS(Fu(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,ze.exists(!1))]).then(()=>r)}function Gd(n,e){return function(t,r){const i=new Dt;return t.asyncQueue.enqueueAndForget(g(function*(){return function Ule(n,e,t){return YT.apply(this,arguments)}(yield function CS(n){return lm(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(wt(n),e)}function FS(n,e,t){const r=t.docs.get(e._key),i=new Rs(n);return new Vu(n,i,e._key,r,new Bo(t.hasPendingWrites,t.fromCache),e.converter)}!function(n,e=!0){cu=uo,In(new an("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),o=new He(new pue(t.getProvider("auth-internal")),new yue(t.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new T(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Do(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Je(oB,"3.12.1",n),Je(oB,"3.12.1","esm2017")}();var Jde={includeMetadataChanges:!1};function LS(n,e){return void 0===e&&(e=Jde),new Oe(function(t){var r=function Bde(n,...e){var t,r,i;n=at(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||TS(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(TS(e[o])){const d=e[o];e[o]=null===(t=d.next)||void 0===t?void 0:t.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(n instanceof dt)c=ye(n.firestore,He),l=gu(n._key.path),u={next:d=>{e[o]&&e[o](FS(c,n,d))},error:e[o+1],complete:e[o+2]};else{const d=ye(n,Xt);c=ye(d.firestore,He),l=d._query;const h=new Rs(c);u={next:f=>{e[o]&&e[o](new Uu(c,h,d,f))},error:e[o+1],complete:e[o+2]},function hH(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new T(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(d,h,f,p){const m=new um(p),y=new zT(h,m,f);return d.asyncQueue.enqueueAndForget(g(function*(){return BT(yield Nu(d),y)})),()=>{m.Dc(),d.asyncQueue.enqueueAndForget(g(function*(){return jT(yield Nu(d),y)}))}}(wt(c),l,a,u)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function she(n,e){return void 0===e&&(e={}),function ihe(n){return LS(n,{includeMetadataChanges:!0}).pipe(ee(function(e){return e.docs}))}(n).pipe(ee(function(t){return t.map(function(r){return function wH(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(r,e)})}))}class Bu{constructor(e){return e}}const bH="firestore",BS=new B("angularfire2.firestore-instances");function uhe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Bu(r)}}const che={provide:class ohe{constructor(){return ZE(bH)}},deps:[[new nn,BS]]},lhe={provide:Bu,useFactory:function ahe(n,e){const t=JE(bH,n,e);return t&&new Bu(t)},deps:[[new nn,BS],Xa]};let dhe=(()=>{class n{constructor(){Je("angularfire",Sp.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fn({type:n}),n.\u0275inj=Jt({providers:[lhe,che]}),n})();function hhe(n,...e){return{ngModule:dhe,providers:[{provide:BS,useFactory:uhe(n),multi:!0,deps:[Ue,Gn,eC,tC,[new nn,jV],[new nn,CC],...e]}]}}const $u=Mt(she,!0),$S=Mt(Ude,!0),Gi=Mt(mde,!0),jS=Mt(Vde,!0),ks=Mt(Jj,!0),DH=Mt(Fde,!0),fhe=Mt(vde,!0),HS=Mt(Pde,!0),GS=Mt(Mde,!0),zS=Mt(xde,!0),qS=Mt(Rde,!0),WS=Mt(Lde,!0);let KS=(()=>{class n{constructor(t,r){this.http=t,this.firestore=r,this.ApiFirebase="https://shopping-list-c69d4-default-rtdb.firebaseio.com"}create(t){return this.http.post(`${this.ApiFirebase}/lista_compras.json`,t)}listarCompras(){return this.http.get(`${this.ApiFirebase}/lista_compras.json`)}delete(t){return this.http.delete(`${this.ApiFirebase}/lista_compras/${t}.json`)}getById(t){return this.http.get(`${this.ApiFirebase}/lista_compras/${t}.json`)}update(t,r){return this.http.put(`${this.ApiFirebase}/lista_compras/${t}.json`,r)}createFirestore(t){const r=Gi(this.firestore,"lista_compras");return $S(r,t)}getFirestore(){const t=Gi(this.firestore,"lista_compras");return $u(t,{idField:"id"})}getFirestoreById(t){const r=ks(this.firestore,`lista_compras/${t}`);return DH(r)}deleteFirestore(t){const r=ks(this.firestore,`lista_compras/${t.id}`);return jS(r)}updateFirestore(t,r){const i=ks(this.firestore,`lista_compras/${t}`);return WS(i,r)}getPageFirestore(t,r){const i=Gi(this.firestore,"lista_compras");return $u(zS(i,GS("id"),HS(r),qS(t)),{idField:"id"})}}return n.\u0275fac=function(t){return new(t||n)(L(Rf),L(Bu))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TH=(()=>{class n{constructor(){this.cart=[],this.total=0,this.cartBehavior=new or([]),this.cartBehavior$=this.cartBehavior.asObservable()}addToCart(t){this.cart.push(t),this.cartBehavior.next(this.cart)}getCart(){return this.cart}getTotal(){return this.total=0,this.cart.forEach(t=>{this.total=this.total+t.price}),this.total}quitarProducto(t){const r=this.cart.findIndex(i=>i.id===t.id);this.cart.splice(r,1),this.cartBehavior.next(this.cart)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),SH=(()=>{class n{constructor(t,r){this.http=t,this.firestore=r}createFirestore(t){const r=Gi(this.firestore,"lista_producto");return $S(r,t)}getFirestore(){const t=Gi(this.firestore,"lista_producto");return $u(t,{idField:"id"})}getFirestoreById(t){const r=ks(this.firestore,`lista_producto/${t}`);return DH(r)}deleteFirestore(t){const r=ks(this.firestore,`lista_producto/${t.id}`);return jS(r)}updateFirestore(t,r){const i=ks(this.firestore,`lista_producto/${t}`);return WS(i,r)}getPageFirestore(t,r){const i=Gi(this.firestore,"lista_producto");return $u(zS(i,GS("id"),HS(r),qS(t)),{idField:"id"})}}return n.\u0275fac=function(t){return new(t||n)(L(Rf),L(Bu))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function phe(n,e){if(1&n){const t=Ic();b(0,"li")(1,"div",26),Ve(2,"img",27),b(3,"div",28)(4,"h2",29),P(5),S(),b(6,"p",30),P(7),Sa(8,"currency"),S()(),b(9,"div",31)(10,"button",32),te("click",function(){const s=ui(t).$implicit;return ci(Mn().quitarPorducto(s))}),P(11,"Quitar"),S()()()()}if(2&n){const t=e.$implicit;z(2),oe("src",t.images[0],pc),z(3),mi(t.title),z(2),mi(Mc(8,3,t.price,"COP"))}}const AH=function(n){return{active:n}};let QS=(()=>{class n{constructor(t,r,i,s,o,a){this.storeService=t,this.userService=r,this.router=i,this.route=s,this.auth=o,this.listaProductosService=a,this.cart=[],this.menuStatus=!1,this.counter=0,this.email="",this.listState=!1,this.iduser=""}ngOnInit(){this.storeService.cartBehavior$.subscribe(t=>{this.counter=t.length}),this.cart=this.storeService.getCart(),this.email=this.auth.currentUser.email,this.iduser=this.auth.currentUser.uid,console.log("[app-nav] email:",this.email,", iduser:",this.iduser)}ocultarMenu(t){this.menuStatus=!this.menuStatus,console.log(t)}ocultarLista(){this.listState=!this.listState}quitarPorducto(t){this.storeService.quitarProducto(t),this.cart=this.storeService.getCart(),this.counter=this.cart.length}cerrarSesion(){this.userService.logout().then(()=>{this.router.navigate(["/login"])}).catch(t=>{console.log(t)})}}return n.\u0275fac=function(t){return new(t||n)(E(TH),E(P0),E(yt),E(jr),E(Oi),E(SH))},n.\u0275cmp=Zn({type:n,selectors:[["app-nav"]],decls:56,vars:9,consts:[[1,"show-mobile"],[3,"click"],["src","./assets/svg/icon_menu.svg","alt","menu"],["href",""],["src","./assets/images/app-logo.png","alt","logo","width","100"],["src","./assets/svg/icon_shopping_cart.svg","alt","logo"],[1,"side-menu",3,"ngClass"],[1,"close-menu",3,"click"],[1,"hide-mobile"],[1,"left-part"],["href","",1,"logo"],[1,"left-part","menu"],[1,"info"],[1,"account"],[1,"cart"],["src","./assets/svg/icon_shopping_cart.svg","alt","logo",3,"click"],[1,"cart-count"],[1,"cart","px-2"],[1,"btn","btn-danger",3,"click"],[1,"icon","ion-md-log"],[1,"list-container",3,"ngClass"],[1,"list-header"],[1,"list-title"],[1,"close-list",3,"click"],[1,"product-list"],[4,"ngFor","ngForOf"],[1,"product"],["alt","image","width","100",3,"src"],[1,"product-info"],[1,"product-title"],[1,"product-price"],[1,"product-actions"],[1,"btn-delete",3,"click"]],template:function(t,r){1&t&&(b(0,"div",0)(1,"div")(2,"button",1),te("click",function(s){return r.ocultarMenu(s)}),Ve(3,"img",2),S(),b(4,"a",3),Ve(5,"img",4),S(),b(6,"a",3),Ve(7,"img",5),S()(),b(8,"div",6)(9,"button",7),te("click",function(s){return r.ocultarMenu(s)}),P(10," Close "),S(),b(11,"ul")(12,"li")(13,"a",3),P(14,"All"),S()(),b(15,"li")(16,"a",3),P(17,"Clothes"),S()(),b(18,"li")(19,"a",3),P(20,"Electronics"),S()()()()(),b(21,"div",8)(22,"div")(23,"nav",9)(24,"a",10),Ve(25,"img",4),S(),b(26,"ul",11)(27,"li")(28,"a",3),P(29,"All"),S()(),b(30,"li")(31,"a",3),P(32,"Clothes"),S()(),b(33,"li")(34,"a",3),P(35,"Electronics"),S()()()(),b(36,"div",12)(37,"div",13),P(38),S(),b(39,"div",14)(40,"a")(41,"img",15),te("click",function(){return r.ocultarLista()}),S()(),b(42,"span",16),P(43),S()(),b(44,"div",17)(45,"button",18),te("click",function(){return r.cerrarSesion()}),Ve(46,"i",19),P(47," Cerrar Sesi\xf3n"),S()()()()(),b(48,"div",20)(49,"div",21)(50,"h1",22),P(51,"Shopping Cart"),S(),b(52,"button",23),te("click",function(){return r.ocultarLista()}),P(53,"X"),S()(),b(54,"ul",24),jt(55,phe,12,6,"li",25),S()()),2&t&&(z(8),oe("ngClass",yi(5,AH,r.menuStatus)),z(30),mi(r.email),z(5),mi(r.counter),z(5),oe("ngClass",yi(7,AH,r.listState)),z(7),oe("ngForOf",r.cart))},dependencies:[If,Ef,Cf],styles:[".show-mobile[_ngcontent-%COMP%]{display:block;box-shadow:0 2px 5px #0003}.show-mobile[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:1em;display:flex;justify-content:space-between;align-items:center}.show-mobile[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:0;background:transparent}.show-mobile[_ngcontent-%COMP%]   .side-menu[_ngcontent-%COMP%]{position:fixed;inset:0;background:white;display:flex;flex-direction:column;justify-content:flex-start;transform:translate(-100%);transition:all ease-out .3s}.show-mobile[_ngcontent-%COMP%]   .side-menu.active[_ngcontent-%COMP%]{transform:translate(0)}.hide-mobile[_ngcontent-%COMP%]{display:none;box-shadow:0 2px 5px #0003;margin:0 0 1em}.hide-mobile[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:1em;display:flex;justify-content:space-between;align-items:center}.hide-mobile[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{margin-right:1em}.hide-mobile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{cursor:pointer;transform:scale(1.1)}.hide-mobile[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{display:flex;align-items:center}.hide-mobile[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;list-style:none}.hide-mobile[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 .5em}.hide-mobile[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit;text-decoration:none}.hide-mobile[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.hide-mobile[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;align-items:center}.hide-mobile[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .account[_ngcontent-%COMP%]{margin-right:.5em}.list-container[_ngcontent-%COMP%]{position:fixed;inset:0 0 0 60%;background:white;box-shadow:0 0 5px #ccc;display:flex;flex-direction:column;justify-content:flex-start;transform:translate(100%);transition:all ease-out .3s;overflow-y:scroll}.list-container.active[_ngcontent-%COMP%]{transform:translate(0)}.list-container[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]{display:flex;margin:.1em;padding:0 1em;width:auto;height:50px;background-color:#527dcc;border-radius:5px 5px 0 0;color:#fff;font-size:1.5rem;font-weight:700;text-align:center;line-height:50px;justify-content:space-between}.close-list[_ngcontent-%COMP%]{border:0;background:transparent;position:relative;top:0;right:0;padding:.1em;font-size:1.5em;color:#fff}.close-list[_ngcontent-%COMP%]:hover{cursor:pointer;transform:rotate(180deg);transition:all ease-out .5s}.product[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.5em 1em;border-bottom:1px solid #ccc;margin:.2em}.product[_ngcontent-%COMP%]:hover{background-color:#f5f5f5;cursor:pointer}.product[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;margin-right:1em}.product[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.product[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-title[_ngcontent-%COMP%]{font-weight:700}.product[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{margin-left:1em}.product[_ngcontent-%COMP%]   .product-actions[_ngcontent-%COMP%]{display:flex;align-items:center}.product[_ngcontent-%COMP%]   .product-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:0;background:#e25f5f;margin:0 .5em;border-radius:5px;color:#fff}.product[_ngcontent-%COMP%]   .product-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{cursor:pointer;transform:scale(1.1)}@media screen and (min-width: 40em) and (max-width: 63.9375em){.show-mobile[_ngcontent-%COMP%]{display:none}.hide-mobile[_ngcontent-%COMP%]{display:block}}@media screen and (min-width: 64em){.show-mobile[_ngcontent-%COMP%]{display:none}.hide-mobile[_ngcontent-%COMP%]{display:block}}"]}),n})();function ghe(n,e){if(1&n){const t=Ic();b(0,"tr")(1,"td"),P(2),S(),b(3,"td"),P(4),S(),b(5,"td"),P(6),S(),b(7,"td")(8,"div",7)(9,"div",8)(10,"button",9),te("click",function(){const s=ui(t).$implicit,o=Mn();return ci(o.agregarProducto(o.lista_compras.indexOf(s),s))}),P(11,"Agregar Productos"),S()(),b(12,"div",8)(13,"a",10),te("click",function(){const s=ui(t).$implicit,o=Mn();return ci(o.actualizarLista(o.lista_compras.indexOf(s),s))}),P(14,"Editar"),S()(),b(15,"div",8)(16,"button",11),te("click",function(){const s=ui(t).$implicit;return ci(Mn().deleteListaCompra(s))}),P(17,"Eliminar"),S()()()()()}if(2&n){const t=e.$implicit,r=Mn();z(2),mi(r.lista_compras.indexOf(t)),z(2),mi(t.nombre_lista),z(2),mi(t.fecha_lista)}}let mhe=(()=>{class n{constructor(t,r,i,s){this.auth=t,this.listacomprasservice=r,this.router=i,this.route=s,this.iduser="",this.idlistCompra="",this.lista_compras=[]}ngOnInit(){this.route.queryParams.subscribe(t=>{this.idlistCompra=t.id}),this.listacomprasservice.getFirestore().subscribe(t=>{this.lista_compras=t,this.iduser=this.auth.currentUser.uid,this.lista_compras=this.lista_compras.filter(r=>r.idusuario===this.iduser)})}deleteListaCompra(t){this.listacomprasservice.deleteFirestore(t).then(()=>{console.log("Eliminado"),this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate(["/menu"])})}).catch(r=>{console.log(r)})}agregarProducto(t,r){this.router.navigate(["/tienda"],{queryParams:{id:r.id,lista:r}})}actualizarLista(t,r){this.router.navigate(["menu/registroListaCompra"],{queryParams:{id:r.id,lista:r}})}crearLista(){this.router.navigate(["menu/registroListaCompra"])}}return n.\u0275fac=function(t){return new(t||n)(E(Oi),E(KS),E(yt),E(jr))},n.\u0275cmp=Zn({type:n,selectors:[["app-lista-compras"]],decls:18,vars:1,consts:[[1,"table-container"],["id","consulta_susp",1,"table","table-hover"],[1,"table-secondary"],["scope","col"],[4,"ngFor","ngForOf"],[1,"btn-container"],[1,"btn","btn-primary",3,"click"],[1,"d-flex"],[1,"px-2"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-warning",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(t,r){1&t&&(Ve(0,"app-nav"),b(1,"div",0)(2,"table",1)(3,"thead",2)(4,"tr")(5,"th",3),P(6,"#"),S(),b(7,"th",3),P(8,"Nombre lista"),S(),b(9,"th",3),P(10,"Fecha Lista"),S(),b(11,"th",3),P(12,"Acciones"),S()()(),b(13,"tbody"),jt(14,ghe,18,3,"tr",4),S()()(),b(15,"div",5)(16,"button",6),te("click",function(){return r.crearLista()}),P(17,"Crear Lista"),S()()),2&t&&(z(14),oe("ngForOf",r.lista_compras))},dependencies:[Ef,QS],styles:[".table-container[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;margin-bottom:1rem}.table-container[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{width:90%;margin:1rem 0 0;color:#212529;padding:1em;border:1px solid #ccc;border-radius:5px;box-shadow:0 0 5px #ccc;transition:all .3s ease-in-out;cursor:pointer}.table-container[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]:hover{box-shadow:0 0 10px #4f4f4f}.btn-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:.5em 0;width:100%}"]}),n})();function yhe(n,e){1&n&&(b(0,"span",18),P(1," (upss!! nombre no puede ir vac\xedo) "),S())}let _he=(()=>{class n{constructor(t,r,i,s,o){this.formBuilder=t,this.auth=r,this.router=i,this.route=s,this.listacomprasservice=o,this.lista={id:"",fecha_lista:"",nombre_lista:"",idusuario:""},this.form=this.formBuilder.nonNullable.group({nombre_lista:["",[Vr.required]],fecha_lista:["",[Vr.required]],auxiliar:[""]}),this.iduser="",this.idlista=-1,this.titulo=""}ngOnInit(){this.route.queryParams.subscribe(t=>{this.idlista=t.id,this.lista=t.lista}),this.lista?(this.titulo="Editar",this.listacomprasservice.getFirestore().subscribe(t=>{let r=t.filter(i=>i.id===this.idlista.toString());this.lista=r[0]})):this.titulo="Crear Nueva"}createUpdateLista(){if(this.route.queryParams.subscribe(t=>{this.idlista=t.id}),this.lista){const{nombre_lista:t,fecha_lista:r}=this.form.getRawValue();this.iduser=this.auth.currentUser.uid,this.lista={fecha_lista:r,nombre_lista:t,idusuario:this.iduser},this.listacomprasservice.updateFirestore(this.idlista,this.lista).then(i=>{this.router.navigateByUrl("/",{skipLocationChange:!1}).then(()=>{this.router.navigate(["/menu"])})})}else{const{nombre_lista:t,fecha_lista:r}=this.form.getRawValue();this.iduser=this.auth.currentUser.uid,this.lista={fecha_lista:r,nombre_lista:t,idusuario:this.iduser},this.listacomprasservice.createFirestore(this.lista).then(i=>this.router.navigateByUrl("/",{skipLocationChange:!1}).then(()=>{this.router.navigate(["/menu"])}))}}atras(){this.router.navigate(["/menu"])}}return n.\u0275fac=function(t){return new(t||n)(E(iw),E(Oi),E(yt),E(jr),E(KS))},n.\u0275cmp=Zn({type:n,selectors:[["app-crear-lista-compras"]],decls:24,vars:7,consts:[[1,"fw-bold","fs-3","py-3","text-center"],[1,"card","mx-auto"],[1,"card-body","justify-content-center","align-items-center","mx-auto",2,"width","50%"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],[1,"was-validated",3,"formGroup","ngSubmit"],[1,"modal-body"],[1,"form-group"],["type","hidden","formControlName","auxiliar",3,"ngModel","ngModelChange"],["for","nombre_lista"],["style","color:red",4,"ngIf"],["type","text","formControlName","nombre_lista","required","true","name","nombre_lista",1,"text_input","form-control",3,"ngModel","ngModelChange"],[1,"form-group","py-2"],["for","fecha_lista"],["type","date","formControlName","fecha_lista","name","fecha_lista","required","true",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit","value","Guardar",1,"btn","btn-primary",3,"disabled"],[2,"color","red"]],template:function(t,r){if(1&t&&(Ve(0,"app-nav"),b(1,"h1",0),P(2),S(),b(3,"div",1)(4,"div",2)(5,"div",3)(6,"h5",4),P(7,"Ingrese los datos de la lista"),S()(),b(8,"form",5),te("ngSubmit",function(){return r.createUpdateLista()}),b(9,"div",6)(10,"div",7)(11,"input",8),te("ngModelChange",function(s){return r.lista.nombre_lista=s}),S(),b(12,"label",9),P(13,"Nombre: "),S(),jt(14,yhe,2,0,"span",10),b(15,"input",11),te("ngModelChange",function(s){return r.lista.nombre_lista=s}),S()(),b(16,"div",12)(17,"label",13),P(18,"Fecha de Ingreso"),S(),b(19,"input",14),te("ngModelChange",function(s){return r.lista.fecha_lista=s}),S()()(),b(20,"div",15)(21,"button",16),te("click",function(){return r.atras()}),P(22,"Cerrar"),S(),Ve(23,"input",17),S()()()()),2&t){let i;z(2),rr("",r.titulo," Lista"),z(6),oe("formGroup",r.form),z(3),oe("ngModel",r.lista.nombre_lista),z(3),oe("ngIf",null==(i=r.form.get("nombre_lista"))||null==i.errors?null:i.errors.required),z(1),oe("ngModel",r.lista.nombre_lista),z(4),oe("ngModel",r.lista.fecha_lista),z(4),oe("disabled",r.form.invalid)}},dependencies:[Pa,Jc,Xs,Hc,Gc,Oa,Na,Zc,QS]}),n})(),vhe=(()=>{class n{constructor(t,r){this.http=t,this.firestore=r,this.ApiFirebase="https://shopping-list-c69d4-default-rtdb.firebaseio.com"}getProducts(){return this.http.get(`${this.ApiFirebase}/productos.json`)}getProduct(t){return this.http.get(`${this.ApiFirebase}/productos/${t}.json`)}create(t){return this.http.post(this.ApiFirebase,t)}delete(t){return this.http.delete(`${this.ApiFirebase}/productos/${t.id}.json`)}update(t,r){return this.http.put(`${this.ApiFirebase}/productos/${t}.json`,r)}createFirestore(t){const r=Gi(this.firestore,"productos");return $S(r,t)}getFirestore(){const t=Gi(this.firestore,"productos");return $u(t,{idField:"id"})}deleteFirestore(t){const r=ks(this.firestore,`productos/${t.id}`);return jS(r)}updateFirestore(t,r){const i=ks(this.firestore,`productos/${t}`);return WS(i,r)}getPageFirestore(t,r){const i=Gi(this.firestore,"productos");return $u(zS(i,GS("id"),HS(r),qS(t)),{idField:"id"})}}return n.\u0275fac=function(t){return new(t||n)(L(Rf),L(Bu))},n.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function whe(n,e){if(1&n){const t=Ic();b(0,"img",2),te("load",function(){return ui(t),ci(Mn().imgLoaded())})("error",function(){return ui(t),ci(Mn().imgError())}),S()}2&n&&oe("src",Mn().img,pc)}function Ihe(n,e){if(1&n&&(b(0,"p"),P(1,"[app-img]: img is empty"),S(),Ve(2,"img",3)),2&n){const t=Mn();z(2),oe("src",t.imgDefault,pc)}}let Ehe=(()=>{class n{set img2(t){console.log("set img2: ",t),this.new_img=t}constructor(){this.valor="valor inicial en img component",this.img="",this.imgDefault="https://www.meteorologiaenred.com/wp-content/uploads/2018/07/Planeta-J%C3%BApiter.png",this.imgLoadedEvent=new Re,this.counter=0,this.new_img=""}ngOnChanges(t){}ngOnInit(){}ngAfterViewInit(){}ngOnDestroy(){}imgError(){this.img=this.imgDefault}imgLoaded(){this.imgLoadedEvent.emit(this.img)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Zn({type:n,selectors:[["app-img"]],inputs:{valor:"valor",img:"img",img2:"img2"},outputs:{imgLoadedEvent:"imgLoadedEvent"},features:[Bn],decls:3,vars:2,consts:[["alt","image",3,"src","load","error",4,"ngIf","ngIfElse"],["elsetemplate",""],["alt","image",3,"src","load","error"],["alt","image","width","200",3,"src"]],template:function(t,r){if(1&t&&(jt(0,whe,1,1,"img",0),jt(1,Ihe,3,1,"ng-template",null,1,j_)),2&t){const i=zs(2);oe("ngIf",r.img)("ngIfElse",i)}},dependencies:[Pa],styles:["img[_ngcontent-%COMP%]{width:20em;height:200px;border-radius:5px;object-fit:cover;max-width:100%}"]}),n})();function Che(n,e){1&n&&Ve(0,"app-img",7),2&n&&oe("img",Mn().product.images[0])}function bhe(n,e){if(1&n&&(b(0,"p"),P(1,"[app-product]: images array is empty"),S(),Ve(2,"app-img",8)),2&n){const t=Mn();z(2),oe("img",t.product.image)}}let Dhe=(()=>{class n{constructor(){this.product={id:"",title:"",price:0,image:"",images:[],category:{id:"",name:""},description:""},this.addedProduct=new Re,this.showDetailProduct=new Re}ngOnInit(){}addProduct(){this.addedProduct.emit(this.product)}showDetail(){this.showDetailProduct.emit(this.product.id)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Zn({type:n,selectors:[["app-product"]],inputs:{product:"product"},outputs:{addedProduct:"addedProduct",showDetailProduct:"showDetailProduct"},decls:14,vars:11,consts:[[1,"producto"],[3,"img",4,"ngIf","ngIfElse"],["elsetemplate",""],[1,"nombre-producto","text-center"],[1,"precio-producto","text-center"],["appHighlight","",1,"boton-producto",3,"click"],[1,"boton-detail",3,"click"],[3,"img"],["alt","image",3,"img"]],template:function(t,r){if(1&t&&(b(0,"div",0),jt(1,Che,1,1,"app-img",1),jt(2,bhe,3,1,"ng-template",null,2,j_),b(4,"p",3),P(5),Sa(6,"slice"),S(),b(7,"h2",4),P(8),Sa(9,"currency"),S(),b(10,"button",5),te("click",function(){return r.addProduct()}),P(11,"Agregar al carrito"),S(),b(12,"button",6),te("click",function(){return r.showDetail()}),P(13,"Ver detalle"),S()()),2&t){const i=zs(3);z(1),oe("ngIf",r.product.images&&r.product.images.length>0)("ngIfElse",i),z(4),rr("Nombre: ",function iR(n,e,t,r,i){const s=n+Le,o=D(),a=Qo(o,s);return Pc(o,s)?tR(o,gn(),e,a.transform,t,r,i,a):a.transform(t,r,i)}(6,4,r.product.title,0,12),""),z(3),rr("Precio: ",Mc(9,8,r.product.price,"COP"),"")}},dependencies:[Pa,Ehe,Pk,Cf],styles:[".producto[_ngcontent-%COMP%]{margin:1em;padding:10px;border:1px solid #ccc;border-radius:5px;background-color:#fff;box-shadow:0 0 5px #ccc;transition:all .3s ease-in-out;cursor:pointer}.producto[_ngcontent-%COMP%]:hover{box-shadow:0 0 10px #4f4f4f}.producto[_ngcontent-%COMP%]   .img-producto[_ngcontent-%COMP%]{width:20em;height:200px;border-radius:5px;object-fit:cover}.producto[_ngcontent-%COMP%]   .nombre-producto[_ngcontent-%COMP%], .producto[_ngcontent-%COMP%]   .precio-producto[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;margin:10px 0}.producto[_ngcontent-%COMP%]   .boton-producto[_ngcontent-%COMP%]{background-color:#3cd880;color:#fff;border:0;padding:10px;width:100%;border-radius:10px;margin:auto;display:block}.producto[_ngcontent-%COMP%]   .boton-producto[_ngcontent-%COMP%]:hover{transform:scale(1.1);transition:all .3s ease-in-out}.producto[_ngcontent-%COMP%]   .boton-detail[_ngcontent-%COMP%]{background-color:#3cd880;color:#fff;border:0;padding:10px;width:100%;border-radius:10px;margin:.5em auto;display:block}.producto[_ngcontent-%COMP%]   .boton-detail[_ngcontent-%COMP%]:hover{transform:scale(1.1);transition:all .3s ease-in-out}"]}),n})();const YS=function(n){return{invalid:n}},xH=function(n,e){return{valid:n,invalid:e}},The=function(n){return{success:n}};let She=(()=>{class n{constructor(){this.status=!1,this.product={id:"",title:"",price:0,image:"",images:[""],category:{id:"",name:""},description:""},this.newProduct={title:"Producto nuevo",price:1e3,image:"https://picsum.photos/200/300",images:[],categoryId:4,description:"Description"},this.newProductEvent=new Re}ngOnInit(){}onCreate(){this.newProductEvent.emit(this.product)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Zn({type:n,selectors:[["app-new-product"]],outputs:{newProductEvent:"newProductEvent"},decls:26,vars:24,consts:[[1,"form-create"],[3,"ngSubmit"],["myForm","ngForm"],[1,"input-group"],["for","form-title"],["type","text","id","form-title","name","title","required","",3,"ngClass","ngModel","ngModelChange"],["productTitle","ngModel"],["for","form-price"],["type","text","id","form-price","name","price","required","",3,"ngClass","ngModel","ngModelChange"],["productPrice","ngModel"],["for","form-image"],["type","text","id","form-image","name","image","required","",3,"ngClass","ngModel","ngModelChange"],["productImage","ngModel"],[1,"form-message",3,"ngClass"],["type","submit",1,"form-button",3,"disabled","ngClass"]],template:function(t,r){if(1&t&&(b(0,"div",0)(1,"form",1,2),te("ngSubmit",function(){return r.onCreate()}),b(3,"h3"),P(4,"Registro de Producto"),S(),b(5,"div",3)(6,"label",4),P(7,"Nombre:"),S(),b(8,"input",5,6),te("ngModelChange",function(s){return r.product.title=s}),S()(),b(10,"div",3)(11,"label",7),P(12,"Price:"),S(),b(13,"input",8,9),te("ngModelChange",function(s){return r.product.price=s}),S()(),b(15,"div",3)(16,"label",10),P(17,"Image:"),S(),b(18,"input",11,12),te("ngModelChange",function(s){return r.product.image=s}),S()(),b(20,"p",13),P(21,"Complete los campos"),S(),b(22,"p",13),P(23,"Registro exitoso!"),S(),b(24,"button",14),P(25,"Enviar"),S()()()),2&t){const i=zs(2),s=zs(9),o=zs(14),a=zs(19);z(8),oe("ngClass",yi(10,YS,!s.valid&&s.touched))("ngModel",r.product.title),z(5),oe("ngClass",yi(12,YS,!o.valid&&o.touched))("ngModel",r.product.price),z(5),oe("ngClass",yi(14,YS,!a.valid&&a.touched))("ngModel",r.product.image),z(2),oe("ngClass",k_(16,xH,s.valid,!s.valid&&(s.touched||o.touched||a.touched))),z(2),oe("ngClass",yi(19,The,r.status)),z(2),oe("disabled",!i.valid)("ngClass",k_(21,xH,s.valid&&o.valid&&a.valid,!s.valid||!o.valid||!a.valid))}},dependencies:[If,Jc,Xs,Hc,Gc,Oa,Jv,Hf],styles:[".form-create[_ngcontent-%COMP%]{width:100%;max-width:330px;padding:15px;margin:auto;border-radius:10px;background-color:#b4c3c7;display:flex;flex-direction:column;justify-content:center;align-items:center}.form-create[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .form-create[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:1em 0;color:#fff;font-size:2em}.input-group[_ngcontent-%COMP%]{margin-bottom:10px}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:10px;border:0;padding:10px;width:90%}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.input-group[_ngcontent-%COMP%]   input.invalid[_ngcontent-%COMP%]{border:1px solid #dc3545}.input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:#fff}.form-message[_ngcontent-%COMP%]{opacity:0}.form-message.invalid[_ngcontent-%COMP%]{background-color:#dc3545;opacity:1;margin-top:10px;padding:10px;border-radius:10px;color:#fff}.form-message.valid[_ngcontent-%COMP%]{opacity:0;margin-top:0;padding:0}.form-message.success[_ngcontent-%COMP%]{opacity:1;margin-top:10px;padding:10px;border-radius:10px;color:#fff;background-color:#75e49f}.form-button[_ngcontent-%COMP%]{background-color:#fff;color:#74ac95;border:0;padding:10px;width:70%;border-radius:10px;margin:auto;display:block}.form-button.valid[_ngcontent-%COMP%]{background-color:#fff;color:#74ac95}.form-button.invalid[_ngcontent-%COMP%]{background-color:#3cd880;color:#fff}.form-button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}"]}),n})();function Ahe(n,e){if(1&n){const t=Ic();b(0,"app-product",22),te("addedProduct",function(i){return ui(t),ci(Mn().addToCart(i))})("showDetailProduct",function(i){return ui(t),ci(Mn().onShowDetail(i))}),S()}2&n&&oe("product",e.$implicit)}const MH=function(n){return{active:n}};let xhe=(()=>{class n{constructor(t,r,i,s,o,a,u){this.storeService=t,this.productsService=r,this.auth=i,this.router=s,this.route=o,this.listacomprasservice=a,this.listaProductosService=u,this.cart=[],this.total=0,this.products=[],this.today=new Date,this.date=new Date(2021,5,1),this.detailState=!1,this.productDetail={id:"",title:"",price:0,image:"",images:[],category:{id:"",name:""},description:""},this.createState=!1,this.limit=10,this.offset=0,this.iduser="",this.id_lista_compras="",this.lista_producto={id:"",idlista_compras:"",idproducto:"",estado:!1},this.cart=this.storeService.getCart(),this.total=this.storeService.getTotal()}ngOnInit(){this.productsService.getPageFirestore(this.offset.toString(),this.limit).subscribe(t=>{this.products=t}),this.route.queryParams.subscribe(t=>{this.id_lista_compras=t.id,this.iduser=this.auth.currentUser.uid,console.log("iduser:",this.iduser,"id_lista_compras:",t.id),this.lista_producto.idlista_compras=this.id_lista_compras})}addToCart(t){this.storeService.addToCart(t),this.total=this.storeService.getTotal(),this.lista_producto.idproducto=t.id,this.lista_producto.estado=!0,this.listaProductosService.createFirestore(this.lista_producto).then(r=>{console.log("response-create-prod-list: ",r.id,"id_lista_compras: ",this.id_lista_compras)})}closeDetail(){this.detailState=!this.detailState}onShowDetail(t){this.detailState||(this.detailState=!0,this.createState=!1),this.productsService.getProduct(t).subscribe(r=>{this.productDetail=r})}closeCreateProduct(){this.createState=!this.createState,this.detailState=!1}onNewProduct(t){var r=this;return g(function*(){const i=yield r.productsService.createFirestore(t);console.log("response",i),r.products.push(t)})()}deleteProduct(t){this.productsService.deleteFirestore(t).then(()=>{this.products=this.products.filter(r=>r.id!==t.id)})}updateProduct(t){this.productsService.updateFirestore(t.id,t).then(()=>{this.products=this.products.map(i=>(i.id===t.id&&(i=t),i))})}nextPage(){this.offset+=this.limit,this.productsService.getPageFirestore(this.offset.toString(),this.limit).subscribe(t=>{this.products=t})}prevPage(){this.offset-=this.limit,this.productsService.getPageFirestore(this.offset.toString(),this.limit).subscribe(t=>{this.products=t})}}return n.\u0275fac=function(t){return new(t||n)(E(TH),E(vhe),E(Oi),E(yt),E(jr),E(KS),E(SH))},n.\u0275cmp=Zn({type:n,selectors:[["app-products"]],decls:45,vars:19,consts:[[1,"catalogo"],[1,"catalogo-titulo"],[1,"fecha"],[3,"product","addedProduct","showDetailProduct",4,"ngFor","ngForOf"],[1,"paginador-container"],[1,"btn-paginador",3,"click"],[1,"total"],[1,"product-detail",3,"ngClass"],[1,"contenido"],[1,"detail-titulo"],[1,"btn-close",3,"click"],[1,"producto"],[1,"precio-producto","text-center"],[1,"nombre-producto","text-center"],[1,"descripcion-producto","text-center"],[1,"btn-container"],[1,"btn-update",3,"click"],[1,"btn-delete",3,"click"],[1,"btn-create",3,"click"],[1,"create-product",3,"ngClass"],[1,"create-titulo"],[3,"newProductEvent"],[3,"product","addedProduct","showDetailProduct"]],template:function(t,r){1&t&&(Ve(0,"app-nav"),b(1,"div",0)(2,"h1",1),P(3),b(4,"p",2),P(5),Sa(6,"date"),S()(),jt(7,Ahe,1,1,"app-product",3),b(8,"div",4)(9,"button",5),te("click",function(){return r.prevPage()}),P(10,"Anterior"),S(),b(11,"button",5),te("click",function(){return r.nextPage()}),P(12,"Siguiente"),S()()(),b(13,"p",6),P(14),S(),b(15,"div",7)(16,"div",8)(17,"h1",9)(18,"p"),P(19," Detalle del Producto "),S(),b(20,"button",10),te("click",function(){return r.closeDetail()}),P(21,"X"),S()(),b(22,"div",11)(23,"h2",12),P(24),Sa(25,"currency"),S(),b(26,"p",13),P(27),S(),b(28,"p",14),P(29),S()(),b(30,"div",15)(31,"button",16),te("click",function(){return r.updateProduct(r.productDetail)}),P(32,"Actualizar"),S(),b(33,"button",17),te("click",function(){return r.deleteProduct(r.productDetail)}),P(34,"Eliminar"),S()()()(),b(35,"button",18),te("click",function(){return r.closeCreateProduct()}),P(36,"+"),S(),b(37,"div",19)(38,"div",8)(39,"h1",20)(40,"p"),P(41," Crear Producto "),S(),b(42,"button",10),te("click",function(){return r.closeCreateProduct()}),P(43,"X"),S()(),b(44,"app-new-product",21),te("newProductEvent",function(s){return r.onNewProduct(s)}),S()()()),2&t&&(z(3),rr(" Catalogo de Productos - Agregados: ",r.cart.length," "),z(2),rr("Today: ",Mc(6,9,r.today,"short"),""),z(2),oe("ngForOf",r.products),z(7),rr("Total COP: ",r.total,"$"),z(1),oe("ngClass",yi(15,MH,r.detailState)),z(9),rr("Precio: ",Mc(25,12,r.productDetail.price,"COP"),""),z(3),rr("Nombre: ",r.productDetail.title,""),z(2),rr("Descripcion: ",r.productDetail.description,""),z(8),oe("ngClass",yi(17,MH,r.createState)))},dependencies:[If,Ef,Dhe,QS,She,Cf,xk],styles:[".catalogo[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around;margin:20px 0 2em;padding:0;list-style:none;width:100%;height:100%;background-color:#fff;border-radius:5px;box-shadow:0 0 5px #0003}.catalogo[_ngcontent-%COMP%]   .catalogo-titulo[_ngcontent-%COMP%]{display:flex;margin:.1em;padding:0 1em;width:100%;height:50px;background-color:#527dcc;border-radius:5px 5px 0 0;color:#fff;font-size:1.5rem;font-weight:700;text-align:center;line-height:50px;justify-content:space-between}.catalogo[_ngcontent-%COMP%]   .catalogo-titulo[_ngcontent-%COMP%]   .fecha[_ngcontent-%COMP%]{text-align:right;color:#fff;font-size:1.2rem}.paginador-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:.5em;width:100%}.paginador-container[_ngcontent-%COMP%]   .btn-paginador[_ngcontent-%COMP%]{width:20%;background-color:#3cd880;color:#fff;border:0;padding:10px;border-radius:10px;margin:.5em auto}.btn-paginador[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.total[_ngcontent-%COMP%]{bottom:0;margin:.1em 0 0;width:100%;height:50px;background-color:#527dcc;border-radius:5px 5px 0 0;color:#fff;font-size:1.5rem;font-weight:700;text-align:center;line-height:50px}.product-detail[_ngcontent-%COMP%]{position:fixed;inset:0 0 0 50%;background:white;box-shadow:0 0 5px #ccc;display:flex;flex-direction:column;justify-content:flex-start;transform:translate(100%);transition:all ease-out .3s;overflow-y:scroll}.product-detail.active[_ngcontent-%COMP%]{transform:translate(0)}.product-detail[_ngcontent-%COMP%]   .contenido[_ngcontent-%COMP%]{display:block}.product-detail[_ngcontent-%COMP%]   .contenido[_ngcontent-%COMP%]   .detail-titulo[_ngcontent-%COMP%]{display:flex;margin:.1em;padding:0 1em;width:auto;height:50px;background-color:#527dcc;border-radius:5px 5px 0 0;color:#fff;font-size:1.5rem;font-weight:700;text-align:center;line-height:50px;justify-content:space-between}.product-detail[_ngcontent-%COMP%]   .contenido[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{border:0;background:transparent;position:relative;top:0;right:0;padding:.1em;font-size:1.5em;color:#fff}.product-detail[_ngcontent-%COMP%]   .contenido[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{cursor:pointer;transform:rotate(180deg);transition:all ease-out .5s}.product-detail[_ngcontent-%COMP%]   .contenido[_ngcontent-%COMP%]   .producto[_ngcontent-%COMP%]{margin:1em;padding:10px;border:1px solid #ccc;border-radius:5px;background-color:#fff;box-shadow:0 0 5px #ccc;transition:all .3s ease-in-out;cursor:pointer}.product-detail[_ngcontent-%COMP%]   .contenido[_ngcontent-%COMP%]   .producto[_ngcontent-%COMP%]:hover{box-shadow:0 0 10px #4f4f4f}.product-detail[_ngcontent-%COMP%]   .contenido[_ngcontent-%COMP%]   .producto[_ngcontent-%COMP%]   .img-producto[_ngcontent-%COMP%]{width:20em;height:200px;border-radius:5px;object-fit:cover}.product-detail[_ngcontent-%COMP%]   .contenido[_ngcontent-%COMP%]   .producto[_ngcontent-%COMP%]   .nombre-producto[_ngcontent-%COMP%], .product-detail[_ngcontent-%COMP%]   .contenido[_ngcontent-%COMP%]   .producto[_ngcontent-%COMP%]   .precio-producto[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;margin:10px 0}.btn-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center;margin:.5em 0;width:100%}.product-detail[_ngcontent-%COMP%]   .contenido[_ngcontent-%COMP%]   .btn-update[_ngcontent-%COMP%]{width:50%;background-color:#3cd880;color:#fff;border:0;padding:10px;border-radius:10px;margin:.5em auto}.product-detail[_ngcontent-%COMP%]   .contenido[_ngcontent-%COMP%]   .btn-delete[_ngcontent-%COMP%]{width:50%;background-color:#dc3545;color:#fff;border:0;padding:10px;border-radius:10px;margin:.5em auto}.swiper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:60%;height:40%;overflow-y:auto}.swiper[_ngcontent-%COMP%]   .swiper-image[_ngcontent-%COMP%]{width:100%;height:100%}.btn-create[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;width:50px;height:50px;border-radius:50%;background-color:#2169ef;color:#fff;border:0;font-size:2em;box-shadow:0 0 5px #ccc}.btn-create[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#3cd880;transform:rotate(180deg);transition:all ease-out .5s}.create-product[_ngcontent-%COMP%]{position:fixed;inset:0 0 0 60%;background:white;box-shadow:0 0 5px #ccc;display:flex;flex-direction:column;justify-content:flex-start;transform:translate(100%);transition:all ease-out .3s;overflow-y:scroll}.create-product.active[_ngcontent-%COMP%]{transform:translate(0)}.create-product[_ngcontent-%COMP%]   .contenido[_ngcontent-%COMP%]{display:block}.create-product[_ngcontent-%COMP%]   .contenido[_ngcontent-%COMP%]   .create-titulo[_ngcontent-%COMP%]{display:flex;margin:.1em .1em 1em;padding:0 1em;width:auto;height:50px;background-color:#527dcc;border-radius:5px 5px 0 0;color:#fff;font-size:1.5rem;font-weight:700;text-align:center;line-height:50px;justify-content:space-between}.create-product[_ngcontent-%COMP%]   .contenido[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{border:0;background:transparent;position:relative;top:0;right:0;padding:.1em;font-size:1.5em;color:#fff}.create-product[_ngcontent-%COMP%]   .contenido[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{cursor:pointer;transform:rotate(180deg);transition:all ease-out .5s}@media screen and (min-width: 40em){.catalogo[_ngcontent-%COMP%]{width:100%;height:100%;margin:0;padding:0;border-radius:0;box-shadow:none}}@media screen and (max-width: 40em){.catalogo[_ngcontent-%COMP%]{width:100%;height:100%;margin:0;padding:0;border-radius:0;box-shadow:none}}"]}),n})();const Mhe=[{path:"",component:HV},{path:"register",component:Xoe},{path:"login",component:HV},{path:"menu",component:mhe,...k0(()=>N0(["/login"]))},{path:"menu/registroListaCompra",component:_he,...k0(()=>N0(["/login"]))},{path:"tienda",component:xhe,...k0(()=>N0(["/login"]))}];let Phe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fn({type:n}),n.\u0275inj=Jt({imports:[OF.forRoot(Mhe),OF]}),n})(),Rhe=(()=>{class n{constructor(){this.title="shopping-list"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Zn({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&Ve(0,"router-outlet")},dependencies:[Cw]}),n})();const khe_firebase={projectId:"shopping-list-c69d4",appId:"1:657155028295:web:f308b5ac4b59b44a718862",databaseURL:"https://shopping-list-c69d4-default-rtdb.firebaseio.com",storageBucket:"shopping-list-c69d4.appspot.com",apiKey:"AIzaSyArsUIZ1uw7i0GO-_XIV4G4h6n8loqKQkE",authDomain:"shopping-list-c69d4.firebaseapp.com",messagingSenderId:"657155028295"};let Nhe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fn({type:n,bootstrap:[Rhe]}),n.\u0275inj=Jt({imports:[eK,Phe,bO,MK,OQ,bO,ire(()=>sre(khe_firebase)),hhe(()=>fhe()),Boe(()=>Hoe())]}),n})();Z8().bootstrapModule(Nhe).catch(n=>console.error(n))}},xe=>{xe(xe.s=460)}]);