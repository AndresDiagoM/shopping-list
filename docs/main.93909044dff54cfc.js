"use strict";(self.webpackChunkshopping_list=self.webpackChunkshopping_list||[]).push([[179],{487:()=>{function Ae(t){return"function"==typeof t}function Mu(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const wd=Mu(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function xo(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class xn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ae(r))try{r()}catch(s){e=s instanceof wd?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{mS(s)}catch(o){e=e??[],o instanceof wd?e=[...e,...o.errors]:e.push(o)}}if(e)throw new wd(e)}}add(e){var n;if(e&&e!==this)if(this.closed)mS(e);else{if(e instanceof xn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&xo(n,e)}remove(e){const{_finalizers:n}=this;n&&xo(n,e),e instanceof xn&&e._removeParent(this)}}xn.EMPTY=(()=>{const t=new xn;return t.closed=!0,t})();const pS=xn.EMPTY;function gS(t){return t instanceof xn||t&&"closed"in t&&Ae(t.remove)&&Ae(t.add)&&Ae(t.unsubscribe)}function mS(t){Ae(t)?t():t.unsubscribe()}const bs={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Id={setTimeout(t,e,...n){const{delegate:r}=Id;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Id;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function yS(t){Id.setTimeout(()=>{const{onUnhandledError:e}=bs;if(!e)throw t;e(t)})}function _S(){}const Kj=Jg("C",void 0,void 0);function Jg(t,e,n){return{kind:t,value:e,error:n}}let Ds=null;function Ed(t){if(bs.useDeprecatedSynchronousErrorHandling){const e=!Ds;if(e&&(Ds={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Ds;if(Ds=null,n)throw r}}else t()}class Zg extends xn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,gS(e)&&e.add(this)):this.destination=tH}static create(e,n,r){return new ku(e,n,r)}next(e){this.isStopped?tm(function Yj(t){return Jg("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?tm(function Qj(t){return Jg("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?tm(Kj,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Jj=Function.prototype.bind;function em(t,e){return Jj.call(t,e)}class Zj{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Cd(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Cd(r)}else Cd(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Cd(n)}}}class ku extends Zg{constructor(e,n,r){let i;if(super(),Ae(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&bs.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&em(e.next,s),error:e.error&&em(e.error,s),complete:e.complete&&em(e.complete,s)}):i=e}this.destination=new Zj(i)}}function Cd(t){bs.useDeprecatedSynchronousErrorHandling?function Xj(t){bs.useDeprecatedSynchronousErrorHandling&&Ds&&(Ds.errorThrown=!0,Ds.error=t)}(t):yS(t)}function tm(t,e){const{onStoppedNotification:n}=bs;n&&Id.setTimeout(()=>n(t,e))}const tH={closed:!0,next:_S,error:function eH(t){throw t},complete:_S},nm="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ts(t){return t}function vS(t){return 0===t.length?Ts:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Be=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function iH(t){return t&&t instanceof Zg||function rH(t){return t&&Ae(t.next)&&Ae(t.error)&&Ae(t.complete)}(t)&&gS(t)}(n)?n:new ku(n,r,i);return Ed(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=wS(r))((i,s)=>{const o=new ku({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[nm](){return this}pipe(...n){return vS(n)(this)}toPromise(n){return new(n=wS(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function wS(t){var e;return null!==(e=t??bs.Promise)&&void 0!==e?e:Promise}const sH=Mu(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Jr=(()=>{class t extends Be{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new IS(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new sH}next(n){Ed(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Ed(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ed(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?pS:(this.currentObservers=null,s.push(n),new xn(()=>{this.currentObservers=null,xo(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Be;return n.source=this,n}}return t.create=(e,n)=>new IS(e,n),t})();class IS extends Jr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:pS}}function ES(t){return Ae(t?.lift)}function bt(t){return e=>{if(ES(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function _t(t,e,n,r,i){return new oH(t,e,n,r,i)}class oH extends Zg{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ie(t,e){return bt((n,r)=>{let i=0;n.subscribe(_t(r,s=>{r.next(t.call(e,s,i++))}))})}function sm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Li(t){return this instanceof Li?(this.v=t,this):new Li(t)}function TS(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function am(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const SS=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function AS(t){return Ae(t?.then)}function xS(t){return Ae(t[nm])}function MS(t){return Symbol.asyncIterator&&Ae(t?.[Symbol.asyncIterator])}function kS(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const PS=function bH(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function RS(t){return Ae(t?.[PS])}function NS(t){return function DS(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Li?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Li(n.read());if(i)return yield Li(void 0);yield yield Li(r)}}finally{n.releaseLock()}})}function OS(t){return Ae(t?.getReader)}function zn(t){if(t instanceof Be)return t;if(null!=t){if(xS(t))return function DH(t){return new Be(e=>{const n=t[nm]();if(Ae(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(SS(t))return function TH(t){return new Be(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(AS(t))return function SH(t){return new Be(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,yS)})}(t);if(MS(t))return FS(t);if(RS(t))return function AH(t){return new Be(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(OS(t))return function xH(t){return FS(NS(t))}(t)}throw kS(t)}function FS(t){return new Be(e=>{(function MH(t,e){var n,r,i,s;return function CS(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=TS(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Zr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Rt(t,e,n=1/0){return Ae(e)?Rt((r,i)=>ie((s,o)=>e(r,s,i,o))(zn(t(r,i))),n):("number"==typeof e&&(n=e),bt((r,i)=>function kH(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let m=!1;zn(n(g,l++)).subscribe(_t(e,_=>{i?.(_),s?f(_):e.next(_)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;u.length&&c<r;){const _=u.shift();o?Zr(e,o,()=>p(_)):p(_)}h()}catch(_){e.error(_)}}))};return t.subscribe(_t(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function Mo(t=1/0){return Rt(Ts,t)}const Er=new Be(t=>t.complete());function um(t){return t[t.length-1]}function LS(t){return Ae(um(t))?t.pop():void 0}function Pu(t){return function RH(t){return t&&Ae(t.schedule)}(um(t))?t.pop():void 0}function bd(t,e=0){return bt((n,r)=>{n.subscribe(_t(r,i=>Zr(r,t,()=>r.next(i),e),()=>Zr(r,t,()=>r.complete(),e),i=>Zr(r,t,()=>r.error(i),e)))})}function Dd(t,e=0){return bt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function VS(t,e){if(!t)throw new Error("Iterable cannot be null");return new Be(n=>{Zr(n,e,()=>{const r=t[Symbol.asyncIterator]();Zr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function lt(t,e){return e?function BH(t,e){if(null!=t){if(xS(t))return function OH(t,e){return zn(t).pipe(Dd(e),bd(e))}(t,e);if(SS(t))return function LH(t,e){return new Be(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(AS(t))return function FH(t,e){return zn(t).pipe(Dd(e),bd(e))}(t,e);if(MS(t))return VS(t,e);if(RS(t))return function VH(t,e){return new Be(n=>{let r;return Zr(n,e,()=>{r=t[PS](),Zr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Ae(r?.return)&&r.return()})}(t,e);if(OS(t))return function UH(t,e){return VS(NS(t),e)}(t,e)}throw kS(t)}(t,e):zn(t)}function cm(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new ku({next:()=>{r.unsubscribe(),t()}});return zn(e(...n)).subscribe(r)}function Se(t){for(let e in t)if(t[e]===Se)return e;throw Error("Could not find renamed property on target object.")}function lm(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function xe(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(xe).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function dm(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const HH=Se({__forward_ref__:Se});function Me(t){return t.__forward_ref__=Me,t.toString=function(){return xe(this())},t}function W(t){return hm(t)?t():t}function hm(t){return"function"==typeof t&&t.hasOwnProperty(HH)&&t.__forward_ref__===Me}function fm(t){return t&&!!t.\u0275providers}const US="https://g.co/ng/security#xss";class S extends Error{constructor(e,n){super(Td(e,n)),this.code=e}}function Td(t,e){return`NG0${Math.abs(t)}${e?": "+e.trim():""}`}function Z(t){return"string"==typeof t?t:null==t?"":String(t)}function Sd(t,e){throw new S(-201,!1)}function qn(t,e){null==t&&function Ie(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function $(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function _n(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ad(t){return BS(t,xd)||BS(t,jS)}function BS(t,e){return t.hasOwnProperty(e)?t[e]:null}function $S(t){return t&&(t.hasOwnProperty(pm)||t.hasOwnProperty(XH))?t[pm]:null}const xd=Se({\u0275prov:Se}),pm=Se({\u0275inj:Se}),jS=Se({ngInjectableDef:Se}),XH=Se({ngInjectorDef:Se});var K=(()=>((K=K||{})[K.Default=0]="Default",K[K.Host=1]="Host",K[K.Self=2]="Self",K[K.SkipSelf=4]="SkipSelf",K[K.Optional=8]="Optional",K))();let gm;function Wn(t){const e=gm;return gm=t,e}function HS(t,e,n){const r=Ad(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&K.Optional?null:void 0!==e?e:void Sd(xe(t))}const Ne=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ru={},mm="__NG_DI_FLAG__",Md="ngTempTokenPath",ZH="ngTokenPath",eG=/\n/gm,tG="\u0275",GS="__source";let Nu;function ko(t){const e=Nu;return Nu=t,e}function nG(t,e=K.Default){if(void 0===Nu)throw new S(-203,!1);return null===Nu?HS(t,void 0,e):Nu.get(t,e&K.Optional?null:void 0,e)}function L(t,e=K.Default){return(function JH(){return gm}()||nG)(W(t),e)}function ue(t,e=K.Default){return L(t,kd(e))}function kd(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ym(t){const e=[];for(let n=0;n<t.length;n++){const r=W(t[n]);if(Array.isArray(r)){if(0===r.length)throw new S(900,!1);let i,s=K.Default;for(let o=0;o<r.length;o++){const a=r[o],u=rG(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(L(i,s))}else e.push(L(r))}return e}function Ou(t,e){return t[mm]=e,t.prototype[mm]=e,t}function rG(t){return t[mm]}function ei(t){return{toString:t}.toString()}var Cr=(()=>((Cr=Cr||{})[Cr.OnPush=0]="OnPush",Cr[Cr.Default=1]="Default",Cr))(),br=(()=>{return(t=br||(br={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",br;var t})();const ti={},ve=[],Pd=Se({\u0275cmp:Se}),_m=Se({\u0275dir:Se}),vm=Se({\u0275pipe:Se}),qS=Se({\u0275mod:Se}),ni=Se({\u0275fac:Se}),Fu=Se({__NG_ELEMENT_ID__:Se});let oG=0;function Ui(t){return ei(()=>{const e=KS(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Cr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,data:t.data||{},encapsulation:t.encapsulation||br.Emulated,id:"c"+oG++,styles:t.styles||ve,_:null,schemas:t.schemas||null,tView:null};QS(n);const r=t.dependencies;return n.directiveDefs=Rd(r,!1),n.pipeDefs=Rd(r,!0),n})}function uG(t){return Ee(t)||Wt(t)}function cG(t){return null!==t}function kn(t){return ei(()=>({type:t.type,bootstrap:t.bootstrap||ve,declarations:t.declarations||ve,imports:t.imports||ve,exports:t.exports||ve,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function WS(t,e){if(null==t)return ti;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function Y(t){return ei(()=>{const e=KS(t);return QS(e),e})}function vn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ee(t){return t[Pd]||null}function Wt(t){return t[_m]||null}function wn(t){return t[vm]||null}function Pn(t,e){const n=t[qS]||null;if(!n&&!0===e)throw new Error(`Type ${xe(t)} does not have '\u0275mod' property.`);return n}function KS(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,exportAs:t.exportAs||null,standalone:!0===t.standalone,selectors:t.selectors||ve,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:WS(t.inputs,e),outputs:WS(t.outputs)}}function QS(t){t.features?.forEach(e=>e(t))}function Rd(t,e){if(!t)return null;const n=e?wn:uG;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(cG)}const ri=0,N=1,oe=2,Ke=3,or=4,Ss=5,Kt=6,Ro=7,tt=8,Nd=9,Od=10,ce=11,wm=12,Lu=13,YS=14,No=15,Qt=16,Vu=17,Oo=18,Dr=19,Uu=20,XS=21,Oe=22,Im=1,JS=2,Fd=7,Ld=8,Fo=9,on=10;function Rn(t){return Array.isArray(t)&&"object"==typeof t[Im]}function ar(t){return Array.isArray(t)&&!0===t[Im]}function Em(t){return 0!=(4&t.flags)}function Bu(t){return t.componentOffset>-1}function Vd(t){return 1==(1&t.flags)}function ur(t){return!!t.template}function dG(t){return 0!=(256&t[oe])}function As(t,e){return t.hasOwnProperty(ni)?t[ni]:null}class pG{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Nn(){return tA}function tA(t){return t.type.prototype.ngOnChanges&&(t.setInput=mG),gG}function gG(){const t=rA(this),e=t?.current;if(e){const n=t.previous;if(n===ti)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function mG(t,e,n,r){const i=this.declaredInputs[n],s=rA(t)||function yG(t,e){return t[nA]=e}(t,{previous:ti,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new pG(u&&u.currentValue,e,a===ti),t[r]=e}Nn.ngInherit=!0;const nA="__ngSimpleChanges__";function rA(t){return t[nA]||null}const Kn=function(t,e,n){};function Nt(t){for(;Array.isArray(t);)t=t[ri];return t}function Ud(t,e){return Nt(e[t])}function On(t,e){return Nt(e[t.index])}function oA(t,e){return t.data[e]}function Lo(t,e){return t[e]}function In(t,e){const n=e[t];return Rn(n)?n:n[ri]}function Bd(t){return 64==(64&t[oe])}function Bi(t,e){return null==e?null:t[e]}function aA(t){t[Oo]=0}function bm(t,e){t[Ss]+=e;let n=t,r=t[Ke];for(;null!==r&&(1===e&&1===n[Ss]||-1===e&&0===n[Ss]);)r[Ss]+=e,n=r,r=r[Ke]}const ee={lFrame:yA(null),bindingsEnabled:!0};function cA(){return ee.bindingsEnabled}function C(){return ee.lFrame.lView}function ge(){return ee.lFrame.tView}function Vo(t){return ee.lFrame.contextLView=t,t[tt]}function Uo(t){return ee.lFrame.contextLView=null,t}function Ot(){let t=lA();for(;null!==t&&64===t.type;)t=t.parent;return t}function lA(){return ee.lFrame.currentTNode}function Tr(t,e){const n=ee.lFrame;n.currentTNode=t,n.isParent=e}function Dm(){return ee.lFrame.isParent}function an(){const t=ee.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Bo(){return ee.lFrame.bindingIndex++}function MG(t,e){const n=ee.lFrame;n.bindingIndex=n.bindingRootIndex=t,Sm(e)}function Sm(t){ee.lFrame.currentDirectiveIndex=t}function xm(t){ee.lFrame.currentQueryIndex=t}function PG(t){const e=t[N];return 2===e.type?e.declTNode:1===e.type?t[Kt]:null}function gA(t,e,n){if(n&K.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&K.Host||(i=PG(s),null===i||(s=s[No],10&i.type))););if(null===i)return!1;e=i,t=s}const r=ee.lFrame=mA();return r.currentTNode=e,r.lView=t,!0}function Mm(t){const e=mA(),n=t[N];ee.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function mA(){const t=ee.lFrame,e=null===t?null:t.child;return null===e?yA(t):e}function yA(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function _A(){const t=ee.lFrame;return ee.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const vA=_A;function km(){const t=_A();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function un(){return ee.lFrame.selectedIndex}function xs(t){ee.lFrame.selectedIndex=t}function Ge(){const t=ee.lFrame;return oA(t.tView,t.selectedIndex)}function $d(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks??(t.contentHooks=[])).push(n,a),(t.contentCheckHooks??(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks??(t.viewHooks=[])).push(-n,u),c&&((t.viewHooks??(t.viewHooks=[])).push(n,c),(t.viewCheckHooks??(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks??(t.destroyHooks=[])).push(n,l)}}function jd(t,e,n){wA(t,e,3,n)}function Hd(t,e,n,r){(3&t[oe])===n&&wA(t,e,n,r)}function Pm(t,e){let n=t[oe];(3&n)===e&&(n&=2047,n+=1,t[oe]=n)}function wA(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[Oo]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[Oo]+=65536),(a<s||-1==s)&&($G(t,n,e,u),t[Oo]=(4294901760&t[Oo])+u+2),u++}function $G(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[oe]>>11<t[Oo]>>16&&(3&t[oe])===e){t[oe]+=2048,Kn(4,a,s);try{s.call(a)}finally{Kn(5,a,s)}}}else{Kn(4,a,s);try{s.call(a)}finally{Kn(5,a,s)}}}const $o=-1;class ju{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Nm(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];EA(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function IA(t){return 3===t||4===t||6===t}function EA(t){return 64===t.charCodeAt(0)}function Hu(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||CA(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function CA(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function bA(t){return t!==$o}function Gd(t){return 32767&t}function zd(t,e){let n=function zG(t){return t>>16}(t),r=e;for(;n>0;)r=r[No],n--;return r}let Om=!0;function qd(t){const e=Om;return Om=t,e}const DA=255,TA=5;let qG=0;const Sr={};function Wd(t,e){const n=SA(t,e);if(-1!==n)return n;const r=e[N];r.firstCreatePass&&(t.injectorIndex=e.length,Fm(r.data,t),Fm(e,null),Fm(r.blueprint,null));const i=Lm(t,e),s=t.injectorIndex;if(bA(i)){const o=Gd(i),a=zd(i,e),u=a[N].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function Fm(t,e){t.push(0,0,0,0,0,0,0,0,e)}function SA(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Lm(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=NA(i),null===r)return $o;if(n++,i=i[No],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return $o}function Vm(t,e,n){!function WG(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Fu)&&(r=n[Fu]),null==r&&(r=n[Fu]=qG++);const i=r&DA;e.data[t+(i>>TA)]|=1<<i}(t,e,n)}function AA(t,e,n){if(n&K.Optional||void 0!==t)return t;Sd()}function xA(t,e,n,r){if(n&K.Optional&&void 0===r&&(r=null),!(n&(K.Self|K.Host))){const i=t[Nd],s=Wn(void 0);try{return i?i.get(e,r,n&K.Optional):HS(e,r,n&K.Optional)}finally{Wn(s)}}return AA(r,0,n)}function MA(t,e,n,r=K.Default,i){if(null!==t){if(1024&e[oe]){const o=function JG(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&1024&o[oe]&&!(256&o[oe]);){const a=kA(s,o,n,r|K.Self,Sr);if(a!==Sr)return a;let u=s.parent;if(!u){const c=o[XS];if(c){const l=c.get(n,Sr,r);if(l!==Sr)return l}u=NA(o),o=o[No]}s=u}return i}(t,e,n,r,Sr);if(o!==Sr)return o}const s=kA(t,e,n,r,Sr);if(s!==Sr)return s}return xA(e,n,r,i)}function kA(t,e,n,r,i){const s=function YG(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Fu)?t[Fu]:void 0;return"number"==typeof e?e>=0?e&DA:XG:e}(n);if("function"==typeof s){if(!gA(e,t,r))return r&K.Host?AA(i,0,r):xA(e,n,r,i);try{const o=s(r);if(null!=o||r&K.Optional)return o;Sd()}finally{vA()}}else if("number"==typeof s){let o=null,a=SA(t,e),u=$o,c=r&K.Host?e[Qt][Kt]:null;for((-1===a||r&K.SkipSelf)&&(u=-1===a?Lm(t,e):e[a+8],u!==$o&&RA(r,!1)?(o=e[N],a=Gd(u),e=zd(u,e)):a=-1);-1!==a;){const l=e[N];if(PA(s,a,l.data)){const d=QG(a,e,n,o,r,c);if(d!==Sr)return d}u=e[a+8],u!==$o&&RA(r,e[N].data[a+8]===c)&&PA(s,a,e)?(o=l,a=Gd(u),e=zd(u,e)):a=-1}}return i}function QG(t,e,n,r,i,s){const o=e[N],a=o.data[t+8],l=function Kd(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&ur(f)&&f.type===n)return u}return null}(a,o,n,null==r?Bu(a)&&Om:r!=o&&0!=(3&a.type),i&K.Host&&s===a);return null!==l?Ms(e,o,l,a):Sr}function Ms(t,e,n,r){let i=t[n];const s=e.data;if(function jG(t){return t instanceof ju}(i)){const o=i;o.resolving&&function GH(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new S(-200,`Circular dependency in DI detected for ${t}${n}`)}(function we(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Z(t)}(s[n]));const a=qd(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Wn(o.injectImpl):null;gA(t,r,K.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function BG(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=tA(e);(n.preOrderHooks??(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks??(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks??(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&Wn(u),qd(a),o.resolving=!1,vA()}}return i}function PA(t,e,n){return!!(n[e+(t>>TA)]&1<<t)}function RA(t,e){return!(t&K.Self||t&K.Host&&e)}class jo{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return MA(this._tNode,this._lView,e,kd(r),n)}}function XG(){return new jo(Ot(),C())}function Ft(t){return ei(()=>{const e=t.prototype.constructor,n=e[ni]||Um(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[ni]||Um(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Um(t){return hm(t)?()=>{const e=Um(W(t));return e&&e()}:As(t)}function NA(t){const e=t[N],n=e.type;return 2===n?e.declTNode:1===n?t[Kt]:null}const Go="__parameters__";function qo(t,e,n){return ei(()=>{const r=function Bm(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(Go)?u[Go]:Object.defineProperty(u,Go,{value:[]})[Go];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class F{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=$({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ks(t,e){t.forEach(n=>Array.isArray(n)?ks(n,e):e(n))}function FA(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Yd(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Fn(t,e,n){let r=Wo(t,e);return r>=0?t[1|r]=n:(r=~r,function n4(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function jm(t,e){const n=Wo(t,e);if(n>=0)return t[1|n]}function Wo(t,e){return function LA(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const cn=Ou(qo("Optional"),8),Wu=Ou(qo("SkipSelf"),4);var En=(()=>((En=En||{})[En.Important=1]="Important",En[En.DashCase=2]="DashCase",En))();const Km=new Map;let b4=0;const Ym="__ngContext__";function Yt(t,e){Rn(e)?(t[Ym]=e[Uu],function T4(t){Km.set(t[Uu],t)}(e)):t[Ym]=e}let Xm;function Jm(t,e){return Xm(t,e)}function Xu(t){const e=t[Ke];return ar(e)?e[Ke]:e}function Zm(t){return rx(t[Lu])}function ey(t){return rx(t[or])}function rx(t){for(;null!==t&&!ar(t);)t=t[or];return t}function Qo(t,e,n,r,i){if(null!=r){let s,o=!1;ar(r)?s=r:Rn(r)&&(o=!0,r=r[ri]);const a=Nt(r);0===t&&null!==n?null==i?cx(e,n,a):Ps(e,n,a,i||null,!0):1===t&&null!==n?Ps(e,n,a,i||null,!0):2===t?function ay(t,e,n){const r=eh(t,e);r&&function q4(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function Q4(t,e,n,r,i){const s=n[Fd];s!==Nt(n)&&Qo(e,t,r,s,i);for(let a=on;a<n.length;a++){const u=n[a];Ju(u[N],u,t,e,r,s)}}(e,t,s,n,i)}}function ny(t,e,n){return t.createElement(e,n)}function sx(t,e){const n=t[Fo],r=n.indexOf(e),i=e[Ke];512&e[oe]&&(e[oe]&=-513,bm(i,-1)),n.splice(r,1)}function ry(t,e){if(t.length<=on)return;const n=on+e,r=t[n];if(r){const i=r[Vu];null!==i&&i!==t&&sx(i,r),e>0&&(t[n-1][or]=r[or]);const s=Yd(t,on+e);!function V4(t,e){Ju(t,e,e[ce],2,null,null),e[ri]=null,e[Kt]=null}(r[N],r);const o=s[Dr];null!==o&&o.detachView(s[N]),r[Ke]=null,r[or]=null,r[oe]&=-65}return r}function ox(t,e){if(!(128&e[oe])){const n=e[ce];n.destroyNode&&Ju(t,e,n,3,null,null),function $4(t){let e=t[Lu];if(!e)return iy(t[N],t);for(;e;){let n=null;if(Rn(e))n=e[Lu];else{const r=e[on];r&&(n=r)}if(!n){for(;e&&!e[or]&&e!==t;)Rn(e)&&iy(e[N],e),e=e[Ke];null===e&&(e=t),Rn(e)&&iy(e[N],e),n=e&&e[or]}e=n}}(e)}}function iy(t,e){if(!(128&e[oe])){e[oe]&=-65,e[oe]|=128,function z4(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof ju)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];Kn(4,a,u);try{u.call(a)}finally{Kn(5,a,u)}}else{Kn(4,i,s);try{s.call(i)}finally{Kn(5,i,s)}}}}}(t,e),function G4(t,e){const n=t.cleanup,r=e[Ro];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[Ro]=null}}(t,e),1===e[N].type&&e[ce].destroy();const n=e[Vu];if(null!==n&&ar(e[Ke])){n!==e[Ke]&&sx(n,e);const r=e[Dr];null!==r&&r.detachView(t)}!function S4(t){Km.delete(t[Uu])}(e)}}function ax(t,e,n){return function ux(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[ri];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===br.None||s===br.Emulated)return null}return On(r,n)}}(t,e.parent,n)}function Ps(t,e,n,r,i){t.insertBefore(e,n,r,i)}function cx(t,e,n){t.appendChild(e,n)}function lx(t,e,n,r,i){null!==r?Ps(t,e,n,r,i):cx(t,e,n)}function eh(t,e){return t.parentNode(e)}let sy,ly,fx=function hx(t,e,n){return 40&t.type?On(t,n):null};function th(t,e,n,r){const i=ax(t,r,e),s=e[ce],a=function dx(t,e,n){return fx(t,e,n)}(r.parent||e[Kt],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)lx(s,i,n[u],a,!1);else lx(s,i,n,a,!1);void 0!==sy&&sy(s,r,e,n,i)}function nh(t,e){if(null!==e){const n=e.type;if(3&n)return On(e,t);if(4&n)return oy(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return nh(t,r);{const i=t[e.index];return ar(i)?oy(-1,i):Nt(i)}}if(32&n)return Jm(e,t)()||Nt(t[e.index]);{const r=gx(t,e);return null!==r?Array.isArray(r)?r[0]:nh(Xu(t[Qt]),r):nh(t,e.next)}}return null}function gx(t,e){return null!==e?t[Qt][Kt].projection[e.projection]:null}function oy(t,e){const n=on+t+1;if(n<e.length){const r=e[n],i=r[N].firstChild;if(null!==i)return nh(r,i)}return e[Fd]}function uy(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Yt(Nt(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)uy(t,e,n.child,r,i,s,!1),Qo(e,t,i,a,s);else if(32&u){const c=Jm(n,r);let l;for(;l=c();)Qo(e,t,i,l,s);Qo(e,t,i,a,s)}else 16&u?mx(t,e,r,n,i,s):Qo(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Ju(t,e,n,r,i,s){uy(n,r,t.firstChild,e,i,s,!1)}function mx(t,e,n,r,i,s){const o=n[Qt],u=o[Kt].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Qo(e,t,i,u[c],s);else uy(t,e,u,o[Ke],i,s,!0)}function yx(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function _x(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&Nm(t,e,r),null!==i&&yx(t,e,i),null!==s&&function X4(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}class Cx{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${US})`}}function $i(t){return t instanceof Cx?t.changingThisBreaksApplicationSecurity:t}const dz=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var dt=(()=>((dt=dt||{})[dt.NONE=0]="NONE",dt[dt.HTML=1]="HTML",dt[dt.STYLE=2]="STYLE",dt[dt.SCRIPT=3]="SCRIPT",dt[dt.URL=4]="URL",dt[dt.RESOURCE_URL=5]="RESOURCE_URL",dt))();function tc(t){const e=function nc(){const t=C();return t&&t[wm]}();return e?e.sanitize(dt.URL,t)||"":function Zu(t,e){const n=function az(t){return t instanceof Cx&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${US})`)}return n===e}(t,"URL")?$i(t):function hy(t){return(t=String(t)).match(dz)?t:"unsafe:"+t}(Z(t))}const oh=new F("ENVIRONMENT_INITIALIZER"),Px=new F("INJECTOR",-1),Rx=new F("INJECTOR_DEF_TYPES");class Nx{get(e,n=Ru){if(n===Ru){const r=new Error(`NullInjectorError: No provider for ${xe(e)}!`);throw r.name="NullInjectorError",r}return n}}function Dz(...t){return{\u0275providers:Ox(0,t),\u0275fromNgModule:!0}}function Ox(t,...e){const n=[],r=new Set;let i;return ks(e,s=>{const o=s;my(o,n,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&Fx(i,n),n}function Fx(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];yy(i,s=>{e.push(s)})}}function my(t,e,n,r){if(!(t=W(t)))return!1;let i=null,s=$S(t);const o=!s&&Ee(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=$S(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)my(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{ks(s.imports,l=>{my(l,e,n,r)&&(c||(c=[]),c.push(l))})}finally{}void 0!==c&&Fx(c,e)}if(!a){const c=As(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:ve},{provide:Rx,useValue:i,multi:!0},{provide:oh,useValue:()=>L(i),multi:!0})}const u=s.providers;null==u||a||yy(u,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}function yy(t,e){for(let n of t)fm(n)&&(n=n.\u0275providers),Array.isArray(n)?yy(n,e):e(n)}const Tz=Se({provide:String,useValue:Se});function _y(t){return null!==t&&"object"==typeof t&&Tz in t}function Rs(t){return"function"==typeof t}const vy=new F("Set Injector scope."),ah={},Az={};let wy;function uh(){return void 0===wy&&(wy=new Nx),wy}class Ar{}class Ux extends Ar{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ey(e,o=>this.processProvider(o)),this.records.set(Px,Xo(void 0,this)),i.has("environment")&&this.records.set(Ar,Xo(void 0,this));const s=this.records.get(vy);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Rx.multi,ve,K.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const n=ko(this),r=Wn(void 0);try{return e()}finally{ko(n),Wn(r)}}get(e,n=Ru,r=K.Default){this.assertNotDestroyed(),r=kd(r);const i=ko(this),s=Wn(void 0);try{if(!(r&K.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function Rz(t){return"function"==typeof t||"object"==typeof t&&t instanceof F}(e)&&Ad(e);a=u&&this.injectableDefInScope(u)?Xo(Iy(e),ah):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&K.Self?uh():this.parent).get(e,n=r&K.Optional&&n===Ru?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[Md]=o[Md]||[]).unshift(xe(e)),i)throw o;return function iG(t,e,n,r){const i=t[Md];throw e[GS]&&i.unshift(e[GS]),t.message=function sG(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==tG?t.slice(2):t;let i=xe(e);if(Array.isArray(e))i=e.map(xe).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):xe(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(eG,"\n  ")}`}("\n"+t.message,i,n,r),t[ZH]=i,t[Md]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{Wn(s),ko(i)}}resolveInjectorInitializers(){const e=ko(this),n=Wn(void 0);try{const r=this.get(oh.multi,ve,K.Self);for(const i of r)i()}finally{ko(e),Wn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(xe(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new S(205,!1)}processProvider(e){let n=Rs(e=W(e))?e:W(e&&e.provide);const r=function Mz(t){return _y(t)?Xo(void 0,t.useValue):Xo(Bx(t),ah)}(e);if(Rs(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Xo(void 0,ah,!0),i.factory=()=>ym(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===ah&&(n.value=Az,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Pz(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=W(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function Iy(t){const e=Ad(t),n=null!==e?e.factory:As(t);if(null!==n)return n;if(t instanceof F)throw new S(204,!1);if(t instanceof Function)return function xz(t){const e=t.length;if(e>0)throw function qu(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new S(204,!1);const n=function YH(t){return t&&(t[xd]||t[jS])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new S(204,!1)}function Bx(t,e,n){let r;if(Rs(t)){const i=W(t);return As(i)||Iy(i)}if(_y(t))r=()=>W(t.useValue);else if(function Vx(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...ym(t.deps||[]));else if(function Lx(t){return!(!t||!t.useExisting)}(t))r=()=>L(W(t.useExisting));else{const i=W(t&&(t.useClass||t.provide));if(!function kz(t){return!!t.deps}(t))return As(i)||Iy(i);r=()=>new i(...ym(t.deps))}return r}function Xo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Ey(t,e){for(const n of t)Array.isArray(n)?Ey(n,e):n&&fm(n)?Ey(n.\u0275providers,e):e(n)}class Nz{}class $x{}class Fz{resolveComponentFactory(e){throw function Oz(t){const e=Error(`No component factory found for ${xe(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let rc=(()=>{class t{}return t.NULL=new Fz,t})();function Lz(){return Jo(Ot(),C())}function Jo(t,e){return new Ln(On(t,e))}let Ln=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=Lz,t})();class Hx{}let ai=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function Uz(){const t=C(),n=In(Ot().index,t);return(Rn(n)?n:t)[ce]}(),t})(),Bz=(()=>{class t{}return t.\u0275prov=$({token:t,providedIn:"root",factory:()=>null}),t})();class Zo{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Gx=new Zo("15.2.9"),Cy={},by="ngOriginalError";function Dy(t){return t[by]}class ea{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Dy(e);for(;n&&Dy(n);)n=Dy(n);return n||null}}function ui(t){return t instanceof Function?t():t}function qx(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const Wx="ng-template";function Xz(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==qx(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function Kx(t){return 4===t.type&&t.value!==Wx}function Jz(t,e,n){return e===(4!==t.type||n?t.value:Wx)}function Zz(t,e,n){let r=4;const i=t.attrs||[],s=function n3(t){for(let e=0;e<t.length;e++)if(IA(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!Jz(t,u,n)||""===u&&1===e.length){if(cr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Xz(t.attrs,c,n)){if(cr(r))return!1;o=!0}continue}const d=e3(8&r?"class":u,i,Kx(t),n);if(-1===d){if(cr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==qx(f,c,0)||2&r&&c!==h){if(cr(r))return!1;o=!0}}}}else{if(!o&&!cr(r)&&!cr(u))return!1;if(o&&cr(u))continue;o=!1,r=u|1&r}}return cr(r)||o}function cr(t){return 0==(1&t)}function e3(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function r3(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Qx(t,e,n=!1){for(let r=0;r<e.length;r++)if(Zz(t,e[r],n))return!0;return!1}function Yx(t,e){return t?":not("+e.trim()+")":e}function s3(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!cr(o)&&(e+=Yx(s,i),i=""),r=o,s=s||!cr(r);n++}return""!==i&&(e+=Yx(s,i)),e}const te={};function Te(t){Xx(ge(),C(),un()+t,!1)}function Xx(t,e,n,r){if(!r)if(3==(3&e[oe])){const s=t.preOrderCheckHooks;null!==s&&jd(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Hd(e,s,0,n)}xs(n)}function tM(t,e=null,n=null,r){const i=nM(t,e,n,r);return i.resolveInjectorInitializers(),i}function nM(t,e=null,n=null,r,i=new Set){const s=[n||ve,Dz(t)];return r=r||("object"==typeof t?void 0:xe(t)),new Ux(s,e||uh(),r||null,i)}let Yn=(()=>{class t{static create(n,r){if(Array.isArray(n))return tM({name:""},r,n,"");{const i=n.name??"";return tM({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=Ru,t.NULL=new Nx,t.\u0275prov=$({token:t,providedIn:"any",factory:()=>L(Px)}),t.__NG_ELEMENT_ID__=-1,t})();function D(t,e=K.Default){const n=C();return null===n?L(t,e):MA(Ot(),n,W(t),e)}function lM(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];xm(n[r]),o.contentQueries(2,e[s],s)}}}function lh(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[ri]=i,d[oe]=76|r,(null!==l||t&&1024&t[oe])&&(d[oe]|=1024),aA(d),d[Ke]=d[No]=t,d[tt]=n,d[Od]=o||t&&t[Od],d[ce]=a||t&&t[ce],d[wm]=u||t&&t[wm]||null,d[Nd]=c||t&&t[Nd]||null,d[Kt]=s,d[Uu]=function D4(){return b4++}(),d[XS]=l,d[Qt]=2==e.type?t[Qt]:d,d}function ra(t,e,n,r,i){let s=t.data[e];if(null===s)s=function My(t,e,n,r,i){const s=lA(),o=Dm(),u=t.data[e]=function k3(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function xG(){return ee.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function $u(){const t=ee.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Tr(s,!0),s}function ic(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ky(t,e,n){Mm(e);try{const r=t.viewQuery;null!==r&&By(1,r,n);const i=t.template;null!==i&&dM(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&lM(t,e),t.staticViewQueries&&By(2,t.viewQuery,n);const s=t.components;null!==s&&function A3(t,e){for(let n=0;n<e.length;n++)X3(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[oe]&=-5,km()}}function dh(t,e,n,r){const i=e[oe];if(128!=(128&i)){Mm(e);try{aA(e),function hA(t){return ee.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&dM(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&jd(e,c,null)}else{const c=t.preOrderHooks;null!==c&&Hd(e,c,0,null),Pm(e,0)}if(function Q3(t){for(let e=Zm(t);null!==e;e=ey(e)){if(!e[JS])continue;const n=e[Fo];for(let r=0;r<n.length;r++){const i=n[r];512&i[oe]||bm(i[Ke],1),i[oe]|=512}}}(e),function K3(t){for(let e=Zm(t);null!==e;e=ey(e))for(let n=on;n<e.length;n++){const r=e[n],i=r[N];Bd(r)&&dh(i,r,i.template,r[tt])}}(e),null!==t.contentQueries&&lM(t,e),o){const c=t.contentCheckHooks;null!==c&&jd(e,c)}else{const c=t.contentHooks;null!==c&&Hd(e,c,1),Pm(e,1)}!function T3(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)xs(~i);else{const s=i,o=n[++r],a=n[++r];MG(o,s),a(2,e[s])}}}finally{xs(-1)}}(t,e);const a=t.components;null!==a&&function S3(t,e){for(let n=0;n<e.length;n++)Y3(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&By(2,u,r),o){const c=t.viewCheckHooks;null!==c&&jd(e,c)}else{const c=t.viewHooks;null!==c&&Hd(e,c,2),Pm(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[oe]&=-41,512&e[oe]&&(e[oe]&=-513,bm(e[Ke],-1))}finally{km()}}}function dM(t,e,n,r,i){const s=un(),o=2&r;try{xs(-1),o&&e.length>Oe&&Xx(t,e,Oe,!1),Kn(o?2:0,i),n(r,i)}finally{xs(s),Kn(o?3:1,i)}}function Py(t,e,n){if(Em(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}function Ry(t,e,n){cA()&&(function V3(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;Bu(n)&&function z3(t,e,n){const r=On(e,t),i=hM(n),s=t[Od],o=hh(t,lh(t,i,null,n.onPush?32:16,r,e,s,s.createRenderer(r,n),null,null,null));t[e.index]=o}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Wd(n,e),Yt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Ms(e,t,a,n);Yt(c,e),null!==o&&q3(0,a-i,c,u,0,o),ur(u)&&(In(n.index,e)[tt]=Ms(e,t,a,n))}}(t,e,n,On(n,e)),64==(64&n.flags)&&yM(t,e,n))}function Ny(t,e,n=On){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function hM(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Oy(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Oy(t,e,n,r,i,s,o,a,u,c){const l=Oe+r,d=l+i,h=function x3(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:te);return n}(l,d),f="function"==typeof c?c():c;return h[N]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function pM(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?gM(n,e,i,s):r.hasOwnProperty(i)&&gM(n,e,r[i],s)}return n}function gM(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Fy(t,e,n,r){if(cA()){const i=null===r?null:{"":-1},s=function B3(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(Qx(e,o.selectors,!1))if(r||(r=[]),ur(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Ly(t,e,a.length)}else r.unshift(o),Ly(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&mM(t,e,n,o,i,a),i&&function $3(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new S(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=Hu(n.mergedAttrs,n.attrs)}function mM(t,e,n,r,i,s){for(let c=0;c<r.length;c++)Vm(Wd(n,e),t,r[c].type);!function H3(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=ic(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=Hu(n.mergedAttrs,l.hostAttrs),G3(t,n,e,u,l),j3(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??(t.preOrderHooks=[])).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function P3(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=pM(d.inputs,l,u,h?h.inputs:null),c=pM(d.outputs,l,c,p);const g=null===u||null===o||Kx(e)?null:W3(u,l,o);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function yM(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function kG(){return ee.lFrame.currentDirectiveIndex}();try{xs(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];Sm(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&U3(u,c)}}finally{xs(-1),Sm(o)}}function U3(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Ly(t,e,n){e.componentOffset=n,(t.components??(t.components=[])).push(e.index)}function j3(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ur(e)&&(n[""]=t)}}function G3(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=As(i.type)),o=new ju(s,ur(i),D);t.blueprint[r]=o,n[r]=o,function F3(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function L3(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,ic(t,n,i.hostVars,te),i)}function xr(t,e,n,r,i,s){const o=On(t,e);!function Vy(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?Z(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[ce],o,s,t.value,n,r,i)}function q3(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(n,d,c,l):n[l]=d}}}function W3(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function _M(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null]}function Y3(t,e){const n=In(e,t);if(Bd(n)){const r=n[N];48&n[oe]?dh(r,n,r.template,n[tt]):n[Ss]>0&&Uy(n)}}function Uy(t){for(let r=Zm(t);null!==r;r=ey(r))for(let i=on;i<r.length;i++){const s=r[i];if(Bd(s))if(512&s[oe]){const o=s[N];dh(o,s,o.template,s[tt])}else s[Ss]>0&&Uy(s)}const n=t[N].components;if(null!==n)for(let r=0;r<n.length;r++){const i=In(n[r],t);Bd(i)&&i[Ss]>0&&Uy(i)}}function X3(t,e){const n=In(e,t),r=n[N];(function J3(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),ky(r,n,n[tt])}function hh(t,e){return t[Lu]?t[YS][or]=e:t[Lu]=e,t[YS]=e,e}function fh(t){for(;t;){t[oe]|=32;const e=Xu(t);if(dG(t)&&!e)return t;t=e}return null}function ph(t,e,n,r=!0){const i=e[Od];i.begin&&i.begin();try{dh(t,e,t.template,n)}catch(o){throw r&&EM(e,o),o}finally{i.end&&i.end()}}function By(t,e,n){xm(0),e(t,n)}function vM(t){return t[Ro]||(t[Ro]=[])}function wM(t){return t.cleanup||(t.cleanup=[])}function EM(t,e){const n=t[Nd],r=n?n.get(ea,null):null;r&&r.handleError(e)}function $y(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function gh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=dm(i,a):2==s&&(r=dm(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function mh(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Nt(s)),ar(s))for(let a=on;a<s.length;a++){const u=s[a],c=u[N].firstChild;null!==c&&mh(u[N],u,c,r)}const o=n.type;if(8&o)mh(t,e,n.child,r);else if(32&o){const a=Jm(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=gx(e,n);if(Array.isArray(a))r.push(...a);else{const u=Xu(e[Qt]);mh(u[N],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class sc{get rootNodes(){const e=this._lView,n=e[N];return mh(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[tt]}set context(e){this._lView[tt]=e}get destroyed(){return 128==(128&this._lView[oe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Ke];if(ar(e)){const n=e[Ld],r=n?n.indexOf(this):-1;r>-1&&(ry(e,r),Yd(n,r))}this._attachedToViewContainer=!1}ox(this._lView[N],this._lView)}onDestroy(e){!function fM(t,e,n,r){const i=vM(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&wM(t).push(r,i.length-1))}(this._lView[N],this._lView,null,e)}markForCheck(){fh(this._cdRefInjectingView||this._lView)}detach(){this._lView[oe]&=-65}reattach(){this._lView[oe]|=64}detectChanges(){ph(this._lView[N],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function B4(t,e){Ju(t,e,e[ce],2,null,null)}(this._lView[N],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=e}}class Z3 extends sc{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;ph(e[N],e,e[tt],!1)}checkNoChanges(){}get context(){return null}}class CM extends rc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Ee(e);return new oc(n,this.ngModule)}}function bM(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class tq{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=kd(r);const i=this.injector.get(e,Cy,r);return i!==Cy||n===Cy?i:this.parentInjector.get(e,n,r)}}class oc extends $x{get inputs(){return bM(this.componentDef.inputs)}get outputs(){return bM(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function o3(t){return t.map(s3).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Ar?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new tq(e,s):e,a=o.get(Hx,null);if(null===a)throw new S(407,!1);const u=o.get(Bz,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",d=r?function M3(t,e,n){return t.selectRootElement(e,n===br.ShadowDom)}(c,r,this.componentDef.encapsulation):ny(c,l,function eq(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(l)),h=this.componentDef.onPush?288:272,f=Oy(0,null,null,1,0,null,null,null,null,null),p=lh(null,f,null,h,null,null,a,c,u,o,null);let g,m;Mm(p);try{const _=this.componentDef;let E,v=null;_.findHostDirectiveDefs?(E=[],v=new Map,_.findHostDirectiveDefs(_,E,v),E.push(_)):E=[_];const M=function rq(t,e){const n=t[N],r=Oe;return t[r]=e,ra(n,r,2,"#host",null)}(p,d),H=function iq(t,e,n,r,i,s,o,a){const u=i[N];!function sq(t,e,n,r){for(const i of t)e.mergedAttrs=Hu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(gh(e,e.mergedAttrs,!0),null!==n&&_x(r,n,e))}(r,t,e,o);const c=s.createRenderer(e,n),l=lh(i,hM(n),null,n.onPush?32:16,i[t.index],t,s,c,a||null,null,null);return u.firstCreatePass&&Ly(u,t,r.length-1),hh(i,l),i[t.index]=l}(M,d,_,E,p,a,c);m=oA(f,Oe),d&&function aq(t,e,n,r){if(r)Nm(t,n,["ng-version",Gx.full]);else{const{attrs:i,classes:s}=function a3(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!cr(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Nm(t,n,i),s&&s.length>0&&yx(t,n,s.join(" "))}}(c,_,d,r),void 0!==n&&function uq(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(m,this.ngContentSelectors,n),g=function oq(t,e,n,r,i,s){const o=Ot(),a=i[N],u=On(o,i);mM(a,i,o,n,null,r);for(let l=0;l<n.length;l++)Yt(Ms(i,a,o.directiveStart+l,o),i);yM(a,i,o),u&&Yt(u,i);const c=Ms(i,a,o.directiveStart+o.componentOffset,o);if(t[tt]=i[tt]=c,null!==s)for(const l of s)l(c,e);return Py(a,o,t),c}(H,_,E,v,p,[cq]),ky(f,p,null)}finally{km()}return new nq(this.componentType,g,Jo(m,p),p,m)}}class nq extends Nz{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new Z3(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;$y(s[N],s,i,e,n),fh(In(this._tNode.index,s))}}get injector(){return new jo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function cq(){const t=Ot();$d(C()[N],t)}function Ce(t){let e=function DM(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(ur(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new S(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=jy(t.inputs),o.declaredInputs=jy(t.declaredInputs),o.outputs=jy(t.outputs);const a=i.hostBindings;a&&fq(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&dq(t,u),c&&hq(t,c),lm(t.inputs,i.inputs),lm(t.declaredInputs,i.declaredInputs),lm(t.outputs,i.outputs),ur(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===Ce&&(n=!1)}}e=Object.getPrototypeOf(e)}!function lq(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Hu(i.hostAttrs,n=Hu(n,i.hostAttrs))}}(r)}function jy(t){return t===ti?{}:t===ve?[]:t}function dq(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function hq(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function fq(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function yh(t){return!!Hy(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Hy(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Mr(t,e,n){return t[e]=n}function Xt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ns(t,e,n,r){const i=Xt(t,e,n);return Xt(t,e+1,r)||i}function kr(t,e,n,r){const i=C();return Xt(i,Bo(),e)&&(ge(),xr(Ge(),i,t,e,n,r)),kr}function Os(t,e,n,r,i,s,o,a){const u=C(),c=ge(),l=t+Oe,d=c.firstCreatePass?function Cq(t,e,n,r,i,s,o,a,u){const c=e.consts,l=ra(e,t,4,o||null,Bi(c,a));Fy(e,n,l,Bi(c,u)),$d(e,l);const d=l.tView=Oy(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Tr(d,!1);const h=u[ce].createComment("");th(c,u,h,d),Yt(h,u),hh(u,u[l]=_M(h,u,h,d)),Vd(d)&&Ry(c,u,d),null!=o&&Ny(u,d,a)}function Fs(t){return Lo(function AG(){return ee.lFrame.contextLView}(),Oe+t)}function Qe(t,e,n){const r=C();return Xt(r,Bo(),e)&&function Vn(t,e,n,r,i,s,o,a){const u=On(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?($y(t,n,l,r,i),Bu(e)&&function N3(t,e){const n=In(e,t);16&n[oe]||(n[oe]|=32)}(n,e.index)):3&e.type&&(r=function R3(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}(ge(),Ge(),r,t,e,r[ce],n,!1),Qe}function Gy(t,e,n,r,i){const o=i?"class":"style";$y(t,n,e.inputs[o],o,r)}function V(t,e,n,r){const i=C(),s=ge(),o=Oe+t,a=i[ce],u=s.firstCreatePass?function Dq(t,e,n,r,i,s){const o=e.consts,u=ra(e,t,2,r,Bi(o,i));return Fy(e,n,u,Bi(o,s)),null!==u.attrs&&gh(u,u.attrs,!1),null!==u.mergedAttrs&&gh(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=i[o]=ny(a,e,function UG(){return ee.lFrame.currentNamespace}()),l=Vd(u);return Tr(u,!0),_x(a,c,u),32!=(32&u.flags)&&th(s,i,c,u),0===function CG(){return ee.lFrame.elementDepthCount}()&&Yt(c,i),function bG(){ee.lFrame.elementDepthCount++}(),l&&(Ry(s,i,u),Py(s,u,i)),null!==r&&Ny(i,u),V}function j(){let t=Ot();Dm()?function Tm(){ee.lFrame.isParent=!1}():(t=t.parent,Tr(t,!1));const e=t;!function DG(){ee.lFrame.elementDepthCount--}();const n=ge();return n.firstCreatePass&&($d(n,t),Em(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function HG(t){return 0!=(8&t.flags)}(e)&&Gy(n,e,C(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function GG(t){return 0!=(16&t.flags)}(e)&&Gy(n,e,C(),e.stylesWithoutHost,!1),j}function Jn(t,e,n,r){return V(t,e,n,r),j(),Jn}function vh(){return C()}function uc(t){return!!t&&"function"==typeof t.then}const Wy=function UM(t){return!!t&&"function"==typeof t.subscribe};function _e(t,e,n,r){const i=C(),s=ge(),o=Ot();return function $M(t,e,n,r,i,s,o){const a=Vd(r),c=t.firstCreatePass&&wM(t),l=e[tt],d=vM(e);let h=!0;if(3&r.type||o){const g=On(r,e),m=o?o(g):g,_=d.length,E=o?M=>o(Nt(M[r.index])):r.index;let v=null;if(!o&&a&&(v=function Sq(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Ro],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==v)(v.__ngLastListenerFn__||v).__ngNextListenerFn__=s,v.__ngLastListenerFn__=s,h=!1;else{s=HM(r,e,l,s,!1);const M=n.listen(m,i,s);d.push(s,M),c&&c.push(i,E,_,_+1)}}else s=HM(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const H=e[p[m]][p[m+1]].subscribe(s),q=d.length;d.push(s,H),c&&c.push(i,r.index,q,-(q+1))}}}(s,i,i[ce],o,t,e,r),_e}function jM(t,e,n,r){try{return Kn(6,e,n),!1!==n(r)}catch(i){return EM(t,i),!1}finally{Kn(7,e,n)}}function HM(t,e,n,r,i){return function s(o){if(o===Function)return r;fh(t.componentOffset>-1?In(t.index,e):e);let u=jM(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)u=jM(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Pr(t=1){return function RG(t){return(ee.lFrame.contextLView=function NG(t,e){for(;t>0;)e=e[No],t--;return e}(t,ee.lFrame.contextLView))[tt]}(t)}function wh(t,e){return t<<17|e<<2}function ji(t){return t>>17&32767}function Qy(t){return 2|t}function Ls(t){return(131068&t)>>2}function Yy(t,e){return-131069&t|e<<2}function Xy(t){return 1|t}function ZM(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?ji(s):Ls(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];Fq(t[a],e)&&(u=!0,t[a+1]=r?Xy(l):Qy(l)),a=r?ji(l):Ls(l)}u&&(t[n+1]=r?Qy(s):Xy(s))}function Fq(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Wo(t,e)>=0}function Ih(t,e){return function lr(t,e,n,r){const i=C(),s=ge(),o=function si(t){const e=ee.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function u1(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[un()],o=function a1(t,e){return e>=t.expandoStartIndex}(t,n);(function h1(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function zq(t,e,n,r){const i=function Am(t){const e=ee.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=cc(n=Jy(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Jy(i,t,e,n,r),null===s){let u=function qq(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ls(r))return t[ji(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=Jy(null,t,e,u[1],r),u=cc(u,e.attrs,r),function Wq(t,e,n,r){t[ji(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function Kq(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=cc(r,t[s].hostAttrs,n);return cc(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function Nq(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=ji(o),u=Ls(o);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||Wo(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=ji(t[a+1]);t[r+1]=wh(h,a),0!==h&&(t[h+1]=Yy(t[h+1],r)),t[a+1]=function Pq(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=wh(a,0),0!==a&&(t[a+1]=Yy(t[a+1],r)),a=r;else t[r+1]=wh(u,0),0===a?a=r:t[u+1]=Yy(t[u+1],r),u=r;c&&(t[r+1]=Qy(t[r+1])),ZM(t,l,r,!0),ZM(t,l,r,!1),function Oq(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&Wo(s,e)>=0&&(n[r+1]=Xy(n[r+1]))}(e,l,t,r,s),o=wh(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==te&&Xt(i,o,e)&&function l1(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function Rq(t){return 1==(1&t)}(c)?d1(u,e,n,i,Ls(c),o):void 0;Eh(l)||(Eh(s)||function kq(t){return 2==(2&t)}(c)&&(s=d1(u,null,n,i,a,o)),function Y4(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:En.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=En.Important),t.setStyle(n,r,i,s))}}(r,o,Ud(un(),n),i,s))}(s,s.data[un()],i,i[ce],t,i[o+1]=function Jq(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=xe($i(t)))),t}(e,n),r,o)}(t,e,null,!0),Ih}function Jy(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=cc(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function cc(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Fn(t,o,!!n||e[++s]))}return void 0===t?null:t}function d1(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===te&&(h=d?ve:void 0);let f=d?jm(h,r):l===r?h:void 0;if(c&&!Eh(f)&&(f=jm(u,r)),Eh(f)&&(a=f,o))return a;const p=t[i+1];i=o?ji(p):Ls(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=jm(u,r))}return a}function Eh(t){return void 0!==t}function ne(t,e=""){const n=C(),r=ge(),i=t+Oe,s=r.firstCreatePass?ra(r,i,1,e,null):r.data[i],o=n[i]=function ty(t,e){return t.createText(e)}(n[ce],e);th(r,n,o,s),Tr(s,!1)}function lc(t){return hr("",t,""),lc}function hr(t,e,n){const r=C(),i=function sa(t,e,n,r){return Xt(t,Bo(),n)?e+Z(n)+r:te}(r,t,e,n);return i!==te&&function ci(t,e,n){const r=Ud(e,t);!function ix(t,e,n){t.setValue(e,n)}(t[ce],r,n)}(r,un(),i),hr}const Vs=void 0;var _5=["en",[["a","p"],["AM","PM"],Vs],[["AM","PM"],Vs,Vs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Vs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Vs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Vs,"{1} 'at' {0}",Vs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function y5(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let pa={};function ln(t){const e=function v5(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=R1(e);if(n)return n;const r=e.split("-")[0];if(n=R1(r),n)return n;if("en"===r)return _5;throw new S(701,!1)}function R1(t){return t in pa||(pa[t]=Ne.ng&&Ne.ng.common&&Ne.ng.common.locales&&Ne.ng.common.locales[t]),pa[t]}var R=(()=>((R=R||{})[R.LocaleId=0]="LocaleId",R[R.DayPeriodsFormat=1]="DayPeriodsFormat",R[R.DayPeriodsStandalone=2]="DayPeriodsStandalone",R[R.DaysFormat=3]="DaysFormat",R[R.DaysStandalone=4]="DaysStandalone",R[R.MonthsFormat=5]="MonthsFormat",R[R.MonthsStandalone=6]="MonthsStandalone",R[R.Eras=7]="Eras",R[R.FirstDayOfWeek=8]="FirstDayOfWeek",R[R.WeekendRange=9]="WeekendRange",R[R.DateFormat=10]="DateFormat",R[R.TimeFormat=11]="TimeFormat",R[R.DateTimeFormat=12]="DateTimeFormat",R[R.NumberSymbols=13]="NumberSymbols",R[R.NumberFormats=14]="NumberFormats",R[R.CurrencyCode=15]="CurrencyCode",R[R.CurrencySymbol=16]="CurrencySymbol",R[R.CurrencyName=17]="CurrencyName",R[R.Currencies=18]="Currencies",R[R.Directionality=19]="Directionality",R[R.PluralCase=20]="PluralCase",R[R.ExtraData=21]="ExtraData",R))();const ga="en-US";let N1=ga;function t_(t,e,n,r,i){if(t=W(t),Array.isArray(t))for(let s=0;s<t.length;s++)t_(t[s],e,n,r,i);else{const s=ge(),o=C();let a=Rs(t)?t:W(t.provide),u=Bx(t);const c=Ot(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Rs(t)||!t.multi){const f=new ju(u,i,D),p=r_(a,e,i?l:l+h,d);-1===p?(Vm(Wd(c,o),s,a),n_(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=r_(a,e,l+h,d),p=r_(a,e,l,l+h),m=p>=0&&n[p];if(i&&!m||!i&&!(f>=0&&n[f])){Vm(Wd(c,o),s,a);const _=function m9(t,e,n,r,i){const s=new ju(t,n,D);return s.multi=[],s.index=e,s.componentProviders=0,sk(s,i,r&&!n),s}(i?g9:p9,n.length,i,r,u);!i&&m&&(n[p].providerFactory=_),n_(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(_),o.push(_)}else n_(s,t,f>-1?f:p,sk(n[i?p:f],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function n_(t,e,n,r){const i=Rs(e),s=function Sz(t){return!!t.useClass}(e);if(i||s){const u=(s?W(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function sk(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function r_(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function p9(t,e,n,r){return i_(this.multi,[])}function g9(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Ms(n,n[N],this.providerFactory.index,r);s=a.slice(0,o),i_(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],i_(i,s);return s}function i_(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function $e(t,e=[]){return n=>{n.providersResolver=(r,i)=>function f9(t,e,n){const r=ge();if(r.firstCreatePass){const i=ur(t);t_(n,r.data,r.blueprint,i,!0),t_(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class ma{}class ok{}class ak extends ma{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new CM(this);const r=Pn(e);this._bootstrapComponents=ui(r.bootstrap),this._r3Injector=nM(e,n,[{provide:ma,useValue:this},{provide:rc,useValue:this.componentFactoryResolver}],xe(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class s_ extends ok{constructor(e){super(),this.moduleType=e}create(e){return new ak(this.moduleType,e)}}class _9 extends ma{constructor(e,n,r){super(),this.componentFactoryResolver=new CM(this),this.instance=null;const i=new Ux([...e,{provide:ma,useValue:this},{provide:rc,useValue:this.componentFactoryResolver}],n||uh(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Sh(t,e,n=null){return new _9(t,e,n).injector}let v9=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=Ox(0,n.type),i=r.length>0?Sh([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=$({token:t,providedIn:"environment",factory:()=>new t(L(Ar))}),t})();function uk(t){t.getStandaloneInjector=e=>e.get(v9).getOrCreateStandaloneInjector(t)}function li(t,e,n,r){return function gk(t,e,n,r,i,s){const o=e+n;return Xt(t,o,i)?Mr(t,o+1,s?r.call(s,i):r(i)):mc(t,o+1)}(C(),an(),t,e,n,r)}function a_(t,e,n,r,i){return mk(C(),an(),t,e,n,r,i)}function mc(t,e){const n=t[e];return n===te?void 0:n}function mk(t,e,n,r,i,s,o){const a=e+n;return Ns(t,a,i,s)?Mr(t,a+2,o?r.call(o,i,s):r(i,s)):mc(t,a+2)}function yk(t,e,n,r,i,s,o,a){const u=e+n;return function _h(t,e,n,r,i){const s=Ns(t,e,n,r);return Xt(t,e+2,i)||s}(t,u,i,s,o)?Mr(t,u+3,a?r.call(a,i,s,o):r(i,s,o)):mc(t,u+3)}function ya(t,e){const n=ge();let r;const i=t+Oe;n.firstCreatePass?(r=function F9(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=As(r.type)),o=Wn(D);try{const a=qd(!1),u=s();return qd(a),function bq(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,C(),i,u),u}finally{Wn(o)}}function yc(t,e,n,r){const i=t+Oe,s=C(),o=Lo(s,i);return _c(s,i)?mk(s,an(),e,o.transform,n,r,o):o.transform(n,r)}function _c(t,e){return t[N].data[e].pure}function u_(t){return e=>{setTimeout(t,void 0,e)}}const ke=class B9 extends Jr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=u_(s),i&&(i=u_(i)),o&&(o=u_(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof xn&&e.add(a),a}};let di=(()=>{class t{}return t.__NG_ELEMENT_ID__=G9,t})();const j9=di,H9=class extends j9{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e,n){const r=this._declarationTContainer.tView,i=lh(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,n||null);i[Vu]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[Dr];return null!==o&&(i[Dr]=o.createEmbeddedView(r)),ky(r,i,e),new sc(i)}};function G9(){return Ah(Ot(),C())}function Ah(t,e){return 4&t.type?new H9(e,t,Jo(t,e)):null}let fr=(()=>{class t{}return t.__NG_ELEMENT_ID__=z9,t})();function z9(){return function Ck(t,e){let n;const r=e[t.index];if(ar(r))n=r;else{let i;if(8&t.type)i=Nt(r);else{const s=e[ce];i=s.createComment("");const o=On(t,e);Ps(s,eh(s,o),i,function W4(t,e){return t.nextSibling(e)}(s,o),!1)}e[t.index]=n=_M(r,e,i,t),hh(e,n)}return new Ik(n,t,e)}(Ot(),C())}const q9=fr,Ik=class extends q9{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Jo(this._hostTNode,this._hostLView)}get injector(){return new jo(this._hostTNode,this._hostLView)}get parentInjector(){const e=Lm(this._hostTNode,this._hostLView);if(bA(e)){const n=zd(e,this._hostLView),r=Gd(e);return new jo(n[N].data[r+8],n)}return new jo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=Ek(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-on}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(n||{},s);return this.insert(o,i),o}createComponent(e,n,r,i,s){const o=e&&!function zu(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const u=o?e:new oc(Ee(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?c:this.parentInjector).get(Ar,null);h&&(s=h)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,n){const r=e._lView,i=r[N];if(function EG(t){return ar(t[Ke])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[Ke],h=new Ik(d,d[Kt],d[Ke]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function j4(t,e,n,r){const i=on+r,s=n.length;r>0&&(n[i-1][or]=e),r<s-on?(e[or]=n[i],FA(n,on+r,e)):(n.push(e),e[or]=null),e[Ke]=n;const o=e[Vu];null!==o&&n!==o&&function H4(t,e){const n=t[Fo];e[Qt]!==e[Ke][Ke][Qt]&&(t[JS]=!0),null===n?t[Fo]=[e]:n.push(e)}(o,e);const a=e[Dr];null!==a&&a.insertView(t),e[oe]|=64}(i,r,o,s);const a=oy(s,o),u=r[ce],c=eh(u,o[Fd]);return null!==c&&function U4(t,e,n,r,i,s){r[ri]=i,r[Kt]=e,Ju(t,r,n,1,i,s)}(i,o[Kt],u,r,c,a),e.attachToViewContainerRef(),FA(l_(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=Ek(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=ry(this._lContainer,n);r&&(Yd(l_(this._lContainer),n),ox(r[N],r))}detach(e){const n=this._adjustIndex(e,-1),r=ry(this._lContainer,n);return r&&null!=Yd(l_(this._lContainer),n)?new sc(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Ek(t){return t[Ld]}function l_(t){return t[Ld]||(t[Ld]=[])}function m_(t,e){return Ah(t,e)}function Mh(...t){}const kh=new F("Application Initializer");let Ph=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Mh,this.reject=Mh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(uc(s))n.push(s);else if(Wy(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(L(kh,8))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const wc=new F("AppId",{providedIn:"root",factory:function Qk(){return`${E_()}${E_()}${E_()}`}});function E_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Yk=new F("Platform Initializer"),Ic=new F("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let v6=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const hi=new F("LocaleId",{providedIn:"root",factory:()=>ue(hi,K.Optional|K.SkipSelf)||function w6(){return typeof $localize<"u"&&$localize.locale||ga}()}),I6=new F("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class E6{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let Xk=(()=>{class t{compileModuleSync(n){return new s_(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=ui(Pn(n).declarations).reduce((o,a)=>{const u=Ee(a);return u&&o.push(new oc(u)),o},[]);return new E6(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const D6=(()=>Promise.resolve(0))();function C_(t){typeof Zone>"u"?D6.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class je{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ke(!1),this.onMicrotaskEmpty=new ke(!1),this.onStable=new ke(!1),this.onError=new ke(!1),typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function T6(){let t=Ne.requestAnimationFrame,e=Ne.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function x6(t){const e=()=>{!function A6(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ne,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,D_(t),t.isCheckStableRunning=!0,b_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),D_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return eP(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),tP(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return eP(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),tP(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,D_(t),b_(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!je.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(je.isInAngularZone())throw new S(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,S6,Mh,Mh);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const S6={};function b_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function D_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function eP(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function tP(t){t._nesting--,b_(t)}class M6{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ke,this.onMicrotaskEmpty=new ke,this.onStable=new ke,this.onError=new ke}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const nP=new F(""),Rh=new F("");let A_,T_=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,A_||(function k6(t){A_=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{je.assertNotInAngularZone(),C_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())C_(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(L(je),L(S_),L(Rh))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})(),S_=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return A_?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const fi=!1;let Hi=null;const rP=new F("AllowMultipleToken"),x_=new F("PlatformDestroyListeners"),iP=new F("appBootstrapListener");class sP{constructor(e,n){this.name=e,this.token=n}}function aP(t,e,n=[]){const r=`Platform: ${e}`,i=new F(r);return(s=[])=>{let o=M_();if(!o||o.injector.get(rP,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function N6(t){if(Hi&&!Hi.get(rP,!1))throw new S(400,!1);Hi=t;const e=t.get(cP);(function oP(t){const e=t.get(Yk,null);e&&e.forEach(n=>n())})(t)}(function uP(t=[],e){return Yn.create({name:e,providers:[{provide:vy,useValue:"platform"},{provide:x_,useValue:new Set([()=>Hi=null])},...t]})}(a,r))}return function F6(t){const e=M_();if(!e)throw new S(401,!1);return e}()}}function M_(){return Hi?.get(cP)??null}let cP=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function dP(t,e){let n;return n="noop"===t?new M6:("zone.js"===t?void 0:t)||new je(e),n}(r?.ngZone,function lP(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:je,useValue:i}];return i.run(()=>{const o=Yn.create({providers:s,parent:this.injector,name:n.moduleType.name}),a=n.create(o),u=a.injector.get(ea,null);if(!u)throw new S(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:l=>{u.handleError(l)}});a.onDestroy(()=>{Oh(this._modules,a),c.unsubscribe()})}),function hP(t,e,n){try{const r=n();return uc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(u,i,()=>{const c=a.injector.get(Ph);return c.runInitializers(),c.donePromise.then(()=>(function O1(t){qn(t,"Expected localeId to be defined"),"string"==typeof t&&(N1=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(hi,ga)||ga),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,r=[]){const i=fP({},r);return function P6(t,e,n){const r=new s_(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Nh);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new S(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new S(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(x_,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(L(Yn))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function fP(t,e){return Array.isArray(e)?e.reduce(fP,t):{...t,...e}}let Nh=(()=>{class t{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,r,i){this._zone=n,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Be(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new Be(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{je.assertNotInAngularZone(),C_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{je.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=function $H(...t){const e=Pu(t),n=function NH(t,e){return"number"==typeof um(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?zn(r[0]):Mo(n)(lt(r,e)):Er}(s,o.pipe(function jH(t={}){const{connector:e=(()=>new Jr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return bt((g,m)=>{c++,!d&&!l&&h();const _=u=u??e();m.add(()=>{c--,0===c&&!d&&!l&&(a=cm(p,i))}),_.subscribe(m),!o&&c>0&&(o=new ku({next:E=>_.next(E),error:E=>{d=!0,h(),a=cm(f,n,E),_.error(E)},complete:()=>{l=!0,h(),a=cm(f,r),_.complete()}}),zn(g).subscribe(o))})(s)}}()))}bootstrap(n,r){const i=n instanceof $x;if(!this._injector.get(Ph).done){!i&&function Po(t){const e=Ee(t)||Wt(t)||wn(t);return null!==e&&e.standalone}(n);throw new S(405,fi)}let o;o=i?n:this._injector.get(rc).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function R6(t){return t.isBoundToModule}(o)?void 0:this._injector.get(ma),c=o.create(Yn.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(nP,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),Oh(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new S(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Oh(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(iP,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Oh(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new S(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)(L(je),L(Ar),L(ea))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Oh(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let Fh=(()=>{class t{}return t.__NG_ELEMENT_ID__=V6,t})();function V6(t){return function U6(t,e,n){if(Bu(t)&&!n){const r=In(t.index,e);return new sc(r,r)}return 47&t.type?new sc(e[Qt],e):null}(Ot(),C(),16==(16&t))}class _P{constructor(){}supports(e){return yh(e)}create(e){return new z6(e)}}const G6=(t,e)=>e;class z6{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||G6}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<wP(r,i,s)?n:r,a=wP(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!yh(e))throw new S(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function wq(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new q6(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new vP),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new vP),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class q6{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class W6{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class vP{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new W6,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function wP(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class IP{constructor(){}supports(e){return e instanceof Map||Hy(e)}create(){return new K6}}class K6{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||Hy(e)))throw new S(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new Q6(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class Q6{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function EP(){return new Uh([new _P])}let Uh=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||EP()),deps:[[t,new Wu,new cn]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new S(901,!1)}}return t.\u0275prov=$({token:t,providedIn:"root",factory:EP}),t})();function CP(){return new Ec([new IP])}let Ec=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||CP()),deps:[[t,new Wu,new cn]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new S(901,!1)}}return t.\u0275prov=$({token:t,providedIn:"root",factory:CP}),t})();const J6=aP(null,"core",[]);let Z6=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(L(Nh))},t.\u0275mod=kn({type:t}),t.\u0275inj=_n({}),t})();function wa(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let O_=null;function pi(){return O_}class nW{}const hn=new F("DocumentToken");let F_=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:function(){return function rW(){return L(bP)}()},providedIn:"platform"}),t})();const iW=new F("Location Initialized");let bP=(()=>{class t extends F_{constructor(n){super(),this._doc=n,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return pi().getBaseHref(this._doc)}onPopState(n){const r=pi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=pi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){DP()?this._history.pushState(n,r,i):this._location.hash=i}replaceState(n,r,i){DP()?this._history.replaceState(n,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(L(hn))},t.\u0275prov=$({token:t,factory:function(){return function sW(){return new bP(L(hn))}()},providedIn:"platform"}),t})();function DP(){return!!window.history.pushState}function L_(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function TP(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function gi(t){return t&&"?"!==t[0]?"?"+t:t}let Bs=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:function(){return ue(AP)},providedIn:"root"}),t})();const SP=new F("appBaseHref");let AP=(()=>{class t extends Bs{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ue(hn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return L_(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+gi(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+gi(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+gi(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(L(F_),L(SP,8))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),oW=(()=>{class t extends Bs{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=L_(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+gi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+gi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(L(F_),L(SP,8))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})(),V_=(()=>{class t{constructor(n){this._subject=new ke,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function cW(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(TP(xP(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+gi(r))}normalize(n){return t.stripTrailingSlash(function uW(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,xP(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+gi(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+gi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=gi,t.joinWithSlash=L_,t.stripTrailingSlash=TP,t.\u0275fac=function(n){return new(n||t)(L(Bs))},t.\u0275prov=$({token:t,factory:function(){return function aW(){return new V_(L(Bs))}()},providedIn:"root"}),t})();function xP(t){return t.replace(/\/index.html$/,"")}const MP={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var bn=(()=>((bn=bn||{})[bn.Decimal=0]="Decimal",bn[bn.Percent=1]="Percent",bn[bn.Currency=2]="Currency",bn[bn.Scientific=3]="Scientific",bn))(),nt=(()=>((nt=nt||{})[nt.Format=0]="Format",nt[nt.Standalone=1]="Standalone",nt))(),de=(()=>((de=de||{})[de.Narrow=0]="Narrow",de[de.Abbreviated=1]="Abbreviated",de[de.Wide=2]="Wide",de[de.Short=3]="Short",de))(),ze=(()=>((ze=ze||{})[ze.Short=0]="Short",ze[ze.Medium=1]="Medium",ze[ze.Long=2]="Long",ze[ze.Full=3]="Full",ze))(),z=(()=>((z=z||{})[z.Decimal=0]="Decimal",z[z.Group=1]="Group",z[z.List=2]="List",z[z.PercentSign=3]="PercentSign",z[z.PlusSign=4]="PlusSign",z[z.MinusSign=5]="MinusSign",z[z.Exponential=6]="Exponential",z[z.SuperscriptingExponent=7]="SuperscriptingExponent",z[z.PerMille=8]="PerMille",z[z.Infinity=9]="Infinity",z[z.NaN=10]="NaN",z[z.TimeSeparator=11]="TimeSeparator",z[z.CurrencyDecimal=12]="CurrencyDecimal",z[z.CurrencyGroup=13]="CurrencyGroup",z))();function Bh(t,e){return er(ln(t)[R.DateFormat],e)}function $h(t,e){return er(ln(t)[R.TimeFormat],e)}function jh(t,e){return er(ln(t)[R.DateTimeFormat],e)}function Zn(t,e){const n=ln(t),r=n[R.NumberSymbols][e];if(typeof r>"u"){if(e===z.CurrencyDecimal)return n[R.NumberSymbols][z.Decimal];if(e===z.CurrencyGroup)return n[R.NumberSymbols][z.Group]}return r}function kP(t){if(!t[R.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[R.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function er(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function B_(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const wW=2,EW=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Cc={},CW=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var It=(()=>((It=It||{})[It.Short=0]="Short",It[It.ShortGMT=1]="ShortGMT",It[It.Long=2]="Long",It[It.Extended=3]="Extended",It))(),Q=(()=>((Q=Q||{})[Q.FullYear=0]="FullYear",Q[Q.Month=1]="Month",Q[Q.Date=2]="Date",Q[Q.Hours=3]="Hours",Q[Q.Minutes=4]="Minutes",Q[Q.Seconds=5]="Seconds",Q[Q.FractionalSeconds=6]="FractionalSeconds",Q[Q.Day=7]="Day",Q))(),ae=(()=>((ae=ae||{})[ae.DayPeriods=0]="DayPeriods",ae[ae.Days=1]="Days",ae[ae.Months=2]="Months",ae[ae.Eras=3]="Eras",ae))();function bW(t,e,n,r){let i=function RW(t){if(NP(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[i,s=1,o=1]=t.split("-").map(a=>+a);return Hh(i,s-1,o)}const n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(EW))return function NW(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),c=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return s.call(e,o,a,u,c),e}(r)}const e=new Date(t);if(!NP(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=mi(n,e)||e;let a,o=[];for(;e;){if(a=CW.exec(e),!a){o.push(e);break}{o=o.concat(a.slice(1));const l=o.pop();if(!l)break;e=l}}let u=i.getTimezoneOffset();r&&(u=RP(r,u),i=function PW(t,e,n){const r=n?-1:1,i=t.getTimezoneOffset();return function kW(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,r*(RP(e,i)-i))}(i,r,!0));let c="";return o.forEach(l=>{const d=function MW(t){if(j_[t])return j_[t];let e;switch(t){case"G":case"GG":case"GGG":e=Pe(ae.Eras,de.Abbreviated);break;case"GGGG":e=Pe(ae.Eras,de.Wide);break;case"GGGGG":e=Pe(ae.Eras,de.Narrow);break;case"y":e=ft(Q.FullYear,1,0,!1,!0);break;case"yy":e=ft(Q.FullYear,2,0,!0,!0);break;case"yyy":e=ft(Q.FullYear,3,0,!1,!0);break;case"yyyy":e=ft(Q.FullYear,4,0,!1,!0);break;case"Y":e=Wh(1);break;case"YY":e=Wh(2,!0);break;case"YYY":e=Wh(3);break;case"YYYY":e=Wh(4);break;case"M":case"L":e=ft(Q.Month,1,1);break;case"MM":case"LL":e=ft(Q.Month,2,1);break;case"MMM":e=Pe(ae.Months,de.Abbreviated);break;case"MMMM":e=Pe(ae.Months,de.Wide);break;case"MMMMM":e=Pe(ae.Months,de.Narrow);break;case"LLL":e=Pe(ae.Months,de.Abbreviated,nt.Standalone);break;case"LLLL":e=Pe(ae.Months,de.Wide,nt.Standalone);break;case"LLLLL":e=Pe(ae.Months,de.Narrow,nt.Standalone);break;case"w":e=$_(1);break;case"ww":e=$_(2);break;case"W":e=$_(1,!0);break;case"d":e=ft(Q.Date,1);break;case"dd":e=ft(Q.Date,2);break;case"c":case"cc":e=ft(Q.Day,1);break;case"ccc":e=Pe(ae.Days,de.Abbreviated,nt.Standalone);break;case"cccc":e=Pe(ae.Days,de.Wide,nt.Standalone);break;case"ccccc":e=Pe(ae.Days,de.Narrow,nt.Standalone);break;case"cccccc":e=Pe(ae.Days,de.Short,nt.Standalone);break;case"E":case"EE":case"EEE":e=Pe(ae.Days,de.Abbreviated);break;case"EEEE":e=Pe(ae.Days,de.Wide);break;case"EEEEE":e=Pe(ae.Days,de.Narrow);break;case"EEEEEE":e=Pe(ae.Days,de.Short);break;case"a":case"aa":case"aaa":e=Pe(ae.DayPeriods,de.Abbreviated);break;case"aaaa":e=Pe(ae.DayPeriods,de.Wide);break;case"aaaaa":e=Pe(ae.DayPeriods,de.Narrow);break;case"b":case"bb":case"bbb":e=Pe(ae.DayPeriods,de.Abbreviated,nt.Standalone,!0);break;case"bbbb":e=Pe(ae.DayPeriods,de.Wide,nt.Standalone,!0);break;case"bbbbb":e=Pe(ae.DayPeriods,de.Narrow,nt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Pe(ae.DayPeriods,de.Abbreviated,nt.Format,!0);break;case"BBBB":e=Pe(ae.DayPeriods,de.Wide,nt.Format,!0);break;case"BBBBB":e=Pe(ae.DayPeriods,de.Narrow,nt.Format,!0);break;case"h":e=ft(Q.Hours,1,-12);break;case"hh":e=ft(Q.Hours,2,-12);break;case"H":e=ft(Q.Hours,1);break;case"HH":e=ft(Q.Hours,2);break;case"m":e=ft(Q.Minutes,1);break;case"mm":e=ft(Q.Minutes,2);break;case"s":e=ft(Q.Seconds,1);break;case"ss":e=ft(Q.Seconds,2);break;case"S":e=ft(Q.FractionalSeconds,1);break;case"SS":e=ft(Q.FractionalSeconds,2);break;case"SSS":e=ft(Q.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=zh(It.Short);break;case"ZZZZZ":e=zh(It.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=zh(It.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=zh(It.Long);break;default:return null}return j_[t]=e,e}(l);c+=d?d(i,n,u):"''"===l?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Hh(t,e,n){const r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function mi(t,e){const n=function lW(t){return ln(t)[R.LocaleId]}(t);if(Cc[n]=Cc[n]||{},Cc[n][e])return Cc[n][e];let r="";switch(e){case"shortDate":r=Bh(t,ze.Short);break;case"mediumDate":r=Bh(t,ze.Medium);break;case"longDate":r=Bh(t,ze.Long);break;case"fullDate":r=Bh(t,ze.Full);break;case"shortTime":r=$h(t,ze.Short);break;case"mediumTime":r=$h(t,ze.Medium);break;case"longTime":r=$h(t,ze.Long);break;case"fullTime":r=$h(t,ze.Full);break;case"short":const i=mi(t,"shortTime"),s=mi(t,"shortDate");r=Gh(jh(t,ze.Short),[i,s]);break;case"medium":const o=mi(t,"mediumTime"),a=mi(t,"mediumDate");r=Gh(jh(t,ze.Medium),[o,a]);break;case"long":const u=mi(t,"longTime"),c=mi(t,"longDate");r=Gh(jh(t,ze.Long),[u,c]);break;case"full":const l=mi(t,"fullTime"),d=mi(t,"fullDate");r=Gh(jh(t,ze.Full),[l,d])}return r&&(Cc[n][e]=r),r}function Gh(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return null!=e&&r in e?e[r]:n})),t}function gr(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function ft(t,e,n=0,r=!1,i=!1){return function(s,o){let a=function TW(t,e){switch(t){case Q.FullYear:return e.getFullYear();case Q.Month:return e.getMonth();case Q.Date:return e.getDate();case Q.Hours:return e.getHours();case Q.Minutes:return e.getMinutes();case Q.Seconds:return e.getSeconds();case Q.FractionalSeconds:return e.getMilliseconds();case Q.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,s);if((n>0||a>-n)&&(a+=n),t===Q.Hours)0===a&&-12===n&&(a=12);else if(t===Q.FractionalSeconds)return function DW(t,e){return gr(t,3).substring(0,e)}(a,e);const u=Zn(o,z.MinusSign);return gr(a,e,u,r,i)}}function Pe(t,e,n=nt.Format,r=!1){return function(i,s){return function SW(t,e,n,r,i,s){switch(n){case ae.Months:return function fW(t,e,n){const r=ln(t),s=er([r[R.MonthsFormat],r[R.MonthsStandalone]],e);return er(s,n)}(e,i,r)[t.getMonth()];case ae.Days:return function hW(t,e,n){const r=ln(t),s=er([r[R.DaysFormat],r[R.DaysStandalone]],e);return er(s,n)}(e,i,r)[t.getDay()];case ae.DayPeriods:const o=t.getHours(),a=t.getMinutes();if(s){const c=function yW(t){const e=ln(t);return kP(e),(e[R.ExtraData][2]||[]).map(r=>"string"==typeof r?B_(r):[B_(r[0]),B_(r[1])])}(e),l=function _W(t,e,n){const r=ln(t);kP(r);const s=er([r[R.ExtraData][0],r[R.ExtraData][1]],e)||[];return er(s,n)||[]}(e,i,r),d=c.findIndex(h=>{if(Array.isArray(h)){const[f,p]=h,g=o>=f.hours&&a>=f.minutes,m=o<p.hours||o===p.hours&&a<p.minutes;if(f.hours<p.hours){if(g&&m)return!0}else if(g||m)return!0}else if(h.hours===o&&h.minutes===a)return!0;return!1});if(-1!==d)return l[d]}return function dW(t,e,n){const r=ln(t),s=er([r[R.DayPeriodsFormat],r[R.DayPeriodsStandalone]],e);return er(s,n)}(e,i,r)[o<12?0:1];case ae.Eras:return function pW(t,e){return er(ln(t)[R.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,s,t,e,n,r)}}function zh(t){return function(e,n,r){const i=-1*r,s=Zn(n,z.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case It.Short:return(i>=0?"+":"")+gr(o,2,s)+gr(Math.abs(i%60),2,s);case It.ShortGMT:return"GMT"+(i>=0?"+":"")+gr(o,1,s);case It.Long:return"GMT"+(i>=0?"+":"")+gr(o,2,s)+":"+gr(Math.abs(i%60),2,s);case It.Extended:return 0===r?"Z":(i>=0?"+":"")+gr(o,2,s)+":"+gr(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}const AW=0,qh=4;function PP(t){return Hh(t.getFullYear(),t.getMonth(),t.getDate()+(qh-t.getDay()))}function $_(t,e=!1){return function(n,r){let i;if(e){const s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();i=1+Math.floor((o+s)/7)}else{const s=PP(n),o=function xW(t){const e=Hh(t,AW,1).getDay();return Hh(t,0,1+(e<=qh?qh:qh+7)-e)}(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return gr(i,t,Zn(r,z.MinusSign))}}function Wh(t,e=!1){return function(n,r){return gr(PP(n).getFullYear(),t,Zn(r,z.MinusSign),e)}}const j_={};function RP(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function NP(t){return t instanceof Date&&!isNaN(t.valueOf())}const OW=/^(\d+)?\.((\d+)(-(\d+))?)?$/,OP=22,Kh=".",bc="0",FW=";",LW=",",H_="#",FP="\xa4";function UW(t,e,n,r,i){const o=function z_(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(FW),i=r[0],s=r[1],o=-1!==i.indexOf(Kh)?i.split(Kh):[i.substring(0,i.lastIndexOf(bc)+1),i.substring(i.lastIndexOf(bc)+1)],a=o[0],u=o[1]||"";n.posPre=a.substring(0,a.indexOf(H_));for(let l=0;l<u.length;l++){const d=u.charAt(l);d===bc?n.minFrac=n.maxFrac=l+1:d===H_?n.maxFrac=l+1:n.posSuf+=d}const c=a.split(LW);if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const l=i.length-n.posPre.length-n.posSuf.length,d=s.indexOf(H_);n.negPre=s.substring(0,d).replace(/'/g,""),n.negSuf=s.slice(d+l).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function U_(t,e){return ln(t)[R.NumberFormats][e]}(e,bn.Currency),Zn(e,z.MinusSign));return o.minFrac=function IW(t){let e;const n=MP[t];return n&&(e=n[2]),"number"==typeof e?e:wW}(r),o.maxFrac=o.minFrac,function G_(t,e,n,r,i,s,o=!1){let a="",u=!1;if(isFinite(t)){let c=function HW(t){let r,i,s,o,a,e=Math.abs(t)+"",n=0;for((i=e.indexOf(Kh))>-1&&(e=e.replace(Kh,"")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;e.charAt(s)===bc;s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===bc;)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>OP&&(r=r.splice(0,OP-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}(t);o&&(c=function jW(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(c));let l=e.minInt,d=e.minFrac,h=e.maxFrac;if(s){const E=s.match(OW);if(null===E)throw new Error(`${s} is not a valid digit info`);const v=E[1],M=E[3],H=E[5];null!=v&&(l=q_(v)),null!=M&&(d=q_(M)),null!=H?h=q_(H):null!=M&&d>h&&(h=d)}!function GW(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const s=Math.min(Math.max(e,i),n);let o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let d=o;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let d=1;d<o;d++)r[d]=0}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let u=0!==s;const c=e+t.integerLen,l=r.reduceRight(function(d,h,f,p){return p[f]=(h+=d)<10?h:h-10,u&&(0===p[f]&&f>=c?p.pop():u=!1),h>=10?1:0},0);l&&(r.unshift(l),t.integerLen++)}(c,d,h);let f=c.digits,p=c.integerLen;const g=c.exponent;let m=[];for(u=f.every(E=>!E);p<l;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?m=f.splice(p,f.length):(m=f,f=[0]);const _=[];for(f.length>=e.lgSize&&_.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)_.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&_.unshift(f.join("")),a=_.join(Zn(n,r)),m.length&&(a+=Zn(n,i)+m.join("")),g&&(a+=Zn(n,z.Exponential)+"+"+g)}else a=Zn(n,z.Infinity);return a=t<0&&!u?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,o,e,z.CurrencyGroup,z.CurrencyDecimal,i).replace(FP,n).replace(FP,"").trim()}function q_(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function VP(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}const K_=/\s+/,UP=[];let Qh=(()=>{class t{constructor(n,r,i,s){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=UP,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(K_):UP}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(K_):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,Boolean(n[r]));this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(K_).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return t.\u0275fac=function(n){return new(n||t)(D(Uh),D(Ec),D(Ln),D(ai))},t.\u0275dir=Y({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),t})();class WW{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Q_=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new WW(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),jP(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{jP(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(D(fr),D(di),D(Uh))},t.\u0275dir=Y({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function jP(t,e){t.context.$implicit=e.item}let Y_=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new QW,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){HP("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){HP("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(D(fr),D(di))},t.\u0275dir=Y({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class QW{constructor(){this.$implicit=null,this.ngIf=null}}function HP(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${xe(e)}'.`)}function mr(t,e){return new S(2100,!1)}const u7=new F("DATE_PIPE_DEFAULT_TIMEZONE"),c7=new F("DATE_PIPE_DEFAULT_OPTIONS");let zP=(()=>{class t{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,s){if(null==n||""===n||n!=n)return null;try{return bW(n,r??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(o){throw mr()}}}return t.\u0275fac=function(n){return new(n||t)(D(hi,16),D(u7,24),D(c7,24))},t.\u0275pipe=vn({name:"date",type:t,pure:!0,standalone:!0}),t})(),Yh=(()=>{class t{constructor(n,r="USD"){this._locale=n,this._defaultCurrencyCode=r}transform(n,r=this._defaultCurrencyCode,i="symbol",s,o){if(!function Z_(t){return!(null==t||""===t||t!=t)}(n))return null;o=o||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;"code"!==i&&(a="symbol"===i||"symbol-narrow"===i?function vW(t,e,n="en"){const r=function gW(t){return ln(t)[R.Currencies]}(n)[t]||MP[t]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||t}(a,"symbol"===i?"wide":"narrow",o):i);try{return UW(function ev(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(n),o,a,r,s)}catch(u){throw mr()}}}return t.\u0275fac=function(n){return new(n||t)(D(hi,16),D(I6,16))},t.\u0275pipe=vn({name:"currency",type:t,pure:!0,standalone:!0}),t})();let WP=(()=>{class t{transform(n,r,i){if(null==n)return null;if(!this.supports(n))throw mr();return n.slice(r,i)}supports(n){return"string"==typeof n||Array.isArray(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=vn({name:"slice",type:t,pure:!1,standalone:!0}),t})(),_7=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=kn({type:t}),t.\u0275inj=_n({}),t})();let E7=(()=>{class t{}return t.\u0275prov=$({token:t,providedIn:"root",factory:()=>new C7(L(hn),window)}),t})();class C7{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function b7(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=QP(this.window.history)||QP(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function QP(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class YP{}class X7 extends nW{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class rv extends X7{static makeCurrent(){!function tW(t){O_||(O_=t)}(new rv)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function J7(){return Tc=Tc||document.querySelector("base"),Tc?Tc.getAttribute("href"):null}();return null==n?null:function Z7(t){Zh=Zh||document.createElement("a"),Zh.setAttribute("href",t);const e=Zh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Tc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return VP(document.cookie,e)}}let Zh,Tc=null;const tR=new F("TRANSITION_ID"),t8=[{provide:kh,useFactory:function e8(t,e,n){return()=>{n.get(Ph).donePromise.then(()=>{const r=pi(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[tR,hn,Yn],multi:!0}];let r8=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();const ef=new F("EventManagerPlugins");let tf=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(L(ef),L(je))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();class nR{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=pi().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let rR=(()=>{class t{constructor(){this.usageCount=new Map}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(n){}onStyleAdded(n){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(n,r){const i=this.usageCount;let s=i.get(n)??0;return s+=r,s>0?i.set(n,s):i.delete(n),s}ngOnDestroy(){for(const n of this.getAllStyles())this.onStyleRemoved(n);this.usageCount.clear()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})(),Sc=(()=>{class t extends rR{constructor(n){super(),this.doc=n,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.forEach(s=>s.remove()),r.delete(n)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}addStyleToHost(n,r){const i=this.doc.createElement("style");i.textContent=r,n.appendChild(i);const s=this.styleRef.get(r);s?s.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return t.\u0275fac=function(n){return new(n||t)(L(hn))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();const iv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},sv=/%COMP%/g,oR=new F("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function aR(t,e){return e.flat(100).map(n=>n.replace(sv,t))}function uR(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let ov=(()=>{class t{constructor(n,r,i,s){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new av(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(n,r);return i instanceof dR?i.applyToHost(n):i instanceof uv&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.eventManager,a=this.sharedStylesHost,u=this.removeStylesOnCompDestory;switch(r.encapsulation){case br.Emulated:s=new dR(o,a,r,this.appId,u);break;case br.ShadowDom:return new l8(o,a,n,r);default:s=new uv(o,a,r,u)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(L(tf),L(Sc),L(wc),L(oR))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();class av{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(iv[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){(lR(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(lR(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=iv[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=iv[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(En.DashCase|En.Important)?e.style.setProperty(n,r,i&En.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&En.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,uR(r)):this.eventManager.addEventListener(e,n,uR(r))}}function lR(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class l8 extends av{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=aR(i.id,i.styles);for(const o of s){const a=document.createElement("style");a.textContent=o,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class uv extends av{constructor(e,n,r,i,s=r.id){super(e),this.sharedStylesHost=n,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=aR(s,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class dR extends uv{constructor(e,n,r,i,s){const o=i+"-"+r.id;super(e,n,r,s,o),this.contentAttr=function a8(t){return"_ngcontent-%COMP%".replace(sv,t)}(o),this.hostAttr=function u8(t){return"_nghost-%COMP%".replace(sv,t)}(o)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let d8=(()=>{class t extends nR{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(L(hn))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();const hR=["alt","control","meta","shift"],h8={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},f8={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let p8=(()=>{class t extends nR{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>pi().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),hR.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=h8[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),hR.forEach(o=>{o!==i&&(0,f8[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(L(hn))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();const pR=[{provide:Ic,useValue:"browser"},{provide:Yk,useValue:function g8(){rv.makeCurrent()},multi:!0},{provide:hn,useFactory:function y8(){return function tz(t){ly=t}(document),document},deps:[]}],_8=aP(J6,"browser",pR),gR=new F(""),mR=[{provide:Rh,useClass:class n8{addToWindow(e){Ne.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Ne.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ne.getAllAngularRootElements=()=>e.getAllRootElements(),Ne.frameworkStabilizers||(Ne.frameworkStabilizers=[]),Ne.frameworkStabilizers.push(r=>{const i=Ne.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?pi().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:nP,useClass:T_,deps:[je,S_,Rh]},{provide:T_,useClass:T_,deps:[je,S_,Rh]}],yR=[{provide:vy,useValue:"root"},{provide:ea,useFactory:function m8(){return new ea},deps:[]},{provide:ef,useClass:d8,multi:!0,deps:[hn,je,Ic]},{provide:ef,useClass:p8,multi:!0,deps:[hn]},{provide:ov,useClass:ov,deps:[tf,Sc,wc,oR]},{provide:Hx,useExisting:ov},{provide:rR,useExisting:Sc},{provide:Sc,useClass:Sc,deps:[hn]},{provide:tf,useClass:tf,deps:[ef,je]},{provide:YP,useClass:r8,deps:[]},[]];let v8=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:wc,useValue:n.appId},{provide:tR,useExisting:wc},t8]}}}return t.\u0275fac=function(n){return new(n||t)(L(gR,12))},t.\u0275mod=kn({type:t}),t.\u0275inj=_n({providers:[...yR,...mR],imports:[_7,Z6]}),t})(),_R=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)(L(hn))},t.\u0275prov=$({token:t,factory:function(n){let r=null;return r=n?new n:function I8(){return new _R(L(hn))}(),r},providedIn:"root"}),t})();function G(...t){return lt(t,Pu(t))}function zi(t,e){return Ae(e)?Rt(t,e,1):Rt(t,1)}function yi(t,e){return bt((n,r)=>{let i=0;n.subscribe(_t(r,s=>t.call(e,s,i++)&&r.next(s)))})}typeof window<"u"&&window;class nf{}class dv{}class _i{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{let i;if(i="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(s=>s.toString()),i.length>0){const s=n.toLowerCase();this.headers.set(s,i),this.maybeSetNormalizedName(n,s)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof _i?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new _i;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof _i?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class S8{encodeKey(e){return IR(e)}encodeValue(e){return IR(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const x8=/%(\d[a-f0-9])/gi,M8={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function IR(t){return encodeURIComponent(t).replace(x8,(e,n)=>M8[n]??e)}function rf(t){return`${t}`}class qi{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new S8,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function A8(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(rf):[rf(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new qi({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(rf(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(rf(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class k8{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function ER(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function CR(t){return typeof Blob<"u"&&t instanceof Blob}function bR(t){return typeof FormData<"u"&&t instanceof FormData}class Ac{constructor(e,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function P8(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new _i),this.context||(this.context=new k8),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new qi,this.urlWithParams=n}serializeBody(){return null===this.body?null:ER(this.body)||CR(this.body)||bR(this.body)||function R8(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof qi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||bR(this.body)?null:CR(this.body)?this.body.type||null:ER(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof qi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,c=e.params||this.params;const l=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new Ac(n,r,s,{params:c,headers:u,context:l,reportProgress:a,responseType:i,withCredentials:o})}}var pt=(()=>((pt=pt||{})[pt.Sent=0]="Sent",pt[pt.UploadProgress=1]="UploadProgress",pt[pt.ResponseHeader=2]="ResponseHeader",pt[pt.DownloadProgress=3]="DownloadProgress",pt[pt.Response=4]="Response",pt[pt.User=5]="User",pt))();class hv{constructor(e,n=200,r="OK"){this.headers=e.headers||new _i,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class fv extends hv{constructor(e={}){super(e),this.type=pt.ResponseHeader}clone(e={}){return new fv({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class sf extends hv{constructor(e={}){super(e),this.type=pt.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new sf({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class DR extends hv{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function pv(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let TR=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof Ac)s=n;else{let u,c;u=i.headers instanceof _i?i.headers:new _i(i.headers),i.params&&(c=i.params instanceof qi?i.params:new qi({fromObject:i.params})),s=new Ac(n,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=G(s).pipe(zi(u=>this.handler.handle(u)));if(n instanceof Ac||"events"===i.observe)return o;const a=o.pipe(yi(u=>u instanceof sf));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(ie(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(ie(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(ie(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(ie(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new qi).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,pv(i,r))}post(n,r,i={}){return this.request("POST",n,pv(i,r))}put(n,r,i={}){return this.request("PUT",n,pv(i,r))}}return t.\u0275fac=function(n){return new(n||t)(L(nf))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();function SR(t,e){return e(t)}function N8(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}const F8=new F("HTTP_INTERCEPTORS"),xc=new F("HTTP_INTERCEPTOR_FNS");function L8(){let t=null;return(e,n)=>(null===t&&(t=(ue(F8,{optional:!0})??[]).reduceRight(N8,SR)),t(e,n))}let AR=(()=>{class t extends nf{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null}handle(n){if(null===this.chain){const r=Array.from(new Set(this.injector.get(xc)));this.chain=r.reduceRight((i,s)=>function O8(t,e,n){return(r,i)=>n.runInContext(()=>e(r,s=>t(s,i)))}(i,s,this.injector),SR)}return this.chain(n,r=>this.backend.handle(r))}}return t.\u0275fac=function(n){return new(n||t)(L(dv),L(Ar))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();const $8=/^\)\]\}',?\n/;let MR=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Be(r=>{const i=this.xhrFactory.build();if(i.open(n.method,n.urlWithParams),n.withCredentials&&(i.withCredentials=!0),n.headers.forEach((f,p)=>i.setRequestHeader(f,p.join(","))),n.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const f=n.detectContentTypeHeader();null!==f&&i.setRequestHeader("Content-Type",f)}if(n.responseType){const f=n.responseType.toLowerCase();i.responseType="json"!==f?f:"text"}const s=n.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const f=i.statusText||"OK",p=new _i(i.getAllResponseHeaders()),g=function j8(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(i)||n.url;return o=new fv({headers:p,status:i.status,statusText:f,url:g}),o},u=()=>{let{headers:f,status:p,statusText:g,url:m}=a(),_=null;204!==p&&(_=typeof i.response>"u"?i.responseText:i.response),0===p&&(p=_?200:0);let E=p>=200&&p<300;if("json"===n.responseType&&"string"==typeof _){const v=_;_=_.replace($8,"");try{_=""!==_?JSON.parse(_):null}catch(M){_=v,E&&(E=!1,_={error:M,text:_})}}E?(r.next(new sf({body:_,headers:f,status:p,statusText:g,url:m||void 0})),r.complete()):r.error(new DR({error:_,headers:f,status:p,statusText:g,url:m||void 0}))},c=f=>{const{url:p}=a(),g=new DR({error:f,status:i.status||0,statusText:i.statusText||"Unknown Error",url:p||void 0});r.error(g)};let l=!1;const d=f=>{l||(r.next(a()),l=!0);let p={type:pt.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),"text"===n.responseType&&i.responseText&&(p.partialText=i.responseText),r.next(p)},h=f=>{let p={type:pt.UploadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),r.next(p)};return i.addEventListener("load",u),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),n.reportProgress&&(i.addEventListener("progress",d),null!==s&&i.upload&&i.upload.addEventListener("progress",h)),i.send(s),r.next({type:pt.Sent}),()=>{i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",u),i.removeEventListener("timeout",c),n.reportProgress&&(i.removeEventListener("progress",d),null!==s&&i.upload&&i.upload.removeEventListener("progress",h)),i.readyState!==i.DONE&&i.abort()}})}}return t.\u0275fac=function(n){return new(n||t)(L(YP))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();const gv=new F("XSRF_ENABLED"),kR=new F("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),PR=new F("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class RR{}let z8=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=VP(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return t.\u0275fac=function(n){return new(n||t)(L(hn),L(Ic),L(kR))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();function q8(t,e){const n=t.url.toLowerCase();if(!ue(gv)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=ue(RR).getToken(),i=ue(PR);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var it=(()=>((it=it||{})[it.Interceptors=0]="Interceptors",it[it.LegacyInterceptors=1]="LegacyInterceptors",it[it.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",it[it.NoXsrfProtection=3]="NoXsrfProtection",it[it.JsonpSupport=4]="JsonpSupport",it[it.RequestsMadeViaParent=5]="RequestsMadeViaParent",it))();function Ia(t,e){return{\u0275kind:t,\u0275providers:e}}function W8(...t){const e=[TR,MR,AR,{provide:nf,useExisting:AR},{provide:dv,useExisting:MR},{provide:xc,useValue:q8,multi:!0},{provide:gv,useValue:!0},{provide:RR,useClass:z8}];for(const n of t)e.push(...n.\u0275providers);return function bz(t){return{\u0275providers:t}}(e)}const NR=new F("LEGACY_INTERCEPTOR_FN");let Q8=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=kn({type:t}),t.\u0275inj=_n({providers:[W8(Ia(it.LegacyInterceptors,[{provide:NR,useFactory:L8},{provide:xc,useExisting:NR,multi:!0}]))]}),t})();const{isArray:Y8}=Array,{getPrototypeOf:X8,prototype:J8,keys:Z8}=Object;function OR(t){if(1===t.length){const e=t[0];if(Y8(e))return{args:e,keys:null};if(function eK(t){return t&&"object"==typeof t&&X8(t)===J8}(e)){const n=Z8(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:tK}=Array;function FR(t){return ie(e=>function nK(t,e){return tK(e)?t(...e):t(e)}(t,e))}function LR(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}let VR=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(D(ai),D(Ln))},t.\u0275dir=Y({type:t}),t})(),$s=(()=>{class t extends VR{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Ft(t)))(r||t)}}(),t.\u0275dir=Y({type:t,features:[Ce]}),t})();const Or=new F("NgValueAccessor"),sK={provide:Or,useExisting:Me(()=>af),multi:!0},aK=new F("CompositionEventMode");let af=(()=>{class t extends VR{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function oK(){const t=pi()?pi().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(D(ai),D(Ln),D(aK,8))},t.\u0275dir=Y({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&_e("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[$e([sK]),Ce]}),t})();const uK=!1;const Jt=new F("NgValidators"),Ki=new F("NgAsyncValidators");function HR(t){return function Wi(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}(t.value)?{required:!0}:null}function uf(t){return null}function QR(t){return null!=t}function YR(t){const e=uc(t)?lt(t):t;if(uK&&!Wy(e)){let n="Expected async validator to return Promise or Observable.";throw"object"==typeof t&&(n+=" Are you using a synchronous validator where an async validator is expected?"),new S(-1101,n)}return e}function XR(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function JR(t,e){return e.map(n=>n(t))}function ZR(t){return t.map(e=>function lK(t){return!t.validate}(e)?e:n=>e.validate(n))}function mv(t){return null!=t?function eN(t){if(!t)return null;const e=t.filter(QR);return 0==e.length?null:function(n){return XR(JR(n,e))}}(ZR(t)):null}function yv(t){return null!=t?function tN(t){if(!t)return null;const e=t.filter(QR);return 0==e.length?null:function(n){return function rK(...t){const e=LS(t),{args:n,keys:r}=OR(t),i=new Be(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;zn(n[l]).subscribe(_t(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?LR(r,a):a),s.complete())}))}});return e?i.pipe(FR(e)):i}(JR(n,e).map(YR)).pipe(ie(XR))}}(ZR(t)):null}function nN(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function _v(t){return t?Array.isArray(t)?t:[t]:[]}function cf(t,e){return Array.isArray(t)?t.includes(e):t===e}function sN(t,e){const n=_v(e);return _v(t).forEach(i=>{cf(n,i)||n.push(i)}),n}function oN(t,e){return _v(e).filter(n=>!cf(t,n))}class aN{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=mv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=yv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class fn extends aN{get formDirective(){return null}get path(){return null}}class Qi extends aN{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class uN{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let cN=(()=>{class t extends uN{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(D(Qi,2))},t.\u0275dir=Y({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&Ih("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ce]}),t})(),lN=(()=>{class t extends uN{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(D(fn,10))},t.\u0275dir=Y({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&Ih("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Ce]}),t})();function dN(t,e){return t?`with name: '${e}'`:`at index: ${e}`}const Iv=!1,Mc="VALID",df="INVALID",Ea="PENDING",kc="DISABLED";function Ev(t){return(hf(t)?t.validators:t)||null}function Cv(t,e){return(hf(e)?e.asyncValidators:t)||null}function hf(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class pN{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Mc}get invalid(){return this.status===df}get pending(){return this.status==Ea}get disabled(){return this.status===kc}get enabled(){return this.status!==kc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(sN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(sN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(oN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(oN(e,this._rawAsyncValidators))}hasValidator(e){return cf(this._rawValidators,e)}hasAsyncValidator(e){return cf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ea,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=kc,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Mc,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Mc||this.status===Ea)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?kc:Mc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ea,this._hasOwnPendingAsyncValidator=!0;const n=YR(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ke,this.statusChanges=new ke}_calculateStatus(){return this._allControlsDisabled()?kc:this.errors?df:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ea)?Ea:this._anyControlsHaveStatus(df)?df:Mc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){hf(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function yK(t){return Array.isArray(t)?mv(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function _K(t){return Array.isArray(t)?yv(t):t||null}(this._rawAsyncValidators)}}class bv extends pN{constructor(e,n,r){super(Ev(n),Cv(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function fN(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new S(1002,Iv?function mK(t,e){return`Must supply a value for form control ${dN(t,e)}`}(e,i):"")})})(this,!0,e),Object.keys(e).forEach(r=>{(function hN(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new S(1e3,Iv?function pK(t){return`\n    There are no form controls registered with this ${t?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[n])throw new S(1001,Iv?function gK(t,e){return`Cannot find form control ${dN(t,e)}`}(e,n):"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Ca=new F("CallSetDisabledState",{providedIn:"root",factory:()=>ff}),ff="always";function Pc(t,e,n=ff){Dv(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function IK(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&gN(t,e)})}(t,e),function CK(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function EK(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&gN(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function wK(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function mf(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Dv(t,e){const n=function rN(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(nN(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function iN(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(nN(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();mf(e._rawValidators,i),mf(e._rawAsyncValidators,i)}function gN(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const AK={provide:fn,useExisting:Me(()=>_f)},Rc=(()=>Promise.resolve())();let _f=(()=>{class t extends fn{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ke,this.form=new bv({},mv(n),yv(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Rc.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Pc(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Rc.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Rc.then(()=>{const r=this._findContainer(n.path),i=new bv({});(function mN(t,e){Dv(t,e)})(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Rc.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Rc.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,function yN(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return t.\u0275fac=function(n){return new(n||t)(D(Jt,10),D(Ki,10),D(Ca,8))},t.\u0275dir=Y({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&_e("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$e([AK]),Ce]}),t})();function _N(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function vN(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const wN=class extends pN{constructor(e=null,n,r){super(Ev(n),Cv(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),hf(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=vN(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){_N(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){_N(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){vN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},kK={provide:Qi,useExisting:Me(()=>xv)},CN=(()=>Promise.resolve())();let xv=(()=>{class t extends Qi{constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new wN,this._registered=!1,this.update=new ke,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Av(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===af?n=s:function TK(t){return Object.getPrototypeOf(t.constructor)===$s}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function Sv(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Pc(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){CN.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&wa(r);CN.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function pf(t,e){return[...e.path,t]}(n,this._parent):[n]}}return t.\u0275fac=function(n){return new(n||t)(D(fn,9),D(Jt,10),D(Ki,10),D(Or,10),D(Fh,8),D(Ca,8))},t.\u0275dir=Y({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[$e([kK]),Ce,Nn]}),t})(),bN=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Y({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),TN=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=kn({type:t}),t.\u0275inj=_n({}),t})(),js=(()=>{class t{constructor(){this._validator=uf}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):uf,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Y({type:t,features:[Nn]}),t})();const QK={provide:Jt,useExisting:Me(()=>vf),multi:!0};let vf=(()=>{class t extends js{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=wa,this.createValidator=n=>HR}enabled(n){return n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Ft(t)))(r||t)}}(),t.\u0275dir=Y({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,r){2&n&&kr("required",r._enabled?"":null)},inputs:{required:"required"},features:[$e([QK]),Ce]}),t})(),tQ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=kn({type:t}),t.\u0275inj=_n({imports:[TN]}),t})(),rQ=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Ca,useValue:n.callSetDisabledState??ff}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=kn({type:t}),t.\u0275inj=_n({imports:[tQ]}),t})();class tr extends Jr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const wf=Mu(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function GN(...t){const e=Pu(t),n=LS(t),{args:r,keys:i}=OR(t);if(0===r.length)return lt([],e);const s=new Be(function iQ(t,e,n=Ts){return r=>{zN(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)zN(e,()=>{const c=lt(t[u],e);let l=!1;c.subscribe(_t(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>LR(i,o):Ts));return n?s.pipe(FR(n)):s}function zN(t,e,n){t?Zr(n,t,e):e()}function Ov(...t){return function sQ(){return Mo(1)}()(lt(t,Pu(t)))}function qN(t){return new Be(e=>{zn(t()).subscribe(e)})}function Nc(t,e){const n=Ae(t)?t:()=>t,r=i=>i.error(n());return new Be(e?i=>e.schedule(r,0,i):r)}function Fv(){return bt((t,e)=>{let n=null;t._refCount++;const r=_t(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class WN extends Be{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,ES(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new xn;const n=this.getSubject();e.add(this.source.subscribe(_t(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=xn.EMPTY)}return e}refCount(){return Fv()(this)}}function Fr(t,e){return bt((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(_t(r,u=>{i?.unsubscribe();let c=0;const l=s++;zn(t(u,l)).subscribe(i=_t(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function ba(t){return t<=0?()=>Er:bt((e,n)=>{let r=0;e.subscribe(_t(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function If(t){return bt((e,n)=>{let r=!1;e.subscribe(_t(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function KN(t=aQ){return bt((e,n)=>{let r=!1;e.subscribe(_t(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function aQ(){return new wf}function Yi(t,e){const n=arguments.length>=2;return r=>r.pipe(t?yi((i,s)=>t(i,s,r)):Ts,ba(1),n?If(e):KN(()=>new wf))}function Lt(t,e,n){const r=Ae(t)||e||n?{next:t,error:e,complete:n}:t;return r?bt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(_t(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Ts}function Xi(t){return bt((e,n)=>{let s,r=null,i=!1;r=e.subscribe(_t(n,void 0,void 0,o=>{s=zn(t(o,Xi(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function QN(t,e){return bt(function uQ(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(_t(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}function Lv(t){return t<=0?()=>Er:bt((e,n)=>{let r=[];e.subscribe(_t(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function YN(t,e){const n=arguments.length>=2;return r=>r.pipe(t?yi((i,s)=>t(i,s,r)):Ts,Lv(1),n?If(e):KN(()=>new wf))}function Vv(t){return bt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const re="primary",Oc=Symbol("RouteTitle");class dQ{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Da(t){return new dQ(t)}function hQ(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Lr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!XN(t[i],e[i]))return!1;return!0}function XN(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function JN(t){return Array.prototype.concat.apply([],t)}function ZN(t){return t.length>0?t[t.length-1]:null}function Vt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Ji(t){return Wy(t)?t:uc(t)?lt(Promise.resolve(t)):G(t)}const Ef=!1,pQ={exact:function nO(t,e,n){if(!Hs(t.segments,e.segments)||!Cf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!nO(t.children[r],e.children[r],n))return!1;return!0},subset:rO},eO={exact:function gQ(t,e){return Lr(t,e)},subset:function mQ(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>XN(t[n],e[n]))},ignored:()=>!0};function tO(t,e,n){return pQ[n.paths](t.root,e.root,n.matrixParams)&&eO[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function rO(t,e,n){return iO(t,e,e.segments,n)}function iO(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Hs(i,n)||e.hasChildren()||!Cf(i,n,r))}if(t.segments.length===n.length){if(!Hs(t.segments,n)||!Cf(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!rO(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Hs(t.segments,i)&&Cf(t.segments,i,r)&&t.children[re])&&iO(t.children[re],e,s,r)}}function Cf(t,e,n){return e.every((r,i)=>eO[n](t[i].parameters,r.parameters))}class Zi{constructor(e=new le([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Da(this.queryParams)),this._queryParamMap}toString(){return vQ.serialize(this)}}class le{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Vt(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bf(this)}}class Fc{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Da(this.parameters)),this._parameterMap}toString(){return aO(this)}}function Hs(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Lc=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:function(){return new Uv},providedIn:"root"}),t})();class Uv{parse(e){const n=new AQ(e);return new Zi(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Vc(e.root,!0)}`,r=function EQ(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Df(n)}=${Df(i)}`).join("&"):`${Df(n)}=${Df(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function wQ(t){return encodeURI(t)}(e.fragment)}`:""}`}}const vQ=new Uv;function bf(t){return t.segments.map(e=>aO(e)).join("/")}function Vc(t,e){if(!t.hasChildren())return bf(t);if(e){const n=t.children[re]?Vc(t.children[re],!1):"",r=[];return Vt(t.children,(i,s)=>{s!==re&&r.push(`${s}:${Vc(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function _Q(t,e){let n=[];return Vt(t.children,(r,i)=>{i===re&&(n=n.concat(e(r,i)))}),Vt(t.children,(r,i)=>{i!==re&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===re?[Vc(t.children[re],!1)]:[`${i}:${Vc(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[re]?`${bf(t)}/${n[0]}`:`${bf(t)}/(${n.join("//")})`}}function sO(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Df(t){return sO(t).replace(/%3B/gi,";")}function Bv(t){return sO(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Tf(t){return decodeURIComponent(t)}function oO(t){return Tf(t.replace(/\+/g,"%20"))}function aO(t){return`${Bv(t.path)}${function IQ(t){return Object.keys(t).map(e=>`;${Bv(e)}=${Bv(t[e])}`).join("")}(t.parameters)}`}const CQ=/^[^\/()?;=#]+/;function Sf(t){const e=t.match(CQ);return e?e[0]:""}const bQ=/^[^=?&#]+/,TQ=/^[^&#]+/;class AQ{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new le([],{}):new le([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[re]=new le(e,n)),r}parseSegment(){const e=Sf(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new S(4009,Ef);return this.capture(e),new Fc(Tf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=Sf(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Sf(this.remaining);i&&(r=i,this.capture(r))}e[Tf(n)]=Tf(r)}parseQueryParam(e){const n=function DQ(t){const e=t.match(bQ);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function SQ(t){const e=t.match(TQ);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=oO(n),s=oO(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Sf(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new S(4010,Ef);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=re);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[re]:new le([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new S(4011,Ef)}}function $v(t){return t.segments.length>0?new le([],{[re]:t}):t}function Af(t){const e={};for(const r of Object.keys(t.children)){const s=Af(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function xQ(t){if(1===t.numberOfChildren&&t.children[re]){const e=t.children[re];return new le(t.segments.concat(e.segments),e.children)}return t}(new le(t.segments,e))}function Gs(t){return t instanceof Zi}const jv=!1;function MQ(t,e,n,r,i){if(0===n.length)return Ta(e.root,e.root,e.root,r,i);const s=function hO(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new dO(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Vt(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new dO(n,e,r)}(n);return s.toRoot()?Ta(e.root,e.root,new le([],{}),r,i):function o(u){const c=function PQ(t,e,n,r){if(t.isAbsolute)return new Sa(e.root,!0,0);if(-1===r)return new Sa(n,n===e.root,0);return function fO(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new S(4005,jv&&"Invalid number of '../'");i=r.segments.length}return new Sa(r,!1,i-s)}(n,r+(Uc(t.commands[0])?0:1),t.numberOfDoubleDots)}(s,e,t.snapshot?._urlSegment,u),l=c.processChildren?Aa(c.segmentGroup,c.index,s.commands):Hv(c.segmentGroup,c.index,s.commands);return Ta(e.root,c.segmentGroup,l,r,i)}(t.snapshot?._lastPathIndex)}function Uc(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Bc(t){return"object"==typeof t&&null!=t&&t.outlets}function Ta(t,e,n,r,i){let o,s={};r&&Vt(r,(u,c)=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),o=t===e?n:lO(t,e,n);const a=$v(Af(o));return new Zi(a,s,i)}function lO(t,e,n){const r={};return Vt(t.children,(i,s)=>{r[s]=i===e?n:lO(i,e,n)}),new le(t.segments,r)}class dO{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Uc(r[0]))throw new S(4003,jv&&"Root segment cannot have matrix parameters");const i=r.find(Bc);if(i&&i!==ZN(r))throw new S(4004,jv&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Sa{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function Hv(t,e,n){if(t||(t=new le([],{})),0===t.segments.length&&t.hasChildren())return Aa(t,e,n);const r=function NQ(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Bc(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!gO(u,c,o))return s;r+=2}else{if(!gO(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new le(t.segments.slice(0,r.pathIndex),{});return s.children[re]=new le(t.segments.slice(r.pathIndex),t.children),Aa(s,0,i)}return r.match&&0===i.length?new le(t.segments,{}):r.match&&!t.hasChildren()?Gv(t,e,n):r.match?Aa(t,0,i):Gv(t,e,n)}function Aa(t,e,n){if(0===n.length)return new le(t.segments,{});{const r=function RQ(t){return Bc(t[0])?t[0].outlets:{[re]:t}}(n),i={};if(!r[re]&&t.children[re]&&1===t.numberOfChildren&&0===t.children[re].segments.length){const s=Aa(t.children[re],e,n);return new le(t.segments,s.children)}return Vt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=Hv(t.children[o],e,s))}),Vt(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new le(t.segments,i)}}function Gv(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Bc(s)){const u=OQ(s.outlets);return new le(r,u)}if(0===i&&Uc(n[0])){r.push(new Fc(t.segments[e].path,pO(n[0]))),i++;continue}const o=Bc(s)?s.outlets[re]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Uc(a)?(r.push(new Fc(o,pO(a))),i+=2):(r.push(new Fc(o,{})),i++)}return new le(r,{})}function OQ(t){const e={};return Vt(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=Gv(new le([],{}),0,n))}),e}function pO(t){const e={};return Vt(t,(n,r)=>e[r]=`${n}`),e}function gO(t,e,n){return t==n.path&&Lr(e,n.parameters)}const $c="imperative";class Vr{constructor(e,n){this.id=e,this.url=n}}class zv extends Vr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class zs extends Vr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class xf extends Vr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Mf extends Vr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class qv extends Vr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class FQ extends Vr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class LQ extends Vr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class VQ extends Vr{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class UQ extends Vr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class BQ extends Vr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $Q{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class jQ{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class HQ{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class GQ{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zQ{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qQ{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mO{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let QQ=(()=>{class t{createUrlTree(n,r,i,s,o,a){return MQ(n||r.root,i,s,o,a)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})(),XQ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:function(e){return QQ.\u0275fac(e)},providedIn:"root"}),t})();class yO{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Wv(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Wv(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Kv(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Kv(e,this._root).map(n=>n.value)}}function Wv(t,e){if(t===e.value)return e;for(const n of e.children){const r=Wv(t,n);if(r)return r}return null}function Kv(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Kv(t,n);if(r.length)return r.unshift(e),r}return[]}class vi{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function xa(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class _O extends yO{constructor(e,n){super(e),this.snapshot=n,Qv(this,e)}toString(){return this.snapshot.toString()}}function vO(t,e){const n=function JQ(t,e){const o=new kf([],{},{},"",{},re,e,null,t.root,-1,{});return new IO("",new vi(o,[]))}(t,e),r=new tr([new Fc("",{})]),i=new tr({}),s=new tr({}),o=new tr({}),a=new tr(""),u=new Ma(r,i,o,a,s,re,e,n.root);return u.snapshot=n.root,new _O(new vi(u,[]),n)}class Ma{constructor(e,n,r,i,s,o,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(ie(c=>c[Oc]))??G(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ie(e=>Da(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ie(e=>Da(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function wO(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function ZQ(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class kf{get title(){return this.data?.[Oc]}constructor(e,n,r,i,s,o,a,u,c,l,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Da(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Da(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class IO extends yO{constructor(e,n){super(n),this.url=e,Qv(this,n)}toString(){return EO(this._root)}}function Qv(t,e){e.value._routerState=t,e.children.forEach(n=>Qv(t,n))}function EO(t){const e=t.children.length>0?` { ${t.children.map(EO).join(", ")} } `:"";return`${t.value}${e}`}function Yv(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Lr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Lr(e.params,n.params)||t.params.next(n.params),function fQ(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Lr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Lr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Xv(t,e){const n=Lr(t.params,e.params)&&function yQ(t,e){return Hs(t,e)&&t.every((n,r)=>Lr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Xv(t.parent,e.parent))}function jc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function tY(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return jc(t,r,i);return jc(t,r)})}(t,e,n);return new vi(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>jc(t,a)),o}}const r=function nY(t){return new Ma(new tr(t.url),new tr(t.params),new tr(t.queryParams),new tr(t.fragment),new tr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>jc(t,s));return new vi(r,i)}}const Jv="ngNavigationCancelingError";function CO(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Gs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=bO(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function bO(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[Jv]=!0,r.cancellationCode=e,n&&(r.url=n),r}function DO(t){return TO(t)&&Gs(t.url)}function TO(t){return t&&t[Jv]}class rY{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Hc,this.attachRef=null}}let Hc=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new rY,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Pf=!1;let SO=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=re,this.activateEvents=new ke,this.deactivateEvents=new ke,this.attachEvents=new ke,this.detachEvents=new ke,this.parentContexts=ue(Hc),this.location=ue(fr),this.changeDetector=ue(Fh),this.environmentInjector=ue(Ar)}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S(4012,Pf);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S(4012,Pf);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S(4012,Pf);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new S(4013,Pf);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new iY(n,a,i.injector);if(r&&function sY(t){return!!t.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,u)}else this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Y({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Nn]}),t})();class iY{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ma?this.route:e===Hc?this.childContexts:this.parent.get(e,n)}}let Zv=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Ui({type:t,selectors:[["ng-component"]],standalone:!0,features:[uk],decls:1,vars:0,template:function(n,r){1&n&&Jn(0,"router-outlet")},dependencies:[SO],encapsulation:2}),t})();function AO(t,e){return t.providers&&!t._injector&&(t._injector=Sh(t.providers,e,`Route: ${t.path}`)),t._injector??e}function tw(t){const e=t.children&&t.children.map(tw),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==re&&(n.component=Zv),n}function nr(t){return t.outlet||re}function xO(t,e){const n=t.filter(r=>nr(r)===e);return n.push(...t.filter(r=>nr(r)!==e)),n}function Gc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class lY{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Yv(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=xa(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Vt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=xa(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=xa(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=xa(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new qQ(s.value.snapshot))}),e.children.length&&this.forwardEvent(new GQ(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(Yv(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Yv(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Gc(i.snapshot),u=a?.get(rc)??null;o.attachRef=null,o.route=i,o.resolver=u,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class MO{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Rf{constructor(e,n){this.component=e,this.route=n}}function dY(t,e,n){const r=t._root;return zc(r,e?e._root:null,n,[r.value])}function ka(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function QH(t){return null!==Ad(t)}(t)?e.get(t):t:r}function zc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=xa(e);return t.children.forEach(o=>{(function fY(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function pY(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Hs(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Hs(t.url,e.url)||!Lr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Xv(t,e)||!Lr(t.queryParams,e.queryParams);default:return!Xv(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new MO(r)):(s.data=o.data,s._resolvedData=o._resolvedData),zc(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Rf(a.outlet.component,o))}else o&&qc(e,a,i),i.canActivateChecks.push(new MO(r)),zc(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Vt(s,(o,a)=>qc(o,n.getContext(a),i)),i}function qc(t,e,n){const r=xa(t),i=t.value;Vt(r,(s,o)=>{qc(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Rf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Wc(t){return"function"==typeof t}function nw(t){return t instanceof wf||"EmptyError"===t?.name}const Nf=Symbol("INITIAL_VALUE");function Pa(){return Fr(t=>GN(t.map(e=>e.pipe(ba(1),function oQ(...t){const e=Pu(t);return bt((n,r)=>{(e?Ov(t,n,e):Ov(t,n)).subscribe(r)})}(Nf)))).pipe(ie(e=>{for(const n of e)if(!0!==n){if(n===Nf)return Nf;if(!1===n||n instanceof Zi)return n}return!0}),yi(e=>e!==Nf),ba(1)))}function kO(t){return function nH(...t){return vS(t)}(Lt(e=>{if(Gs(e))throw CO(0,e)}),ie(e=>!0===e))}const rw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function PO(t,e,n,r,i){const s=iw(t,e,n);return s.matched?function kY(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?G(i.map(o=>{const a=ka(o,t);return Ji(function wY(t){return t&&Wc(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Pa(),kO()):G(!0)}(r=AO(e,r),e,n).pipe(ie(o=>!0===o?s:{...rw})):G(s)}function iw(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...rw}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||hQ)(n,t,e);if(!i)return{...rw};const s={};Vt(i.posParams,(a,u)=>{s[u]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Of(t,e,n,r){if(n.length>0&&function NY(t,e,n){return n.some(r=>Ff(t,e,r)&&nr(r)!==re)}(t,n,r)){const s=new le(e,function RY(t,e,n,r){const i={};i[re]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&nr(s)!==re){const o=new le([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[nr(s)]=o}return i}(t,e,r,new le(n,t.children)));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function OY(t,e,n){return n.some(r=>Ff(t,e,r))}(t,n,r)){const s=new le(t.segments,function PY(t,e,n,r,i){const s={};for(const o of r)if(Ff(t,n,o)&&!i[nr(o)]){const a=new le([],{});a._sourceSegment=t,a._segmentIndexShift=e.length,s[nr(o)]=a}return{...i,...s}}(t,e,n,r,t.children));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const i=new le(t.segments,t.children);return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:n}}function Ff(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function RO(t,e,n,r){return!!(nr(t)===r||r!==re&&Ff(e,n,t))&&("**"===t.path||iw(e,t,n).matched)}function NO(t,e,n){return 0===e.length&&!t.children[n]}const Lf=!1;class Vf{constructor(e){this.segmentGroup=e||null}}class OO{constructor(e){this.urlTree=e}}function Kc(t){return Nc(new Vf(t))}function FO(t){return Nc(new OO(t))}class UY{constructor(e,n,r,i,s){this.injector=e,this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=Of(this.urlTree.root,[],[],this.config).segmentGroup,n=new le(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,n,re).pipe(ie(s=>this.createUrlTree(Af(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Xi(s=>{if(s instanceof OO)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Vf?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,re).pipe(ie(i=>this.createUrlTree(Af(i),e.queryParams,e.fragment))).pipe(Xi(i=>{throw i instanceof Vf?this.noMatchError(i):i}))}noMatchError(e){return new S(4002,Lf)}createUrlTree(e,n,r){const i=$v(e);return new Zi(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(ie(s=>new le([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return lt(i).pipe(zi(s=>{const o=r.children[s],a=xO(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(ie(u=>({segment:u,outlet:s})))}),QN((s,o)=>(s[o.outlet]=o.segment,s),{}),YN())}expandSegment(e,n,r,i,s,o){return lt(r).pipe(zi(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(Xi(c=>{if(c instanceof Vf)return G(null);throw c}))),Yi(a=>!!a),Xi((a,u)=>{if(nw(a))return NO(n,i,s)?G(new le([],{})):Kc(n);throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return RO(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):Kc(n):Kc(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?FO(s):this.lineralizeSegments(r,s).pipe(Rt(o=>{const a=new le(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=iw(n,i,s);if(!a)return Kc(n);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?FO(d):this.lineralizeSegments(i,d).pipe(Rt(h=>this.expandSegment(e,n,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){return"**"===r.path?(e=AO(r,e),r.loadChildren?(r._loadedRoutes?G({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(ie(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new le(i,{})))):G(new le(i,{}))):PO(n,r,i,e).pipe(Fr(({matched:o,consumedSegments:a,remainingSegments:u})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(Rt(l=>{const d=l.injector??e,h=l.routes,{segmentGroup:f,slicedSegments:p}=Of(n,a,u,h),g=new le(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(ie(v=>new le(a,v)));if(0===h.length&&0===p.length)return G(new le(a,{}));const m=nr(r)===s;return this.expandSegment(d,g,h,p,m?re:s,!0).pipe(ie(E=>new le(a.concat(E.segments),E.children)))})):Kc(n)))}getChildConfig(e,n,r){return n.children?G({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?G({routes:n._loadedRoutes,injector:n._loadedInjector}):function MY(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?G(!0):G(i.map(o=>{const a=ka(o,t);return Ji(function mY(t){return t&&Wc(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Pa(),kO())}(e,n,r).pipe(Rt(i=>i?this.configLoader.loadChildren(e,n).pipe(Lt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function LY(t){return Nc(bO(Lf,3))}())):G({routes:[],injector:e})}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return G(r);if(i.numberOfChildren>1||!i.children[re])return e.redirectTo,Nc(new S(4e3,Lf));i=i.children[re]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Zi(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Vt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Vt(n.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new le(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new S(4001,Lf);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}class $Y{}class GY{constructor(e,n,r,i,s,o,a){this.injector=e,this.rootComponentType=n,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=Of(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,re).pipe(ie(n=>{if(null===n)return null;const r=new kf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},re,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new vi(r,n),s=new IO(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const n=e.value,r=wO(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i)}processChildren(e,n,r){return lt(Object.keys(r.children)).pipe(zi(i=>{const s=r.children[i],o=xO(n,i);return this.processSegmentGroup(e,o,s,i)}),QN((i,s)=>i&&s?(i.push(...s),i):null),function cQ(t,e=!1){return bt((n,r)=>{let i=0;n.subscribe(_t(r,s=>{const o=t(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),If(null),YN(),ie(i=>{if(null===i)return null;const s=VO(i);return function zY(t){t.sort((e,n)=>e.value.outlet===re?-1:n.value.outlet===re?1:e.value.outlet.localeCompare(n.value.outlet))}(s),s}))}processSegment(e,n,r,i,s){return lt(n).pipe(zi(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),Yi(o=>!!o),Xi(o=>{if(nw(o))return NO(r,i,s)?G([]):G(null);throw o}))}processSegmentAgainstRoute(e,n,r,i,s){if(n.redirectTo||!RO(n,r,i,s))return G(null);let o;if("**"===n.path){const a=i.length>0?ZN(i).parameters:{},u=BO(r)+i.length;o=G({snapshot:new kf(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$O(n),nr(n),n.component??n._loadedComponent??null,n,UO(r),u,jO(n)),consumedSegments:[],remainingSegments:[]})}else o=PO(r,n,i,e).pipe(ie(({matched:a,consumedSegments:u,remainingSegments:c,parameters:l})=>{if(!a)return null;const d=BO(r)+u.length;return{snapshot:new kf(u,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$O(n),nr(n),n.component??n._loadedComponent??null,n,UO(r),d,jO(n)),consumedSegments:u,remainingSegments:c}}));return o.pipe(Fr(a=>{if(null===a)return G(null);const{snapshot:u,consumedSegments:c,remainingSegments:l}=a;e=n._injector??e;const d=n._loadedInjector??e,h=function qY(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(n),{segmentGroup:f,slicedSegments:p}=Of(r,c,l,h.filter(m=>void 0===m.redirectTo));if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(ie(m=>null===m?null:[new vi(u,m)]));if(0===h.length&&0===p.length)return G([new vi(u,[])]);const g=nr(n)===s;return this.processSegment(d,h,f,p,g?re:s).pipe(ie(m=>null===m?null:[new vi(u,m)]))}))}}function WY(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function VO(t){const e=[],n=new Set;for(const r of t){if(!WY(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=VO(r.children);e.push(new vi(r.value,i))}return e.filter(r=>!n.has(r))}function UO(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function BO(t){let e=t,n=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift??0;return n-1}function $O(t){return t.data||{}}function jO(t){return t.resolve||{}}function HO(t){return"string"==typeof t.title||null===t.title}function sw(t){return Fr(e=>{const n=t(e);return n?lt(n).pipe(ie(()=>e)):G(e)})}const Ra=new F("ROUTES");let ow=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ue(Xk)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return G(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Ji(n.loadComponent()).pipe(ie(zO),Lt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Vv(()=>{this.componentLoaders.delete(n)})),i=new WN(r,()=>new Jr).pipe(Fv());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return G({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(ie(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c,l=!1;Array.isArray(a)?c=a:(u=a.create(n).injector,c=JN(u.get(Ra,[],K.Self|K.Optional)));return{routes:c.map(tw),injector:u}}),Vv(()=>{this.childrenLoaders.delete(r)})),o=new WN(s,()=>new Jr).pipe(Fv());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return Ji(n()).pipe(ie(zO),Rt(r=>r instanceof ok||Array.isArray(r)?G(r):lt(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function zO(t){return function tX(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Bf=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Jr,this.configLoader=ue(ow),this.environmentInjector=ue(Ar),this.urlSerializer=ue(Lc),this.rootContexts=ue(Hc),this.navigationId=0,this.afterPreactivation=()=>G(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new jQ(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new $Q(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new tr({id:0,targetPageId:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:$c,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(yi(r=>0!==r.id),ie(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),Fr(r=>{let i=!1,s=!1;return G(r).pipe(Lt(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Fr(o=>{const a=n.browserUrlTree.toString(),u=!n.navigated||o.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!u&&"reload"!==(o.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const l="";return this.events.next(new Mf(o.id,n.serializeUrl(r.rawUrl),l,0)),n.rawUrlTree=o.rawUrl,o.resolve(null),Er}if(n.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return qO(o.source)&&(n.browserUrlTree=o.extractedUrl),G(o).pipe(Fr(l=>{const d=this.transitions?.getValue();return this.events.next(new zv(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),d!==this.transitions?.getValue()?Er:Promise.resolve(l)}),function BY(t,e,n,r){return Fr(i=>function VY(t,e,n,r,i){return new UY(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(ie(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,n.config),Lt(l=>{this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},r.urlAfterRedirects=l.urlAfterRedirects}),function QY(t,e,n,r,i){return Rt(s=>function HY(t,e,n,r,i,s,o="emptyOnly"){return new GY(t,e,n,r,i,o,s).recognize().pipe(Fr(a=>null===a?function jY(t){return new Be(e=>e.error(t))}(new $Y):G(a)))}(t,e,n,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(ie(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Lt(l=>{if(r.targetSnapshot=l.targetSnapshot,"eager"===n.urlUpdateStrategy){if(!l.extras.skipLocationChange){const h=n.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);n.setBrowserUrl(h,l)}n.browserUrlTree=l.urlAfterRedirects}const d=new FQ(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(u&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:l,extractedUrl:d,source:h,restoredState:f,extras:p}=o,g=new zv(l,this.urlSerializer.serialize(d),h,f);this.events.next(g);const m=vO(d,this.rootComponentType).snapshot;return G(r={...o,targetSnapshot:m,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const l="";return this.events.next(new Mf(o.id,n.serializeUrl(r.extractedUrl),l,1)),n.rawUrlTree=o.rawUrl,o.resolve(null),Er}}),Lt(o=>{const a=new LQ(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),ie(o=>r={...o,guards:dY(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function EY(t,e){return Rt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?G({...n,guardsResult:!0}):function CY(t,e,n,r){return lt(t).pipe(Rt(i=>function xY(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?G(s.map(a=>{const u=Gc(e)??i,c=ka(a,u);return Ji(function vY(t){return t&&Wc(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(Yi())})).pipe(Pa()):G(!0)}(i.component,i.route,n,e,r)),Yi(i=>!0!==i,!0))}(o,r,i,t).pipe(Rt(a=>a&&function gY(t){return"boolean"==typeof t}(a)?function bY(t,e,n,r){return lt(e).pipe(zi(i=>Ov(function TY(t,e){return null!==t&&e&&e(new HQ(t)),G(!0)}(i.route.parent,r),function DY(t,e){return null!==t&&e&&e(new zQ(t)),G(!0)}(i.route,r),function AY(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function hY(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>qN(()=>G(o.guards.map(u=>{const c=Gc(o.node)??n,l=ka(u,c);return Ji(function _Y(t){return t&&Wc(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(Yi())})).pipe(Pa())));return G(s).pipe(Pa())}(t,i.path,n),function SY(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return G(!0);const i=r.map(s=>qN(()=>{const o=Gc(e)??n,a=ka(s,o);return Ji(function yY(t){return t&&Wc(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(Yi())}));return G(i).pipe(Pa())}(t,i.route,n))),Yi(i=>!0!==i,!0))}(r,s,t,e):G(a)),ie(a=>({...n,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),Lt(o=>{if(r.guardsResult=o.guardsResult,Gs(o.guardsResult))throw CO(0,o.guardsResult);const a=new VQ(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),yi(o=>!!o.guardsResult||(n.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),sw(o=>{if(o.guards.canActivateChecks.length)return G(o).pipe(Lt(a=>{const u=new UQ(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),Fr(a=>{let u=!1;return G(a).pipe(function YY(t,e){return Rt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return G(n);let s=0;return lt(i).pipe(zi(o=>function XY(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!HO(i)&&(s[Oc]=i.title),function JY(t,e,n,r){const i=function ZY(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return G({});const s={};return lt(i).pipe(Rt(o=>function eX(t,e,n,r){const i=Gc(e)??r,s=ka(t,i);return Ji(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(Yi(),Lt(a=>{s[o]=a}))),Lv(1),function lQ(t){return ie(()=>t)}(s),Xi(o=>nw(o)?Er:Nc(o)))}(s,t,e,r).pipe(ie(o=>(t._resolvedData=o,t.data=wO(t,n).resolve,i&&HO(i)&&(t.data[Oc]=i.title),null)))}(o.route,r,t,e)),Lt(()=>s++),Lv(1),Rt(o=>s===i.length?G(n):Er))})}(n.paramsInheritanceStrategy,this.environmentInjector),Lt({next:()=>u=!0,complete:()=>{u||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Lt(a=>{const u=new BQ(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),sw(o=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(Lt(l=>{u.component=l}),ie(()=>{})));for(const l of u.children)c.push(...a(l));return c};return GN(a(o.targetSnapshot.root)).pipe(If(),ba(1))}),sw(()=>this.afterPreactivation()),ie(o=>{const a=function eY(t,e,n){const r=jc(t,e._root,n?n._root:void 0);return new _O(r,e)}(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),Lt(o=>{n.currentUrlTree=o.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),n.routerState=o.targetRouterState,"deferred"===n.urlUpdateStrategy&&(o.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,o),n.browserUrlTree=o.urlAfterRedirects)}),((t,e,n)=>ie(r=>(new lY(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o)),ba(1),Lt({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new zs(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Vv(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Xi(o=>{if(s=!0,TO(o)){DO(o)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new xf(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),DO(o)){const u=n.urlHandlingStrategy.merge(o.url,n.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||qO(r.source)};n.scheduleNavigation(u,$c,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new qv(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(o))}catch(u){r.reject(u)}}return Er}))}))}cancelNavigationTransition(n,r,i){const s=new xf(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function qO(t){return t!==$c}let WO=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===re);return r}getResolvedTitleForRoute(n){return n.data[Oc]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:function(){return ue(nX)},providedIn:"root"}),t})(),nX=(()=>{class t extends WO{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)(L(_R))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),rX=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:function(){return ue(sX)},providedIn:"root"}),t})();class iX{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let sX=(()=>{class t extends iX{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Ft(t)))(r||t)}}(),t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const $f=new F("",{providedIn:"root",factory:()=>({})});let aX=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:function(){return ue(uX)},providedIn:"root"}),t})(),uX=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function cX(t){throw t}function lX(t,e,n){return e.parse("/")}const dX={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hX={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Un=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ue(v6),this.isNgZoneEnabled=!1,this.options=ue($f,{optional:!0})||{},this.errorHandler=this.options.errorHandler||cX,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||lX,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ue(aX),this.routeReuseStrategy=ue(rX),this.urlCreationStrategy=ue(XQ),this.titleStrategy=ue(WO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=JN(ue(Ra,{optional:!0})??[]),this.navigationTransitions=ue(Bf),this.urlSerializer=ue(Lc),this.location=ue(V_),this.isNgZoneEnabled=ue(je)instanceof je&&je.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Zi,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=vO(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId??0},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),$c,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(n){this.config=n.map(tw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}return null!==l&&(l=this.removeEmptyProps(l)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Gs(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,$c,null,r)}navigate(n,r={skipLocationChange:!1}){return function fX(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new S(4008,false)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...dX}:!1===r?{...hX}:r,Gs(n))return tO(this.currentUrlTree,n,i);const s=this.parseUrl(n);return tO(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c,l;return o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h}),l="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:l,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class KO{}let mX=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(yi(n=>n instanceof zs),zi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Sh(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return lt(i).pipe(Mo())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):G(null);const s=i.pipe(Rt(o=>null===o?G(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?lt([s,this.loader.loadComponent(r)]).pipe(Mo()):s})}}return t.\u0275fac=function(n){return new(n||t)(L(Un),L(Xk),L(Ar),L(KO),L(ow))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const cw=new F("");let QO=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof zv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof zs&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof mO&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new mO(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(n){!function cM(){throw new Error("invalid")}()},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();var Bn=(()=>((Bn=Bn||{})[Bn.COMPLETE=0]="COMPLETE",Bn[Bn.FAILED=1]="FAILED",Bn[Bn.REDIRECTING=2]="REDIRECTING",Bn))();const Na=!1;function es(t,e){return{\u0275kind:t,\u0275providers:e}}const lw=new F("",{providedIn:"root",factory:()=>!1});function XO(){const t=ue(Yn);return e=>{const n=t.get(Nh);if(e!==n.components[0])return;const r=t.get(Un),i=t.get(JO);1===t.get(dw)&&r.initialNavigation(),t.get(ZO,null,K.Optional)?.setUpPreloading(),t.get(cw,null,K.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const JO=new F(Na?"bootstrap done indicator":"",{factory:()=>new Jr}),dw=new F(Na?"initial navigation":"",{providedIn:"root",factory:()=>1});function IX(){let t=[];return t=Na?[{provide:oh,multi:!0,useFactory:()=>{const e=ue(Un);return()=>e.events.subscribe(n=>{console.group?.(`Router Event: ${n.constructor.name}`),console.log(function WQ(t){if(!("type"in t))return`Unknown Router Event: ${t.constructor.name}`;switch(t.type){case 14:return`ActivationEnd(path: '${t.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${t.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${t.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${t.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state}, shouldActivate: ${t.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 2:return`NavigationCancel(id: ${t.id}, url: '${t.url}')`;case 16:return`NavigationSkipped(id: ${t.id}, url: '${t.url}')`;case 1:return`NavigationEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${t.id}, url: '${t.url}', error: ${t.error})`;case 0:return`NavigationStart(id: ${t.id}, url: '${t.url}')`;case 6:return`ResolveEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 5:return`ResolveStart(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 10:return`RouteConfigLoadEnd(path: ${t.route.path})`;case 9:return`RouteConfigLoadStart(path: ${t.route.path})`;case 4:return`RoutesRecognized(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 15:return`Scroll(anchor: '${t.anchor}', position: '${t.position?`${t.position[0]}, ${t.position[1]}`:null}')`}}(n)),console.log(n),console.groupEnd?.()})}}]:[],es(1,t)}const ZO=new F(Na?"router preloader":"");function EX(t){return es(0,[{provide:ZO,useExisting:mX},{provide:KO,useExisting:t}])}const Qc=!1,eF=new F(Qc?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),CX=[V_,{provide:Lc,useClass:Uv},Un,Hc,{provide:Ma,useFactory:function YO(t){return t.routerState.root},deps:[Un]},ow,Qc?{provide:lw,useValue:!0}:[]];function bX(){return new sP("Router",Un)}let tF=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[CX,Qc&&r?.enableTracing?IX().\u0275providers:[],{provide:Ra,multi:!0,useValue:n},{provide:eF,useFactory:AX,deps:[[Un,new cn,new Wu]]},{provide:$f,useValue:r||{}},r?.useHash?{provide:Bs,useClass:oW}:{provide:Bs,useClass:AP},{provide:cw,useFactory:()=>{const t=ue(E7),e=ue(je),n=ue($f),r=ue(Bf),i=ue(Lc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new QO(i,r,t,e,n)}},r?.preloadingStrategy?EX(r.preloadingStrategy).\u0275providers:[],{provide:sP,multi:!0,useFactory:bX},r?.initialNavigation?xX(r):[],[{provide:nF,useFactory:XO},{provide:iP,multi:!0,useExisting:nF}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Ra,multi:!0,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)(L(eF,8))},t.\u0275mod=kn({type:t}),t.\u0275inj=_n({imports:[Zv]}),t})();function AX(t){if(Qc&&t)throw new S(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function xX(t){return["disabled"===t.initialNavigation?es(3,[{provide:kh,multi:!0,useFactory:()=>{const e=ue(Un);return()=>{e.setUpLocationChangeListener()}}},{provide:dw,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?es(2,[{provide:dw,useValue:0},{provide:kh,multi:!0,deps:[Yn],useFactory:e=>{const n=e.get(iW,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(Un),s=e.get(JO);(function yX(t,e){t.events.pipe(yi(n=>n instanceof zs||n instanceof xf||n instanceof qv||n instanceof Mf),ie(n=>n instanceof zs||n instanceof Mf?Bn.COMPLETE:n instanceof xf&&(0===n.code||1===n.code)?Bn.REDIRECTING:Bn.FAILED),yi(n=>n!==Bn.REDIRECTING),ba(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(Bf).afterPreactivation=()=>(r(!0),s.closed?G(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const nF=new F(Qc?"Router Initializer":""),kX=[];let PX=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=kn({type:t}),t.\u0275inj=_n({imports:[tF.forRoot(kX),tF]}),t})(),rF=(()=>{class t{constructor(){this.cart=[],this.total=0,this.cartBehavior=new tr([]),this.cartBehavior$=this.cartBehavior.asObservable()}addToCart(n){this.cart.push(n),this.cartBehavior.next(this.cart)}getCart(){return this.cart}getTotal(){return this.total=0,this.cart.forEach(n=>{this.total=this.total+n.price}),this.total}quitarProducto(n){const r=this.cart.findIndex(i=>i.id===n.id);this.cart.splice(r,1),this.cartBehavior.next(this.cart)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function RX(t,e){if(1&t){const n=vh();V(0,"li")(1,"div",23),Jn(2,"img",24),V(3,"div",25)(4,"h2",26),ne(5),j(),V(6,"p",27),ne(7),ya(8,"currency"),j()(),V(9,"div",28)(10,"button",29),_e("click",function(){const s=Vo(n).$implicit;return Uo(Pr().quitarPorducto(s))}),ne(11,"Quitar"),j()()()()}if(2&t){const n=e.$implicit;Te(2),Qe("src",n.images[0],tc),Te(3),lc(n.title),Te(2),lc(yc(8,3,n.price,"COP"))}}const iF=function(t){return{active:t}};let NX=(()=>{class t{constructor(n){this.storeService=n,this.cart=[],this.menuStatus=!1,this.counter=0,this.listState=!1}ngOnInit(){this.storeService.cartBehavior$.subscribe(n=>{this.counter=n.length}),this.cart=this.storeService.getCart()}ocultarMenu(n){this.menuStatus=!this.menuStatus,console.log(n)}ocultarLista(){this.listState=!this.listState}quitarPorducto(n){this.storeService.quitarProducto(n),this.cart=this.storeService.getCart(),this.counter=this.cart.length}}return t.\u0275fac=function(n){return new(n||t)(D(rF))},t.\u0275cmp=Ui({type:t,selectors:[["app-nav"]],decls:52,vars:8,consts:[[1,"show-mobile"],[3,"click"],["src","./assets/svg/icon_menu.svg","alt","menu"],["href",""],["src","./assets/images/app-logo.png","alt","logo","width","100"],["src","./assets/svg/icon_shopping_cart.svg","alt","logo"],[1,"side-menu",3,"ngClass"],[1,"close-menu",3,"click"],[1,"hide-mobile"],[1,"left-part"],["href","",1,"logo"],[1,"left-part","menu"],[1,"info"],[1,"account"],[1,"cart"],["src","./assets/svg/icon_shopping_cart.svg","alt","logo",3,"click"],[1,"cart-count"],[1,"list-container",3,"ngClass"],[1,"list-header"],[1,"list-title"],[1,"close-list",3,"click"],[1,"product-list"],[4,"ngFor","ngForOf"],[1,"product"],["alt","image","width","100",3,"src"],[1,"product-info"],[1,"product-title"],[1,"product-price"],[1,"product-actions"],[1,"btn-delete",3,"click"]],template:function(n,r){1&n&&(V(0,"div",0)(1,"div")(2,"button",1),_e("click",function(s){return r.ocultarMenu(s)}),Jn(3,"img",2),j(),V(4,"a",3),Jn(5,"img",4),j(),V(6,"a",3),Jn(7,"img",5),j()(),V(8,"div",6)(9,"button",7),_e("click",function(s){return r.ocultarMenu(s)}),ne(10," Close "),j(),V(11,"ul")(12,"li")(13,"a",3),ne(14,"All"),j()(),V(15,"li")(16,"a",3),ne(17,"Clothes"),j()(),V(18,"li")(19,"a",3),ne(20,"Electronics"),j()()()()(),V(21,"div",8)(22,"div")(23,"nav",9)(24,"a",10),Jn(25,"img",4),j(),V(26,"ul",11)(27,"li")(28,"a",3),ne(29,"All"),j()(),V(30,"li")(31,"a",3),ne(32,"Clothes"),j()(),V(33,"li")(34,"a",3),ne(35,"Electronics"),j()()()(),V(36,"div",12)(37,"div",13),ne(38,"andresdiag@unicauca.com"),j(),V(39,"div",14)(40,"a")(41,"img",15),_e("click",function(){return r.ocultarLista()}),j()(),V(42,"span",16),ne(43),j()()()()(),V(44,"div",17)(45,"div",18)(46,"h1",19),ne(47,"Shopping Cart"),j(),V(48,"button",20),_e("click",function(){return r.ocultarLista()}),ne(49,"X"),j()(),V(50,"ul",21),Os(51,RX,12,6,"li",22),j()()),2&n&&(Te(8),Qe("ngClass",li(4,iF,r.menuStatus)),Te(35),lc(r.counter),Te(1),Qe("ngClass",li(6,iF,r.listState)),Te(7),Qe("ngForOf",r.cart))},dependencies:[Qh,Q_,Yh],styles:[".show-mobile[_ngcontent-%COMP%]{display:block;box-shadow:0 2px 5px #0003}.show-mobile[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:1em;display:flex;justify-content:space-between;align-items:center}.show-mobile[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:0;background:transparent}.show-mobile[_ngcontent-%COMP%]   .side-menu[_ngcontent-%COMP%]{position:fixed;inset:0;background:white;display:flex;flex-direction:column;justify-content:flex-start;transform:translate(-100%);transition:all ease-out .3s}.show-mobile[_ngcontent-%COMP%]   .side-menu.active[_ngcontent-%COMP%]{transform:translate(0)}.hide-mobile[_ngcontent-%COMP%]{display:none;box-shadow:0 2px 5px #0003;margin:0 0 1em}.hide-mobile[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:1em;display:flex;justify-content:space-between;align-items:center}.hide-mobile[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{margin-right:1em}.hide-mobile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{cursor:pointer;transform:scale(1.1)}.hide-mobile[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{display:flex;align-items:center}.hide-mobile[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;list-style:none}.hide-mobile[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 .5em}.hide-mobile[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit;text-decoration:none}.hide-mobile[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.hide-mobile[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;align-items:center}.hide-mobile[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .account[_ngcontent-%COMP%]{margin-right:.5em}.list-container[_ngcontent-%COMP%]{position:fixed;inset:0 0 0 60%;background:white;box-shadow:0 0 5px #ccc;display:flex;flex-direction:column;justify-content:flex-start;transform:translate(100%);transition:all ease-out .3s;overflow-y:scroll}.list-container.active[_ngcontent-%COMP%]{transform:translate(0)}.list-container[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]{display:flex;margin:.1em;padding:0 1em;width:auto;height:50px;background-color:#527dcc;border-radius:5px 5px 0 0;color:#fff;font-size:1.5rem;font-weight:700;text-align:center;line-height:50px;justify-content:space-between}.close-list[_ngcontent-%COMP%]{border:0;background:transparent;position:relative;top:0;right:0;padding:.1em;font-size:1.5em;color:#fff}.close-list[_ngcontent-%COMP%]:hover{cursor:pointer;transform:rotate(180deg);transition:all ease-out .5s}.product[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.5em 1em;border-bottom:1px solid #ccc;margin:.2em}.product[_ngcontent-%COMP%]:hover{background-color:#f5f5f5;cursor:pointer}.product[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;margin-right:1em}.product[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.product[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-title[_ngcontent-%COMP%]{font-weight:700}.product[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{margin-left:1em}.product[_ngcontent-%COMP%]   .product-actions[_ngcontent-%COMP%]{display:flex;align-items:center}.product[_ngcontent-%COMP%]   .product-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:0;background:#e25f5f;margin:0 .5em;border-radius:5px;color:#fff}.product[_ngcontent-%COMP%]   .product-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{cursor:pointer;transform:scale(1.1)}@media screen and (min-width: 40em) and (max-width: 63.9375em){.show-mobile[_ngcontent-%COMP%]{display:none}.hide-mobile[_ngcontent-%COMP%]{display:block}}@media screen and (min-width: 64em){.show-mobile[_ngcontent-%COMP%]{display:none}.hide-mobile[_ngcontent-%COMP%]{display:block}}"]}),t})();function sF(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function y(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){sF(s,r,i,o,a,"next",u)}function a(u){sF(s,r,i,o,a,"throw",u)}o(void 0)})}}const oF=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},fw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(oF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new VX;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class VX extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jf=function(t){return function(t){const e=oF(t);return fw.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Hf=function(t){try{return fw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Gf=()=>{try{return function $X(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Hf(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},qX=t=>{const e=(t=>{var e,n;return null===(n=null===(e=Gf())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},uF=()=>{var t;return null===(t=Gf())||void 0===t?void 0:t.config};class zf{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function $n(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function pw(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function qs(){try{return"object"==typeof indexedDB}catch{return!1}}function Yc(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function gw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class yr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ur.prototype.create)}}class Ur{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function ZX(t,e){return t.replace(eJ,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new yr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const eJ=/\{\$([^}]+)}/g;function mw(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(lF(s)&&lF(o)){if(!mw(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function lF(t){return null!==t&&"object"==typeof t}function dF(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class nJ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function rJ(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=yw),void 0===i.error&&(i.error=yw),void 0===i.complete&&(i.complete=yw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yw(){}const iJ=1e3,sJ=2,oJ=144e5,aJ=.5;function vw(t,e=iJ,n=sJ){const r=e*Math.pow(n,t),i=Math.round(aJ*r*(Math.random()-.5)*2);return Math.min(oJ,r+i)}function Ut(t){return t&&t._delegate?t._delegate:t}class Zt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ws="[DEFAULT]";class cJ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new zf;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function dJ(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ws})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return y(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Ws){return this.instances.has(e)}getOptions(e=Ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Ws?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Ws){return this.component?this.component.multipleInstances?e:Ws:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class hJ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new cJ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const ww=[];var fe=(()=>{return(t=fe||(fe={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",fe;var t})();const hF={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},fJ=fe.INFO,pJ={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},gJ=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=pJ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Oa{constructor(e){this.name=e,this._logLevel=fJ,this._logHandler=gJ,this._userLogHandler=null,ww.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?hF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}const mJ=(t,e)=>e.some(n=>t instanceof n);let fF,pF;const gF=new WeakMap,Iw=new WeakMap,mF=new WeakMap,Ew=new WeakMap,Cw=new WeakMap;let bw={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Iw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||mF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ts(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function CJ(t){return"function"==typeof t?function EJ(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function _J(){return pF||(pF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Dw(this),e),ts(gF.get(this))}:function(...e){return ts(t.apply(Dw(this),e))}:function(e,...n){const r=t.call(Dw(this),e,...n);return mF.set(r,e.sort?e.sort():[e]),ts(r)}}(t):(t instanceof IDBTransaction&&function wJ(t){if(Iw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Iw.set(t,e)}(t),mJ(t,function yJ(){return fF||(fF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,bw):t)}function ts(t){if(t instanceof IDBRequest)return function vJ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ts(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&gF.set(n,t)}).catch(()=>{}),Cw.set(e,t),e}(t);if(Ew.has(t))return Ew.get(t);const e=CJ(t);return e!==t&&(Ew.set(t,e),Cw.set(e,t)),e}const Dw=t=>Cw.get(t),DJ=["get","getKey","getAll","getAllKeys","count"],TJ=["put","add","delete","clear"],Tw=new Map;function yF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Tw.get(e))return Tw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=TJ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!DJ.includes(n))return;const s=function(){var o=y(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Tw.set(e,s),s}!function IJ(t){bw=t(bw)}(t=>({...t,get:(e,n,r)=>yF(e,n)||t.get(e,n,r),has:(e,n)=>!!yF(e,n)||t.has(e,n)}));class SJ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function AJ(t){return"VERSION"===t.getComponent()?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Sw="@firebase/app",Ks=new Oa("@firebase/app"),Wf="[DEFAULT]",eZ={[Sw]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Qs=new Map,Kf=new Map;function tZ(t,e){try{t.container.addComponent(e)}catch(n){Ks.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function pn(t){const e=t.name;if(Kf.has(e))return Ks.debug(`There were multiple attempts to register component ${e}.`),!1;Kf.set(e,t);for(const n of Qs.values())tZ(n,t);return!0}function Qf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const wi=new Ur("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class rZ{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wi.create("app-deleted",{appName:this._name})}}const Xc="9.22.1";function vF(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Wf,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw wi.create("bad-app-name",{appName:String(i)});if(n||(n=uF()),!n)throw wi.create("no-options");const s=Qs.get(i);if(s){if(mw(n,s.options)&&mw(r,s.config))return s;throw wi.create("duplicate-app",{appName:i})}const o=new hJ(i);for(const u of Kf.values())o.addComponent(u);const a=new rZ(n,r,o);return Qs.set(i,a),a}function wF(t=Wf){const e=Qs.get(t);if(!e&&t===Wf&&uF())return vF();if(!e)throw wi.create("no-app",{appName:t});return e}function IF(){return Array.from(Qs.values())}function st(t,e,n){var r;let i=null!==(r=eZ[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ks.warn(a.join(" "))}pn(new Zt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const iZ="firebase-heartbeat-database",sZ=1,Jc="firebase-heartbeat-store";let xw=null;function EF(){return xw||(xw=function bJ(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ts(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ts(o.result),u.oldVersion,u.newVersion,ts(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(iZ,sZ,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Jc)}}).catch(t=>{throw wi.create("idb-open",{originalErrorMessage:t.message})})),xw}function Mw(){return(Mw=y(function*(t){try{return yield(yield EF()).transaction(Jc).objectStore(Jc).get(bF(t))}catch(e){if(e instanceof yr)Ks.warn(e.message);else{const n=wi.create("idb-get",{originalErrorMessage:e?.message});Ks.warn(n.message)}}})).apply(this,arguments)}function CF(t,e){return kw.apply(this,arguments)}function kw(){return(kw=y(function*(t,e){try{const r=(yield EF()).transaction(Jc,"readwrite");yield r.objectStore(Jc).put(e,bF(t)),yield r.done}catch(n){if(n instanceof yr)Ks.warn(n.message);else{const r=wi.create("idb-set",{originalErrorMessage:n?.message});Ks.warn(r.message)}}})).apply(this,arguments)}function bF(t){return`${t.name}!${t.options.appId}`}class cZ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dZ(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return y(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=DF();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return y(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=DF(),{heartbeatsToSend:r,unsentEntries:i}=function lZ(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),TF(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),TF(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=jf(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function DF(){return(new Date).toISOString().substring(0,10)}class dZ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return y(function*(){return!!qs()&&Yc().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return y(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function oZ(t){return Mw.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return y(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return CF(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return y(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return CF(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function TF(t){return jf(JSON.stringify({version:2,heartbeats:t})).length}!function hZ(t){pn(new Zt("platform-logger",e=>new SJ(e),"PRIVATE")),pn(new Zt("heartbeat",e=>new cZ(e),"PRIVATE")),st(Sw,"0.9.11",t),st(Sw,"0.9.11","esm2017"),st("fire-js","")}(""),st("firebase","9.22.1","app");const gZ=(t,e)=>e.some(n=>t instanceof n);let SF,AF;const xF=new WeakMap,Pw=new WeakMap,MF=new WeakMap,Rw=new WeakMap,Nw=new WeakMap;let Ow={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Pw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||MF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ns(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function EZ(t){return"function"==typeof t?function IZ(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function yZ(){return AF||(AF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Fw(this),e),ns(xF.get(this))}:function(...e){return ns(t.apply(Fw(this),e))}:function(e,...n){const r=t.call(Fw(this),e,...n);return MF.set(r,e.sort?e.sort():[e]),ns(r)}}(t):(t instanceof IDBTransaction&&function vZ(t){if(Pw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Pw.set(t,e)}(t),gZ(t,function mZ(){return SF||(SF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Ow):t)}function ns(t){if(t instanceof IDBRequest)return function _Z(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ns(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&xF.set(n,t)}).catch(()=>{}),Nw.set(e,t),e}(t);if(Rw.has(t))return Rw.get(t);const e=EZ(t);return e!==t&&(Rw.set(t,e),Nw.set(e,t)),e}const Fw=t=>Nw.get(t),bZ=["get","getKey","getAll","getAllKeys","count"],DZ=["put","add","delete","clear"],Lw=new Map;function kF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Lw.get(e))return Lw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=DZ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!bZ.includes(n))return;const s=function(){var o=y(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Lw.set(e,s),s}!function wZ(t){Ow=t(Ow)}(t=>({...t,get:(e,n,r)=>kF(e,n)||t.get(e,n,r),has:(e,n)=>!!kF(e,n)||t.has(e,n)}));const PF="@firebase/installations",Vw="0.6.4",RF=1e4,NF=`w:${Vw}`,OF="FIS_v2",TZ="https://firebaseinstallations.googleapis.com/v1",SZ=36e5,Ii=new Ur("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function FF(t){return t instanceof yr&&t.code.includes("request-failed")}function Uw({projectId:t}){return`${TZ}/projects/${t}/installations`}function LF(t){return{token:t.token,requestStatus:2,expiresIn:kZ(t.expiresIn),creationTime:Date.now()}}function Bw(t,e){return $w.apply(this,arguments)}function $w(){return($w=y(function*(t,e){const r=(yield e.json()).error;return Ii.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function VF({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function jw(t){return Hw.apply(this,arguments)}function Hw(){return(Hw=y(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function kZ(t){return Number(t.replace("s","000"))}function Gw(){return(Gw=y(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Uw(t),i=VF(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:OF,appId:t.appId,sdkVersion:NF})},u=yield jw(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:LF(c.authToken)}}throw yield Bw("Create Installation",u)})).apply(this,arguments)}function BF(t){return new Promise(e=>{setTimeout(e,t)})}const OZ=/^[cdef][\w-]{21}$/,zw="";function FZ(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function LZ(t){return function NZ(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return OZ.test(n)?n:zw}catch{return zw}}function Fa(t){return`${t.appName}!${t.appId}`}const La=new Map;function $F(t,e){const n=Fa(t);jF(n,e),function BZ(t,e){const n=function HF(){return!Ys&&"BroadcastChannel"in self&&(Ys=new BroadcastChannel("[Firebase] FID Change"),Ys.onmessage=t=>{jF(t.data.key,t.data.fid)}),Ys}();n&&n.postMessage({key:t,fid:e}),function GF(){0===La.size&&Ys&&(Ys.close(),Ys=null)}()}(n,e)}function jF(t,e){const n=La.get(t);if(n)for(const r of n)r(e)}let Ys=null;const $Z="firebase-installations-database",jZ=1,Xs="firebase-installations-store";let qw=null;function Ww(){return qw||(qw=function CZ(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ns(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ns(o.result),u.oldVersion,u.newVersion,ns(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}($Z,jZ,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Xs)}})),qw}function Yf(t,e){return Kw.apply(this,arguments)}function Kw(){return(Kw=y(function*(t,e){const n=Fa(t),i=(yield Ww()).transaction(Xs,"readwrite"),s=i.objectStore(Xs),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&$F(t,e.fid),e})).apply(this,arguments)}function Qw(t){return Yw.apply(this,arguments)}function Yw(){return(Yw=y(function*(t){const e=Fa(t),r=(yield Ww()).transaction(Xs,"readwrite");yield r.objectStore(Xs).delete(e),yield r.done})).apply(this,arguments)}function Zc(t,e){return Xw.apply(this,arguments)}function Xw(){return(Xw=y(function*(t,e){const n=Fa(t),i=(yield Ww()).transaction(Xs,"readwrite"),s=i.objectStore(Xs),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&$F(t,a.fid),a})).apply(this,arguments)}function Jw(t){return Zw.apply(this,arguments)}function Zw(){return Zw=y(function*(t){let e;const n=yield Zc(t.appConfig,r=>{const i=function HZ(t){return qF(t||{fid:FZ(),registrationStatus:0})}(r),s=function GZ(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Ii.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function zZ(t,e){return eI.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:qZ(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===zw?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),Zw.apply(this,arguments)}function eI(){return eI=y(function*(t,e){try{const n=yield function RZ(t,e){return Gw.apply(this,arguments)}(t,e);return Yf(t.appConfig,n)}catch(n){throw FF(n)&&409===n.customData.serverCode?yield Qw(t.appConfig):yield Yf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),eI.apply(this,arguments)}function qZ(t){return tI.apply(this,arguments)}function tI(){return(tI=y(function*(t){let e=yield zF(t.appConfig);for(;1===e.registrationStatus;)yield BF(100),e=yield zF(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield Jw(t);return r||n}return e})).apply(this,arguments)}function zF(t){return Zc(t,e=>{if(!e)throw Ii.create("installation-not-found");return qF(e)})}function qF(t){return function WZ(t){return 1===t.registrationStatus&&t.registrationTime+RF<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function nI(){return(nI=y(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function QZ(t,{fid:e}){return`${Uw(t)}/${e}/authTokens:generate`}(t,n),i=function UF(t,{refreshToken:e}){const n=VF(t);return n.append("Authorization",function PZ(t){return`${OF} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:NF,appId:t.appId}})},u=yield jw(()=>fetch(r,a));if(u.ok)return LF(yield u.json());throw yield Bw("Generate Auth Token",u)})).apply(this,arguments)}function rI(t){return iI.apply(this,arguments)}function iI(){return iI=y(function*(t,e=!1){let n;const r=yield Zc(t.appConfig,s=>{if(!KF(s))throw Ii.create("not-registered");const o=s.authToken;if(!e&&function JZ(t){return 2===t.requestStatus&&!function ZZ(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+SZ}(t)}(o))return s;if(1===o.requestStatus)return n=function YZ(t,e){return sI.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw Ii.create("app-offline");const a=function eee(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function XZ(t,e){return oI.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),iI.apply(this,arguments)}function sI(){return(sI=y(function*(t,e){let n=yield WF(t.appConfig);for(;1===n.authToken.requestStatus;)yield BF(100),n=yield WF(t.appConfig);const r=n.authToken;return 0===r.requestStatus?rI(t,e):r})).apply(this,arguments)}function WF(t){return Zc(t,e=>{if(!KF(e))throw Ii.create("not-registered");return function tee(t){return 1===t.requestStatus&&t.requestTime+RF<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function oI(){return oI=y(function*(t,e){try{const n=yield function KZ(t,e){return nI.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Yf(t.appConfig,r),n}catch(n){if(!FF(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Yf(t.appConfig,r)}else yield Qw(t.appConfig);throw n}}),oI.apply(this,arguments)}function KF(t){return void 0!==t&&2===t.registrationStatus}function aI(){return(aI=y(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield Jw(e);return r?r.catch(console.error):rI(e).catch(console.error),n.fid})).apply(this,arguments)}function uI(){return uI=y(function*(t,e=!1){const n=t;return yield function iee(t){return cI.apply(this,arguments)}(n),(yield rI(n,e)).token}),uI.apply(this,arguments)}function cI(){return(cI=y(function*(t){const{registrationPromise:e}=yield Jw(t);e&&(yield e)})).apply(this,arguments)}function hI(t){return Ii.create("missing-app-config-values",{valueName:t})}const QF="installations",cee=t=>{const e=t.getProvider("app").getImmediate(),n=function aee(t){if(!t||!t.options)throw hI("App Configuration");if(!t.name)throw hI("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw hI(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Qf(e,"heartbeat"),_delete:()=>Promise.resolve()}},lee=t=>{const n=Qf(t.getProvider("app").getImmediate(),QF).getImmediate();return{getId:()=>function nee(t){return aI.apply(this,arguments)}(n),getToken:i=>function ree(t){return uI.apply(this,arguments)}(n,i)}};(function dee(){pn(new Zt(QF,cee,"PUBLIC")),pn(new Zt("installations-internal",lee,"PRIVATE"))})(),st(PF,Vw),st(PF,Vw,"esm2017");const fI="@firebase/remote-config",Dn=new Ur("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Eee{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return y(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function Cee(t=navigator){return t.languages&&t.languages[0]||t.language}class bee{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return y(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:Cee()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((_,E)=>{e.signal.addEventListener(()=>{const v=new Error("The operation was aborted.");v.name="AbortError",E(v)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(_){let E="fetch-client-network";throw"AbortError"===_?.name&&(E="fetch-timeout"),Dn.create(E,{originalErrorMessage:_?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,m;if(200===h.status){let _;try{_=yield h.json()}catch(E){throw Dn.create("fetch-client-parse",{originalErrorMessage:E?.message})}g=_.entries,m=_.state}if("INSTANCE_STATE_UNSPECIFIED"===m?f=500:"NO_CHANGE"===m?f=304:("NO_TEMPLATE"===m||"EMPTY_CONFIG"===m)&&(g={}),304!==f&&200!==f)throw Dn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class See{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return y(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return y(function*(){yield function Dee(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Dn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function Tee(t){if(!(t instanceof yr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+vw(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class Mee{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Jf(t,e){const n=t.target.error||void 0;return Dn.create(e,{originalErrorMessage:n&&n?.message})}const Js="app_namespace_store";class Nee{constructor(e,n,r,i=function Ree(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Jf(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Js,{keyPath:"compositeKey"})}}catch(n){e(Dn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return y(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Js],"readonly").objectStore(Js),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(Jf(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(Dn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return y(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([Js],"readwrite").objectStore(Js),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(Jf(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(Dn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return y(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Js],"readwrite").objectStore(Js),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(Jf(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(Dn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Oee{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return y(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Lee(){return _I.apply(this,arguments)}function _I(){return(_I=y(function*(){if(!qs())return!1;try{return yield Yc()}catch{return!1}})).apply(this,arguments)}!function Fee(){pn(new Zt("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Dn.create("registration-window");if(!qs())throw Dn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Dn.create("registration-project-id");if(!o)throw Dn.create("registration-api-key");if(!a)throw Dn.create("registration-app-id");const u=new Nee(a,r.name,n=n||"firebase"),c=new Oee(u),l=new Oa(fI);l.logLevel=fe.ERROR;const d=new bee(i,Xc,n,s,o,a),h=new See(d,u),f=new Eee(h,u,c,l),p=new Mee(r,f,c,u,l);return function vee(t){const e=Ut(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),st(fI,"0.4.4"),st(fI,"0.4.4","esm2017")}();const Vee=(t,e)=>e.some(n=>t instanceof n);let ZF,eL;const tL=new WeakMap,vI=new WeakMap,nL=new WeakMap,wI=new WeakMap,II=new WeakMap;let EI={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return vI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||nL.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ei(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function zee(t){return"function"==typeof t?function Gee(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Bee(){return eL||(eL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(CI(this),e),Ei(tL.get(this))}:function(...e){return Ei(t.apply(CI(this),e))}:function(e,...n){const r=t.call(CI(this),e,...n);return nL.set(r,e.sort?e.sort():[e]),Ei(r)}}(t):(t instanceof IDBTransaction&&function jee(t){if(vI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});vI.set(t,e)}(t),Vee(t,function Uee(){return ZF||(ZF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,EI):t)}function Ei(t){if(t instanceof IDBRequest)return function $ee(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ei(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&tL.set(n,t)}).catch(()=>{}),II.set(e,t),e}(t);if(wI.has(t))return wI.get(t);const e=zee(t);return e!==t&&(wI.set(t,e),II.set(e,t)),e}const CI=t=>II.get(t);function rL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ei(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Ei(o.result),u.oldVersion,u.newVersion,Ei(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function bI(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Ei(n).then(()=>{})}const qee=["get","getKey","getAll","getAllKeys","count"],Wee=["put","add","delete","clear"],DI=new Map;function iL(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(DI.get(e))return DI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Wee.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!qee.includes(n))return;const s=function(){var o=y(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return DI.set(e,s),s}!function Hee(t){EI=t(EI)}(t=>({...t,get:(e,n,r)=>iL(e,n)||t.get(e,n,r),has:(e,n)=>!!iL(e,n)||t.has(e,n)}));const Kee="/firebase-messaging-sw.js",Qee="/firebase-cloud-messaging-push-scope",sL="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Yee="https://fcmregistrations.googleapis.com/v1",oL="google.c.a.c_id",Xee="google.c.a.c_l",Jee="google.c.a.ts",Zee="google.c.a.e";var Va=(()=>{return(t=Va||(Va={})).PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",Va;var t})();function Ci(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ete(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const TI="fcm_token_details_db",tte=5,aL="fcm_token_object_Store";function SI(){return SI=y(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(TI))return null;let e=null;return(yield rL(TI,tte,{upgrade:(r=y(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(aL))return;const c=a.objectStore(aL),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Ci(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ci(d.auth),p256dh:Ci(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ci(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ci(d.auth),p256dh:Ci(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ci(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield bI(TI),yield bI("fcm_vapid_details_db"),yield bI("undefined"),function rte(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),SI.apply(this,arguments)}const ite="firebase-messaging-database",ste=1,Zs="firebase-messaging-store";let AI=null;function xI(){return AI||(AI=rL(ite,ste,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Zs)}})),AI}function uL(t){return MI.apply(this,arguments)}function MI(){return MI=y(function*(t){const e=NI(t),r=yield(yield xI()).transaction(Zs).objectStore(Zs).get(e);if(r)return r;{const i=yield function nte(t){return SI.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield kI(t,i),i}}),MI.apply(this,arguments)}function kI(t,e){return PI.apply(this,arguments)}function PI(){return(PI=y(function*(t,e){const n=NI(t),i=(yield xI()).transaction(Zs,"readwrite");return yield i.objectStore(Zs).put(e,n),yield i.done,e})).apply(this,arguments)}function RI(){return(RI=y(function*(t){const e=NI(t),r=(yield xI()).transaction(Zs,"readwrite");yield r.objectStore(Zs).delete(e),yield r.done})).apply(this,arguments)}function NI({appConfig:t}){return t.appId}const Bt=new Ur("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ute(t,e){return OI.apply(this,arguments)}function OI(){return(OI=y(function*(t,e){const n=yield UI(t),r=lL(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(VI(t.appConfig),i)).json()}catch(o){throw Bt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw Bt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Bt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function FI(){return(FI=y(function*(t,e){const n=yield UI(t),r=lL(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${VI(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Bt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw Bt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Bt.create("token-update-no-token");return s.token})).apply(this,arguments)}function cL(t,e){return LI.apply(this,arguments)}function LI(){return(LI=y(function*(t,e){const r={method:"DELETE",headers:yield UI(t)};try{const s=yield(yield fetch(`${VI(t.appConfig)}/${e}`,r)).json();if(s.error)throw Bt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Bt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function VI({projectId:t}){return`${Yee}/projects/${t}/registrations`}function UI(t){return BI.apply(this,arguments)}function BI(){return(BI=y(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function lL({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==sL&&(i.web.applicationPubKey=r),i}const lte=6048e5;function $I(){return $I=y(function*(t){const e=yield function fte(t,e){return zI.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Ci(e.getKey("auth")),p256dh:Ci(e.getKey("p256dh"))},r=yield uL(t.firebaseDependencies);if(r){if(function pte(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+lte?function hte(t,e){return HI.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield cL(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return hL(t.firebaseDependencies,n)}return hL(t.firebaseDependencies,n)}),$I.apply(this,arguments)}function jI(){return jI=y(function*(t){const e=yield uL(t.firebaseDependencies);e&&(yield cL(t.firebaseDependencies,e.token),yield function ote(t){return RI.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),jI.apply(this,arguments)}function HI(){return HI=y(function*(t,e){try{const n=yield function cte(t,e){return FI.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield kI(t.firebaseDependencies,r),n}catch(n){throw yield function dL(t){return jI.apply(this,arguments)}(t),n}}),HI.apply(this,arguments)}function hL(t,e){return GI.apply(this,arguments)}function GI(){return(GI=y(function*(t,e){const r={token:yield ute(t,e),createTime:Date.now(),subscriptionOptions:e};return yield kI(t,r),r.token})).apply(this,arguments)}function zI(){return(zI=y(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ete(e)})})).apply(this,arguments)}function fL(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function gte(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function mte(t,e){e.data&&(t.data=e.data)}(e,t),function yte(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function pL(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function qI(t){return Bt.create("missing-app-config-values",{valueName:t})}pL("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),pL("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class wte{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function vte(t){if(!t||!t.options)throw qI("App Configuration Object");if(!t.name)throw qI("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw qI(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function gL(t){return WI.apply(this,arguments)}function WI(){return(WI=y(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(Kee,{scope:Qee}),t.swRegistration.update().catch(()=>{})}catch(e){throw Bt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function KI(){return(KI=y(function*(t,e){if(!e&&!t.swRegistration&&(yield gL(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Bt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function QI(){return(QI=y(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=sL)})).apply(this,arguments)}function YI(){return YI=y(function*(t,e){if(!navigator)throw Bt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Bt.create("permission-blocked");return yield function Ete(t,e){return QI.apply(this,arguments)}(t,e?.vapidKey),yield function Ite(t,e){return KI.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function dte(t){return $I.apply(this,arguments)}(t)}),YI.apply(this,arguments)}function XI(){return(XI=y(function*(t,e,n){const r=function bte(t){switch(t){case Va.NOTIFICATION_CLICKED:return"notification_open";case Va.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[oL],message_name:n[Xee],message_time:n[Jee],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function JI(){return JI=y(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Va.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(fL(n)):t.onMessageHandler.next(fL(n)));const r=n.data;(function _te(t){return"object"==typeof t&&!!t&&oL in t})(r)&&"1"===r[Zee]&&(yield function Cte(t,e,n){return XI.apply(this,arguments)}(t,n.messageType,r))}),JI.apply(this,arguments)}const yL="@firebase/messaging",Tte=t=>{const e=new wte(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function Dte(t,e){return JI.apply(this,arguments)}(e,n)),e},Ste=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function mL(t,e){return YI.apply(this,arguments)}(e,r)}};function vL(){return ZI.apply(this,arguments)}function ZI(){return(ZI=y(function*(){try{yield Yc()}catch{return!1}return typeof window<"u"&&qs()&&gw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ate(){pn(new Zt("messaging",Tte,"PUBLIC")),pn(new Zt("messaging-internal",Ste,"PRIVATE")),st(yL,"0.12.4"),st(yL,"0.12.4","esm2017")}();const Zf="analytics",kte="firebase_id",Pte="origin",Rte=6e4,Nte="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",nE="https://www.googletagmanager.com/gtag/js",Dt=new Oa("@firebase/analytics"),gn=new Ur("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Fte(t){if(!t.startsWith(nE)){const e=gn.create("invalid-gtag-resource",{gtagURL:t});return Dt.warn(e.message),""}return t}function wL(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function rE(){return(rE=y(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield wL(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){Dt.error(a)}t("config",i,s)})).apply(this,arguments)}function iE(){return(iE=y(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield wL(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Dt.error(s)}})).apply(this,arguments)}const zte=30,IL=new class Wte{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Kte(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function sE(){return(sE=y(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Kte(r)},s=Nte.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw gn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function oE(){return(oE=y(function*(t,e=IL,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw gn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw gn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Zte;return setTimeout(y(function*(){a.abort()}),void 0!==n?n:Rte),EL({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function EL(t,e,n){return aE.apply(this,arguments)}function aE(){return aE=y(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=IL){var s;const{appId:o,measurementId:a}=t;try{yield function Xte(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(gn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return Dt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function Qte(t){return sE.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function Jte(t){if(!(t instanceof yr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return Dt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?vw(n,i.intervalMillis,zte):vw(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),Dt.debug(`Calling attemptFetch again in ${l} millis`),EL(t,d,r,i)}}),aE.apply(this,arguments)}class Zte{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let uE,gE;function cE(){return(cE=y(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function mE(){return(mE=y(function*(){if(!qs())return Dt.warn(gn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Yc()}catch(t){return Dt.warn(gn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function yE(){return yE=y(function*(t,e,n,r,i,s,o){var a;const u=function Yte(t){return oE.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Dt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Dt.error(f)),e.push(u);const c=function one(){return mE.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function Gte(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(nE)&&n.src.includes(t))return n;return null})(s)||function Vte(t,e){const n=function Lte(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:Fte}),r=document.createElement("script"),i=`${nE}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),gE&&(i("consent","default",gE),function CL(t){gE=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[Pte]="firebase",h.update=!0,null!=d&&(h[kte]=d),i("config",l.measurementId,h),uE&&(i("set",uE),function bL(t){uE=t}(void 0)),l.measurementId}),yE.apply(this,arguments)}class une{constructor(e){this.app=e}_delete(){return delete Br[this.app.options.appId],Promise.resolve()}}let Br={},DL=[];const TL={};let AL,$r,ep="dataLayer",SL="gtag",_E=!1;function lne(t,e,n){!function cne(){const t=[];if(pw()&&t.push("This is a browser extension environment."),gw()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=gn.create("invalid-analytics-context",{errorInfo:e});Dt.warn(n.message)}}();const r=t.options.appId;if(!r)throw gn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw gn.create("no-api-key");Dt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Br[r])throw gn.create("already-exists",{id:r});if(!_E){!function Ute(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(ep);const{wrappedGtag:s,gtagCore:o}=function Hte(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function jte(t,e,n,r){function s(){return s=y(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function $te(t,e,n,r,i){return iE.apply(this,arguments)}(t,e,n,u,c)}else if("config"===o){const[u,c]=a;yield function Bte(t,e,n,r,i,s){return rE.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===o){const[u]=a;t("consent","update",u)}else if("get"===o){const[u,c,l]=a;t("get",u,c,l)}else if("set"===o){const[u]=a;t("set",u)}else t(o,...a)}catch(u){Dt.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Br,DL,TL,ep,SL);$r=s,AL=o,_E=!0}return Br[r]=function ane(t,e,n,r,i,s,o){return yE.apply(this,arguments)}(t,DL,TL,e,AL,ep,n),new une(t)}function hne(){return vE.apply(this,arguments)}function vE(){return(vE=y(function*(){if(pw()||!gw()||!qs())return!1;try{return yield Yc()}catch{return!1}})).apply(this,arguments)}const xL="@firebase/analytics";!function pne(){pn(new Zt(Zf,(e,{options:n})=>lne(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),pn(new Zt("analytics-internal",function t(e){try{const n=e.getProvider(Zf).getImmediate();return{logEvent:(r,i,s)=>function fne(t,e,n,r){t=Ut(t),function ene(t,e,n,r,i){return cE.apply(this,arguments)}($r,Br[t.app.options.appId],e,n,r).catch(i=>Dt.error(i))}(n,r,i,s)}}catch(n){throw gn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),st(xL,"0.10.0"),st(xL,"0.10.0","esm2017")}();class gne extends xn{constructor(e,n){super()}schedule(e,n=0){return this}}const tp={setInterval(t,e,...n){const{delegate:r}=tp;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=tp;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class kL extends gne{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return tp.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&tp.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,xo(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const PL={now:()=>(PL.delegate||Date).now(),delegate:void 0};class el{constructor(e,n=el.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}el.now=PL.now;class RL extends el{constructor(e,n=el.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const _ne=new class yne extends RL{}(class mne extends kL{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),vne=new RL(kL),IE=new Zo("7.6.1"),EE="__angularfire_symbol__analyticsIsSupportedValue",CE="__angularfire_symbol__analyticsIsSupported",bE="__angularfire_symbol__remoteConfigIsSupportedValue",DE="__angularfire_symbol__remoteConfigIsSupported",TE="__angularfire_symbol__messagingIsSupportedValue",SE="__angularfire_symbol__messagingIsSupported";globalThis[CE]||(globalThis[CE]=hne().then(t=>globalThis[EE]=t).catch(()=>globalThis[EE]=!1)),globalThis[SE]||(globalThis[SE]=vL().then(t=>globalThis[TE]=t).catch(()=>globalThis[TE]=!1)),globalThis[DE]||(globalThis[DE]=Lee().then(t=>globalThis[bE]=t).catch(()=>globalThis[bE]=!1));const ME=(t,e)=>{const n=e?[e]:IF(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Ua(){}class NL{constructor(e,n=_ne){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class wne{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ua,{},Ua,Ua)),n.pipe(Lt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let OL=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new NL(Zone.current)),this.insideAngular=n.run(()=>new NL(Zone.current,vne)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(L(je))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function eo(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function to(t){return eo().ngZone.run(()=>t())}function Ene(t){return eo(),function Cne(t){return function(n){return(n=n.lift(new wne(t.ngZone))).pipe(Dd(t.outsideAngular),bd(t.insideAngular))}}(eo())(t)}const bne=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),to(()=>t.apply(void 0,r))},rr=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=to(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ua,{},Ua,Ua)))),r[s]=bne(r[s],n));const i=function Ine(t){return eo().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof Be){const s=eo();return i.pipe(Dd(s.outsideAngular),bd(s.insideAngular))}return to(()=>i)}return i instanceof Be?i.pipe(Ene):i instanceof Promise?to(()=>new Promise((s,o)=>i.then(a=>to(()=>s(a)),a=>to(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:to(()=>i)};class Ba{constructor(e){return e}}class FL{constructor(){return IF()}}const kE=new F("angularfire2._apps"),Tne={provide:Ba,useFactory:function Dne(t){return t&&1===t.length?t[0]:new Ba(wF())},deps:[[new cn,kE]]},Sne={provide:FL,deps:[[new cn,kE]]};function Ane(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Ba(r)}}let xne=(()=>{class t{constructor(n){st("angularfire",IE.full,"core"),st("angularfire",IE.full,"app"),st("angular",Gx.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(L(Ic))},t.\u0275mod=kn({type:t}),t.\u0275inj=_n({providers:[Tne,Sne]}),t})();function Mne(t,...e){return{ngModule:xne,providers:[{provide:kE,useFactory:Ane(t),multi:!0,deps:[je,Yn,OL,...e]}]}}const kne=rr(vF,!0);const Pne=function LL(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},VL=new Ur("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),np=new Oa("@firebase/auth");function rp(t,...e){np.logLevel<=fe.ERROR&&np.error(`Auth (${Xc}): ${t}`,...e)}function Tn(t,...e){throw PE(t,...e)}function jr(t,...e){return PE(t,...e)}function PE(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return VL.create(t,...e)}function A(t,e,...n){if(!t)throw PE(e,...n)}function Hr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw rp(e),new Error(e)}function rs(t,e){t||Hr(e)}function BL(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class nl{constructor(e,n){this.shortDelay=e,this.longDelay=n,rs(n>e,"Short delay should be less than long delay!"),this.isMobile=function QX(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($n())}()||function XX(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Nne(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function RE(){return"http:"===BL()||"https:"===BL()}()||pw()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class $L{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Fne={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Lne=new nl(3e4,6e4);function Xe(t,e,n,r){return OE.apply(this,arguments)}function OE(){return(OE=y(function*(t,e,n,r,i={}){return jL(t,i,y(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=dF(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),$L.fetch()(HL(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function jL(t,e,n){return FE.apply(this,arguments)}function FE(){return(FE=y(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Fne),e);try{const i=new Vne(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw rl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw rl(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw rl(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw rl(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function UL(t,e,n){const r=Object.assign(Object.assign({},Pne()),{[e]:n});return new Ur("auth","Firebase",r).create(e,{appName:t.name})}(t,l,c);Tn(t,l)}}catch(i){if(i instanceof yr)throw i;Tn(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function HL(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function NE(t,e){rs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class Vne{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(jr(this.auth,"network-request-failed")),Lne.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function rl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=jr(t,e,r);return i.customData._tokenResponse=n,i}function VE(){return(VE=y(function*(t,e){return Xe(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function BE(){return(BE=y(function*(t,e){return Xe(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function il(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function $E(){return($E=y(function*(t,e=!1){const n=Ut(t),r=yield n.getIdToken(e),i=ip(r);A(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:il(jE(i.auth_time)),issuedAtTime:il(jE(i.iat)),expirationTime:il(jE(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function jE(t){return 1e3*Number(t)}function ip(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return rp("JWT malformed, contained fewer than 3 sections"),null;try{const i=Hf(n);return i?JSON.parse(i):(rp("Failed to decode base64 JWT payload"),null)}catch(i){return rp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Di(t,e){return HE.apply(this,arguments)}function HE(){return(HE=y(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof yr&&function Gne({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class zne{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(y(function*(){yield n.iteration()}),r)}iteration(){var e=this;return y(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class GL{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=il(this.lastLoginAt),this.creationTime=il(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function sl(t){return GE.apply(this,arguments)}function GE(){return GE=y(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Di(t,function $ne(t,e){return BE.apply(this,arguments)}(n,{idToken:r}));A(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function Kne(t){return t.map(e=>{var{providerId:n}=e,r=sm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function Wne(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new GL(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),GE.apply(this,arguments)}function zE(){return(zE=y(function*(t){const e=Ut(t);yield sl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function qE(){return(qE=y(function*(t,e){const n=yield jL(t,{},y(function*(){const r=dF({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=HL(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",$L.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class ol{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){A(e.idToken,"internal-error"),A(typeof e.idToken<"u","internal-error"),A(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Hne(t){const e=ip(t);return A(e,"internal-error"),A(typeof e.exp<"u","internal-error"),A(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return y(function*(){return A(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return y(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Qne(t,e){return qE.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ol;return r&&(A("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(A("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(A("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ol,this.toJSON())}_performRefresh(){return Hr("not implemented")}}function is(t,e){A("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class no{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=sm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zne(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new GL(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return y(function*(){const r=yield Di(n,n.stsTokenManager.getToken(n.auth,e));return A(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function jne(t){return $E.apply(this,arguments)}(this,e)}reload(){return function qne(t){return zE.apply(this,arguments)}(this)}_assign(e){this!==e&&(A(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new no(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return y(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield sl(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return y(function*(){const n=yield e.getIdToken();return yield Di(e,function Une(t,e){return VE.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,_=null!==(c=n.createdAt)&&void 0!==c?c:void 0,E=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:v,emailVerified:M,isAnonymous:H,providerData:q,stsTokenManager:Pt}=n;A(v&&Pt,e,"internal-error");const Fi=ol.fromJSON(this.name,Pt);A("string"==typeof v,e,"internal-error"),is(d,e.name),is(h,e.name),A("boolean"==typeof M,e,"internal-error"),A("boolean"==typeof H,e,"internal-error"),is(f,e.name),is(p,e.name),is(g,e.name),is(m,e.name),is(_,e.name),is(E,e.name);const xu=new no({uid:v,auth:e,email:h,emailVerified:M,displayName:d,isAnonymous:H,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:Fi,createdAt:_,lastLoginAt:E});return q&&Array.isArray(q)&&(xu.providerData=q.map(Ede=>Object.assign({},Ede))),m&&(xu._redirectEventId=m),xu}static _fromIdTokenResponse(e,n,r=!1){return y(function*(){const i=new ol;i.updateFromServerResponse(n);const s=new no({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield sl(s),s})()}}const zL=new Map;function Ti(t){rs(t instanceof Function,"Expected a class definition");let e=zL.get(t);return e?(rs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,zL.set(t,e),e)}const qL=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return y(function*(){return!0})()}_set(n,r){var i=this;return y(function*(){i.storage[n]=r})()}_get(n){var r=this;return y(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return y(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function sp(t,e,n){return`firebase:${t}:${e}:${n}`}class ja{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=sp(this.userKey,i.apiKey,s),this.fullPersistenceKey=sp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return y(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?no._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return y(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return y(function*(){if(!n.length)return new ja(Ti(qL),e,r);const i=(yield Promise.all(n.map(function(){var c=y(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Ti(qL);const o=sp(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=no._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=y(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new ja(s,e,r)):new ja(s,e,r)})()}}function WL(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function YL(t=$n()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function KL(t=$n()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function JL(t=$n()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function ZL(t=$n()){return/webos/i.test(t)}(e))return"Webos";if(function WE(t=$n()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function QL(t=$n()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function XL(t=$n()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function eV(t,e=[]){let n;switch(t){case"Browser":n=WL($n());break;case"Worker":n=`${WL($n())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xc}/${r}`}function tV(t,e){return QE.apply(this,arguments)}function QE(){return(QE=y(function*(t,e){return Xe(t,"GET","/v2/recaptchaConfig",function qe(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}(t,e))})).apply(this,arguments)}function rV(t){return void 0!==t&&void 0!==t.enterprise}class iV{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}const nre="NO_RECAPTCHA";class oV{constructor(e){this.type="recaptcha-enterprise",this.auth=Tt(e)}verify(e="verify",n=!1){var r=this;return y(function*(){function s(){return s=y(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=y(function*(c,l){tV(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new iV(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;rV(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u(nre)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!n&&rV(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));(function YE(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=jr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function Zne(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})})("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}class rre{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return y(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class ire{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aV(this),this.idTokenSubscription=new aV(this),this.beforeStateQueue=new rre(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VL,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Ti(n)),this._initializationPromise=this.queue(y(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield ja.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return y(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return y(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return A(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return y(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return y(function*(){try{yield sl(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function One(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return y(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return y(function*(){const r=e?Ut(e):null;return r&&A(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return y(function*(){if(!r._deleted)return e&&A(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(y(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return y(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(y(function*(){yield n.assertedPersistence.setPersistence(Ti(e))}))}initializeRecaptchaConfig(){var e=this;return y(function*(){const n=yield tV(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new iV(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new oV(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ur("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return y(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return y(function*(){if(!n.redirectPersistenceManager){const r=e&&Ti(e)||n._popupRedirectResolver;A(r,n,"argument-error"),n.redirectPersistenceManager=yield ja.create(n,[Ti(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return y(function*(){var r,i;return n._isInitialized&&(yield n.queue(y(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return y(function*(){if(e===n.currentUser)return n.queue(y(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return A(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return y(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return y(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return y(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Rne(t,...e){np.logLevel<=fe.WARN&&np.warn(`Auth (${Xc}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Tt(t){return Ut(t)}class aV{constructor(e){this.auth=e,this.observer=null,this.addObserver=function tJ(t,e){const n=new nJ(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function sV(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new nl(3e4,6e4),new nl(2e3,1e4),new nl(3e4,6e4),new nl(5e3,15e3),encodeURIComponent("fac");var FV="@firebase/auth";class Yie{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return y(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}Gf(),function Jie(t){pn(new Zt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;A(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eV(t)},c=new ire(r,i,s,u);return function ore(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ti);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),pn(new Zt("auth-internal",e=>{const n=Tt(e.getProvider("auth").getImmediate());return new Yie(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),st(FV,"0.23.2",function Xie(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),st(FV,"0.23.2","esm2017")}("Browser");class BV{constructor(){return ME("auth")}}const Vb=new Map,$V={activated:!1,tokenObservers:[]},sse={initialized:!1,enabled:!1};function Je(t){return Vb.get(t)||Object.assign({},$V)}function _p(){return sse}const Ub="https://content-firebaseappcheck.googleapis.com/v1",cse="exchangeDebugToken",jV={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class dse{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return y(function*(){n.stop();try{n.pending=new zf,yield function hse(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new zf,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const $t=new Ur("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Bb(t){if(!Je(t).activated)throw $t.create("use-before-activation",{appName:t.name})}function Ip(t,e){return jb.apply(this,arguments)}function jb(){return jb=y(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw $t.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw $t.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw $t.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw $t.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}}),jb.apply(this,arguments)}function HV(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${Ub}/projects/${n}/apps/${r}:${cse}?key=${i}`,body:{debug_token:e}}}const mse="firebase-app-check-database",yse=1,dl="firebase-app-check-store";let Ep=null;function Hb(){return Hb=y(function*(t,e){const r=(yield function zV(){return Ep||(Ep=new Promise((t,e)=>{try{const n=indexedDB.open(mse,yse);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e($t.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(dl,{keyPath:"compositeKey"})}}catch(n){e($t.create("storage-open",{originalErrorMessage:n?.message}))}}),Ep)}()).transaction(dl,"readwrite"),s=r.objectStore(dl).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a($t.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})}),Hb.apply(this,arguments)}const hl=new Oa("@firebase/app-check");function qb(t,e){return qs()?function vse(t,e){return function qV(t,e){return Hb.apply(this,arguments)}(function KV(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{hl.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function Kb(){return _p().enabled}function Qb(){return Yb.apply(this,arguments)}function Yb(){return Yb=y(function*(){const t=_p();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),Yb.apply(this,arguments)}const Dse={error:"UNKNOWN_ERROR"};function Tse(t){return fw.encodeString(JSON.stringify(t),!1)}function Cp(t){return Xb.apply(this,arguments)}function Xb(){return Xb=y(function*(t,e=!1){const n=t.app;Bb(n);const r=Je(n);let s,i=r.token;if(i&&!Ga(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(Ga(u)?i=u:yield qb(n,void 0))}if(!e&&i&&Ga(i))return{token:i.token};let a,o=!1;if(Kb()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Ip(HV(n,yield Qb()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield qb(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Je(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?hl.warn(u.message):hl.error(u),s=u}return i?s?a=Ga(i)?{token:i.token,internalError:s}:JV(s):(a={token:i.token},r.token=i,yield qb(n,i)):a=JV(s),o&&function XV(t,e){const n=Je(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a}),Xb.apply(this,arguments)}function Jb(){return Jb=y(function*(t){const e=t.app;Bb(e);const{provider:n}=Je(e);if(Kb()){const r=yield Qb(),{token:i}=yield Ip(HV(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),Jb.apply(this,arguments)}function eD(t,e){const n=Je(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function YV(t){const{app:e}=t,n=Je(e);let r=n.tokenRefresher;r||(r=function Sse(t){const{app:e}=t;return new dse(y(function*(){let r;if(r=Je(e).token?yield Cp(t,!0):yield Cp(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Je(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},jV.RETRIAL_MIN_WAIT,jV.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Ga(t){return t.expireTimeMillis-Date.now()>0}function JV(t){return{token:Tse(Dse),error:t}}class Ase{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Je(this.app);for(const n of e)eD(this.app,n.next);return Promise.resolve()}}const o2="app-check-internal";!function jse(){pn(new Zt("app-check",t=>function xse(t,e){return new Ase(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(o2).initialize()})),pn(new Zt(o2,t=>function Mse(t){return{getToken:e=>Cp(t,e),getLimitedUseToken:()=>function QV(t){return Jb.apply(this,arguments)}(t),addTokenListener:e=>function Zb(t,e,n,r){const{app:i}=t,s=Je(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&Ga(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),YV(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>YV(t))}(t,"INTERNAL",e),removeTokenListener:e=>eD(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),st("@firebase/app-check","0.8.0")}();class u2{constructor(){return ME("app-check")}}typeof window<"u"&&window;var P,Wse=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_r={},sD=sD||{},J=Wse||self;function Dp(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function fl(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var oD="closure_uid_"+(1e9*Math.random()>>>0),Qse=0;function Yse(t,e,n){return t.call.apply(t.bind,arguments)}function Xse(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function en(t,e,n){return(en=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Yse:Xse).apply(null,arguments)}function Tp(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function St(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function os(){this.s=this.s,this.o=this.o}os.prototype.s=!1,os.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Kse(t){Object.prototype.hasOwnProperty.call(t,oD)&&t[oD]||(t[oD]=++Qse)}(this)},os.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const c2=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function aD(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function l2(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Dp(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function tn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}tn.prototype.h=function(){this.defaultPrevented=!0};var Zse=function(){if(!J.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{J.addEventListener("test",()=>{},e),J.removeEventListener("test",()=>{},e)}catch{}return t}();function pl(t){return/^[\s\xa0]*$/.test(t)}function Sp(){var t=J.navigator;return t&&(t=t.userAgent)?t:""}function Gr(t){return-1!=Sp().indexOf(t)}function uD(t){return uD[" "](t),t}uD[" "]=function(){};var lD,toe=Gr("Opera"),za=Gr("Trident")||Gr("MSIE"),d2=Gr("Edge"),cD=d2||za,h2=Gr("Gecko")&&!(-1!=Sp().toLowerCase().indexOf("webkit")&&!Gr("Edge"))&&!(Gr("Trident")||Gr("MSIE"))&&!Gr("Edge"),noe=-1!=Sp().toLowerCase().indexOf("webkit")&&!Gr("Edge");function f2(){var t=J.document;return t?t.documentMode:void 0}e:{var dD="",hD=function(){var t=Sp();return h2?/rv:([^\);]+)(\)|;)/.exec(t):d2?/Edge\/([\d\.]+)/.exec(t):za?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):noe?/WebKit\/(\S+)/.exec(t):toe?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(hD&&(dD=hD?hD[1]:""),za){var fD=f2();if(null!=fD&&fD>parseFloat(dD)){lD=String(fD);break e}}lD=dD}var roe=J.document&&za&&(f2()||parseInt(lD,10))||void 0;function gl(t,e){if(tn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(h2){e:{try{uD(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ioe[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&gl.$.h.call(this)}}St(gl,tn);var ioe={2:"touch",3:"pen",4:"mouse"};gl.prototype.h=function(){gl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ml="closure_listenable_"+(1e6*Math.random()|0),soe=0;function ooe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++soe,this.fa=this.ia=!1}function Ap(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function gD(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function g2(t){const e={};for(const n in t)e[n]=t[n];return e}const m2="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function y2(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<m2.length;s++)n=m2[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function xp(t){this.src=t,this.g={},this.h=0}function mD(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=c2(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Ap(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function yD(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}xp.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=yD(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new ooe(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var _D="closure_lm_"+(1e6*Math.random()|0),vD={};function _2(t,e,n,r,i){if(r&&r.once)return w2(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)_2(t,e[s],n,r,i);return null}return n=CD(n),t&&t[ml]?t.O(e,n,fl(r)?!!r.capture:!!r,i):v2(t,e,n,!1,r,i)}function v2(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=fl(i)?!!i.capture:!!i,a=ID(t);if(a||(t[_D]=a=new xp(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function uoe(){const e=coe;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Zse||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(E2(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function w2(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)w2(t,e[s],n,r,i);return null}return n=CD(n),t&&t[ml]?t.P(e,n,fl(r)?!!r.capture:!!r,i):v2(t,e,n,!0,r,i)}function I2(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)I2(t,e[s],n,r,i);else r=fl(r)?!!r.capture:!!r,n=CD(n),t&&t[ml]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=yD(s=t.g[e],n,r,i))&&(Ap(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=ID(t))&&(e=t.g[e.toString()],t=-1,e&&(t=yD(e,n,r,i)),(n=-1<t?e[t]:null)&&wD(n))}function wD(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[ml])mD(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(E2(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ID(e))?(mD(n,t),0==n.h&&(n.src=null,e[_D]=null)):Ap(t)}}}function E2(t){return t in vD?vD[t]:vD[t]="on"+t}function coe(t,e){if(t.fa)t=!0;else{e=new gl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&wD(t),t=n.call(r,e)}return t}function ID(t){return(t=t[_D])instanceof xp?t:null}var ED="__closure_events_fn_"+(1e9*Math.random()>>>0);function CD(t){return"function"==typeof t?t:(t[ED]||(t[ED]=function(e){return t.handleEvent(e)}),t[ED])}function At(){os.call(this),this.i=new xp(this),this.S=this,this.J=null}function jt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new tn(e,t);else if(e instanceof tn)e.target=e.target||t;else{var i=e;y2(e=new tn(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Mp(o,r,!0,e)&&i}if(i=Mp(o=e.g=t,r,!0,e)&&i,i=Mp(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Mp(o=e.g=n[s],r,!1,e)&&i}function Mp(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&mD(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}St(At,os),At.prototype[ml]=!0,At.prototype.removeEventListener=function(t,e,n,r){I2(this,t,e,n,r)},At.prototype.N=function(){if(At.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ap(n[r]);delete t.g[e],t.h--}}this.J=null},At.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},At.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var bD=J.JSON.stringify;function doe(){var t=DD;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var C2=new class loe{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new foe,t=>t.reset());class foe{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function poe(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function goe(t){J.setTimeout(()=>{throw t},0)}let yl,_l=!1,DD=new class hoe{constructor(){this.h=this.g=null}add(e,n){const r=C2.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},b2=()=>{const t=J.Promise.resolve(void 0);yl=()=>{t.then(moe)}};var moe=()=>{for(var t;t=doe();){try{t.h.call(t.g)}catch(n){goe(n)}var e=C2;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}_l=!1};function kp(t,e){At.call(this),this.h=t||1,this.g=e||J,this.j=en(this.qb,this),this.l=Date.now()}function TD(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function SD(t,e,n){if("function"==typeof t)n&&(t=en(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=en(t.handleEvent,t)}return 2147483647<Number(e)?-1:J.setTimeout(t,e||0)}function D2(t){t.g=SD(()=>{t.g=null,t.i&&(t.i=!1,D2(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}St(kp,At),(P=kp.prototype).ga=!1,P.T=null,P.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),jt(this,"tick"),this.ga&&(TD(this),this.start()))}},P.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},P.N=function(){kp.$.N.call(this),TD(this),delete this.g};class yoe extends os{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:D2(this)}N(){super.N(),this.g&&(J.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vl(t){os.call(this),this.h=t,this.g={}}St(vl,os);var T2=[];function S2(t,e,n,r){Array.isArray(n)||(n&&(T2[0]=n.toString()),n=T2);for(var i=0;i<n.length;i++){var s=_2(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function A2(t){gD(t.g,function(e,n){this.g.hasOwnProperty(n)&&wD(e)},t),t.g={}}function Pp(){this.g=!0}function qa(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ioe(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return bD(n)}catch{return e}}(t,n)+(r?" "+r:"")})}vl.prototype.N=function(){vl.$.N.call(this),A2(this)},vl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Pp.prototype.Ea=function(){this.g=!1},Pp.prototype.info=function(){};var oo={},x2=null;function Rp(){return x2=x2||new At}function M2(t){tn.call(this,oo.Ta,t)}function wl(t){const e=Rp();jt(e,new M2(e))}function k2(t,e){tn.call(this,oo.STAT_EVENT,t),this.stat=e}function mn(t){const e=Rp();jt(e,new k2(e,t))}function P2(t,e){tn.call(this,oo.Ua,t),this.size=e}function Il(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return J.setTimeout(function(){t()},e)}oo.Ta="serverreachability",St(M2,tn),oo.STAT_EVENT="statevent",St(k2,tn),oo.Ua="timingevent",St(P2,tn);var Np={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},R2={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function AD(){}function O2(){}AD.prototype.h=null;var kD,El={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function xD(){tn.call(this,"d")}function MD(){tn.call(this,"c")}function Op(){}function Cl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new vl(this),this.P=Eoe,this.V=new kp(t=cD?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new F2}function F2(){this.i=null,this.g="",this.h=!1}St(xD,tn),St(MD,tn),St(Op,AD),Op.prototype.g=function(){return new XMLHttpRequest},Op.prototype.i=function(){return{}},kD=new Op;var Eoe=45e3,PD={},Fp={};function RD(t,e,n){t.L=1,t.v=Bp(Ai(e)),t.s=n,t.S=!0,L2(t,null)}function L2(t,e){t.G=Date.now(),bl(t),t.A=Ai(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),W2(n.i,"t",r),t.C=0,n=t.l.J,t.h=new F2,t.g=yU(t.l,n?e:null,!t.s),0<t.O&&(t.M=new yoe(en(t.Pa,t,t.g),t.O)),S2(t.U,t.g,"readystatechange",t.nb),e=t.I?g2(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),wl(),function _oe(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function V2(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function U2(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=Coe(t,n),i==Fp){4==e&&(t.o=4,mn(14),r=!1),qa(t.j,t.m,null,"[Incomplete Response]");break}if(i==PD){t.o=4,mn(15),qa(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}qa(t.j,t.m,i,null),ND(t,i)}V2(t)&&i!=Fp&&i!=PD&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,mn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),$D(e),e.M=!0,mn(11))):(qa(t.j,t.m,n,"[Invalid Chunked Response]"),ao(t),Dl(t))}function Coe(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Fp:(n=Number(e.substring(n,r)),isNaN(n)?PD:(r+=1)+n>e.length?Fp:(e=e.slice(r,r+n),t.C=r+n,e))}function bl(t){t.Y=Date.now()+t.P,B2(t,t.P)}function B2(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Il(en(t.lb,t),e)}function Lp(t){t.B&&(J.clearTimeout(t.B),t.B=null)}function Dl(t){0==t.l.H||t.J||fU(t.l,t)}function ao(t){Lp(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,TD(t.V),A2(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function ND(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||OD(n.i,t)))if(!t.K&&OD(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;qp(n),Gp(n)}BD(n),mn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Il(en(n.ib,n),6e3));if(1>=Y2(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else co(n,11)}else if((t.K||n.g==t)&&qp(n),!pl(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(FD(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Fe(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=mU(r,r.J?r.pa:null,r.Y),o.K){X2(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(Lp(a),bl(a)),r.g=o}else dU(r);0<n.j.length&&zp(n)}else"stop"!=c[0]&&"close"!=c[0]||co(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?co(n,7):UD(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}wl()}catch{}}function $2(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Dp(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Doe(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Dp(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function boe(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Dp(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(P=Cl.prototype).setTimeout=function(t){this.P=t},P.nb=function(t){t=t.target;const e=this.M;e&&3==zr(t)?e.l():this.Pa(t)},P.Pa=function(t){try{if(t==this.g)e:{const l=zr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||cD||this.g&&(this.h.h||this.g.ja()||sU(this.g)))){this.J||4!=l||7==e||wl(),Lp(this);var n=this.g.da();this.ca=n;t:if(V2(this)){var r=sU(this.g);t="";var i=r.length,s=4==zr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ao(this),Dl(this);var o="";break t}this.h.i=new J.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function voe(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pl(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,mn(12),ao(this),Dl(this);break e}qa(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ND(this,n)}this.S?(U2(this,l,o),cD&&this.i&&3==l&&(S2(this.U,this.V,"tick",this.mb),this.V.start())):(qa(this.j,this.m,o,null),ND(this,o)),4==l&&ao(this),this.i&&!this.J&&(4==l?fU(this.l,this):(this.i=!1,bl(this)))}else(function Hoe(t){const e={};t=(t.g&&2<=zr(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(pl(t[r]))continue;var n=poe(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function aoe(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,mn(12)):(this.o=0,mn(13)),ao(this),Dl(this)}}}catch{}},P.mb=function(){if(this.g){var t=zr(this.g),e=this.g.ja();this.C<e.length&&(Lp(this),U2(this,t,e),this.i&&4!=t&&bl(this))}},P.cancel=function(){this.J=!0,ao(this)},P.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function woe(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(wl(),mn(17)),ao(this),this.o=2,Dl(this)):B2(this,this.Y-t)};var j2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof uo){this.h=t.h,Vp(this,t.j),this.s=t.s,this.g=t.g,Up(this,t.m),this.l=t.l;var e=t.i,n=new Al;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),H2(this,n),this.o=t.o}else t&&(e=String(t).match(j2))?(this.h=!1,Vp(this,e[1]||"",!0),this.s=Tl(e[2]||""),this.g=Tl(e[3]||"",!0),Up(this,e[4]),this.l=Tl(e[5]||"",!0),H2(this,e[6]||"",!0),this.o=Tl(e[7]||"")):(this.h=!1,this.i=new Al(null,this.h))}function Ai(t){return new uo(t)}function Vp(t,e,n){t.j=n?Tl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Up(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function H2(t,e,n){e instanceof Al?(t.i=e,function Poe(t,e){e&&!t.j&&(as(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(z2(this,r),W2(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Sl(e,Moe)),t.i=new Al(e,t.h))}function Fe(t,e,n){t.i.set(e,n)}function Bp(t){return Fe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Tl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Sl(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Soe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Soe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}uo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Sl(e,G2,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Sl(e,G2,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Sl(n,"/"==n.charAt(0)?xoe:Aoe,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Sl(n,koe)),t.join("")};var G2=/[#\/\?@]/g,Aoe=/[#\?:]/g,xoe=/[#\?]/g,Moe=/[#\?@]/g,koe=/#/g;function Al(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function as(t){t.g||(t.g=new Map,t.h=0,t.i&&function Toe(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function z2(t,e){as(t),e=Wa(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function q2(t,e){return as(t),e=Wa(t,e),t.g.has(e)}function W2(t,e,n){z2(t,e),0<n.length&&(t.i=null,t.g.set(Wa(t,e),aD(n)),t.h+=n.length)}function Wa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function K2(t){this.l=t||Noe,t=J.PerformanceNavigationTiming?0<(t=J.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(J.g&&J.g.Ka&&J.g.Ka()&&J.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(P=Al.prototype).add=function(t,e){as(this),this.i=null,t=Wa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},P.forEach=function(t,e){as(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},P.ta=function(){as(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},P.Z=function(t){as(this);let e=[];if("string"==typeof t)q2(this,t)&&(e=e.concat(this.g.get(Wa(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},P.set=function(t,e){return as(this),this.i=null,q2(this,t=Wa(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},P.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},P.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var Noe=10;function Q2(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Y2(t){return t.h?1:t.g?t.g.size:0}function OD(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function FD(t,e){t.g?t.g.add(e):t.h=e}function X2(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function J2(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return aD(t.i)}K2.prototype.cancel=function(){if(this.i=J2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Ooe=class{stringify(t){return J.JSON.stringify(t,void 0)}parse(t){return J.JSON.parse(t,void 0)}};function Foe(){this.g=new Ooe}function Loe(t,e,n){const r=n||"";try{$2(t,function(i,s){let o=i;fl(i)&&(o=bD(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function $p(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function xl(t){this.l=t.fc||null,this.j=t.ob||!1}function jp(t,e){At.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=LD,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}St(xl,AD),xl.prototype.g=function(){return new jp(this.l,this.j)},xl.prototype.i=function(t){return function(){return t}}({}),St(jp,At);var LD=0;function Z2(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Ml(t){t.readyState=4,t.l=null,t.j=null,t.A=null,kl(t)}function kl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(P=jp.prototype).open=function(t,e){if(this.readyState!=LD)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,kl(this)},P.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||J).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},P.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ml(this)),this.readyState=LD},P.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,kl(this)),this.g&&(this.readyState=3,kl(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof J.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Z2(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},P.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ml(this):kl(this),3==this.readyState&&Z2(this)}},P.Za=function(t){this.g&&(this.response=this.responseText=t,Ml(this))},P.Ya=function(t){this.g&&(this.response=t,Ml(this))},P.ka=function(){this.g&&Ml(this)},P.setRequestHeader=function(t,e){this.v.append(t,e)},P.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},P.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(jp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Uoe=J.JSON.parse;function Ze(t){At.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=eU,this.L=this.M=!1}St(Ze,At);var eU="",Boe=/^https?$/i,$oe=["POST","PUT"];function tU(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,nU(t),Hp(t)}function nU(t){t.F||(t.F=!0,jt(t,"complete"),jt(t,"error"))}function rU(t){if(t.h&&typeof sD<"u"&&(!t.C[1]||4!=zr(t)||2!=t.da()))if(t.v&&4==zr(t))SD(t.La,0,t);else if(jt(t,"readystatechange"),4==zr(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(j2)[1]||null;!i&&J.self&&J.self.location&&(i=J.self.location.protocol.slice(0,-1)),r=!Boe.test(i?i.toLowerCase():"")}n=r}if(n)jt(t,"complete"),jt(t,"success");else{t.m=6;try{var s=2<zr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",nU(t)}}finally{Hp(t)}}}function Hp(t,e){if(t.g){iU(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||jt(t,"ready");try{n.onreadystatechange=r}catch{}}}function iU(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(J.clearTimeout(t.A),t.A=null)}function zr(t){return t.g?t.g.readyState:0}function sU(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case eU:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function oU(t){let e="";return gD(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function VD(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=oU(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Fe(t,e,n))}function Pl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function aU(t){this.Ga=0,this.j=[],this.l=new Pp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Pl("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Pl("baseRetryDelayMs",5e3,t),this.hb=Pl("retryDelaySeedMs",1e4,t),this.eb=Pl("forwardChannelMaxRetries",2,t),this.xa=Pl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new K2(t&&t.concurrentRequestLimit),this.Ja=new Foe,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function UD(t){if(uU(t),3==t.H){var e=t.W++,n=Ai(t.I);if(Fe(n,"SID",t.K),Fe(n,"RID",e),Fe(n,"TYPE","terminate"),Rl(t,n),(e=new Cl(t,t.l,e)).L=2,e.v=Bp(Ai(n)),n=!1,J.navigator&&J.navigator.sendBeacon)try{n=J.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&J.Image&&((new Image).src=e.v,n=!0),n||(e.g=yU(e.l,null),e.g.ha(e.v)),e.G=Date.now(),bl(e)}gU(t)}function Gp(t){t.g&&($D(t),t.g.cancel(),t.g=null)}function uU(t){Gp(t),t.u&&(J.clearTimeout(t.u),t.u=null),qp(t),t.i.cancel(),t.m&&("number"==typeof t.m&&J.clearTimeout(t.m),t.m=null)}function zp(t){if(!Q2(t.i)&&!t.m){t.m=!0;var e=t.Na;yl||b2(),_l||(yl(),_l=!0),DD.add(e,t),t.C=0}}function cU(t,e){var n;n=e?e.m:t.W++;const r=Ai(t.I);Fe(r,"SID",t.K),Fe(r,"RID",n),Fe(r,"AID",t.V),Rl(t,r),t.o&&t.s&&VD(r,t.o,t.s),n=new Cl(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=lU(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),FD(t.i,n),RD(n,r,e)}function Rl(t,e){t.na&&gD(t.na,function(n,r){Fe(e,r,n)}),t.h&&$2({},function(n,r){Fe(e,r,n)})}function lU(t,e,n){n=Math.min(t.j.length,n);var r=t.h?en(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{Loe(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function dU(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;yl||b2(),_l||(yl(),_l=!0),DD.add(e,t),t.A=0}}function BD(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Il(en(t.Ma,t),pU(t,t.A)),t.A++,0))}function $D(t){null!=t.B&&(J.clearTimeout(t.B),t.B=null)}function hU(t){t.g=new Cl(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Ai(t.wa);Fe(e,"RID","rpc"),Fe(e,"SID",t.K),Fe(e,"AID",t.V),Fe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Fe(e,"TO",t.qa),Fe(e,"TYPE","xmlhttp"),Rl(t,e),t.o&&t.s&&VD(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Bp(Ai(e)),n.s=null,n.S=!0,L2(n,t)}function qp(t){null!=t.v&&(J.clearTimeout(t.v),t.v=null)}function fU(t,e){var n=null;if(t.g==e){qp(t),$D(t),t.g=null;var r=2}else{if(!OD(t.i,e))return;n=e.F,X2(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;jt(r=Rp(),new P2(r,n)),zp(t)}else dU(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Goe(t,e){return!(Y2(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Il(en(t.Na,t,e),pU(t,t.C)),t.C++,0)))}(t,e)||2==r&&BD(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:co(t,5);break;case 4:co(t,10);break;case 3:co(t,6);break;default:co(t,2)}}function pU(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function co(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=en(t.pb,t);n||(n=new uo("//www.google.com/images/cleardot.gif"),J.location&&"http"==J.location.protocol||Vp(n,"https"),Bp(n)),function Voe(t,e){const n=new Pp;if(J.Image){const r=new Image;r.onload=Tp($p,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Tp($p,n,r,"TestLoadImage: error",!1,e),r.onabort=Tp($p,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Tp($p,n,r,"TestLoadImage: timeout",!1,e),J.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else mn(2);t.H=0,t.h&&t.h.za(e),gU(t),uU(t)}function gU(t){if(t.H=0,t.ma=[],t.h){const e=J2(t.i);(0!=e.length||0!=t.j.length)&&(l2(t.ma,e),l2(t.ma,t.j),t.i.i.length=0,aD(t.j),t.j.length=0),t.h.ya()}}function mU(t,e,n){var r=n instanceof uo?Ai(n):new uo(n);if(""!=r.g)e&&(r.g=e+"."+r.g),Up(r,r.m);else{var i=J.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new uo(null);r&&Vp(s,r),e&&(s.g=e),i&&Up(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Fe(r,n,e),Fe(r,"VER",t.ra),Rl(t,r),r}function yU(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ze(n&&t.Ha&&!t.va?new xl({ob:!0}):t.va)).Oa(t.J),e}function _U(){}function Wp(){if(za&&!(10<=Number(roe)))throw Error("Environmental error: no available transport.")}function jn(t,e){At.call(this),this.g=new aU(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!pl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!pl(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Ka(this)}function vU(t){xD.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function wU(){MD.call(this),this.status=1}function Ka(t){this.g=t}function vr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function jD(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function be(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(P=Ze.prototype).Oa=function(t){this.M=t},P.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():kD.g(),this.C=function N2(t){return t.h||(t.h=t.i())}(this.u?this.u:kD),this.g.onreadystatechange=en(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void tU(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=J.FormData&&t instanceof J.FormData,!(0<=c2($oe,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{iU(this),0<this.B&&((this.L=function joe(t){return za&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=en(this.ua,this)):this.A=SD(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){tU(this,s)}},P.ua=function(){typeof sD<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,jt(this,"timeout"),this.abort(8))},P.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,jt(this,"complete"),jt(this,"abort"),Hp(this))},P.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Hp(this,!0)),Ze.$.N.call(this)},P.La=function(){this.s||(this.G||this.v||this.l?rU(this):this.kb())},P.kb=function(){rU(this)},P.isActive=function(){return!!this.g},P.da=function(){try{return 2<zr(this)?this.g.status:-1}catch{return-1}},P.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},P.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Uoe(e)}},P.Ia=function(){return this.m},P.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(P=aU.prototype).ra=8,P.H=1,P.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Cl(this,this.l,t);let s=this.s;if(this.U&&(s?(s=g2(s),y2(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=lU(this,i,e),Fe(n=Ai(this.I),"RID",t),Fe(n,"CVER",22),this.F&&Fe(n,"X-HTTP-Session-Id",this.F),Rl(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(oU(s)))+"&"+e:this.o&&VD(n,this.o,s)),FD(this.i,i),this.bb&&Fe(n,"TYPE","init"),this.P?(Fe(n,"$req",e),Fe(n,"SID","null"),i.aa=!0,RD(i,n,null)):RD(i,n,e),this.H=2}}else 3==this.H&&(t?cU(this,t):0==this.j.length||Q2(this.i)||cU(this))},P.Ma=function(){if(this.u=null,hU(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Il(en(this.jb,this),t)}},P.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,mn(10),Gp(this),hU(this))},P.ib=function(){null!=this.v&&(this.v=null,Gp(this),BD(this),mn(19))},P.pb=function(t){t?(this.l.info("Successfully pinged google.com"),mn(2)):(this.l.info("Failed to ping google.com"),mn(1))},P.isActive=function(){return!!this.h&&this.h.isActive(this)},(P=_U.prototype).Ba=function(){},P.Aa=function(){},P.za=function(){},P.ya=function(){},P.isActive=function(){return!0},P.Va=function(){},Wp.prototype.g=function(t,e){return new jn(t,e)},St(jn,At),jn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;mn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=mU(t,null,t.Y),zp(t)},jn.prototype.close=function(){UD(this.g)},jn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=bD(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&zp(e)},jn.prototype.N=function(){this.g.h=null,delete this.j,UD(this.g),delete this.g,jn.$.N.call(this)},St(vU,xD),St(wU,MD),St(Ka,_U),Ka.prototype.Ba=function(){jt(this.g,"a")},Ka.prototype.Aa=function(t){jt(this.g,new vU(t))},Ka.prototype.za=function(t){jt(this.g,new wU)},Ka.prototype.ya=function(){jt(this.g,"b")},St(vr,function zoe(){this.blockSize=-1}),vr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},vr.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)jD(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){jD(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){jD(this,r),i=0;break}}this.h=i,this.i+=e},vr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var qoe={};function HD(t){return-128<=t&&128>t?function eoe(t,e){var n=qoe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new be([0|e],0>e?-1:0)}):new be([0|t],0>t?-1:0)}function qr(t){if(isNaN(t)||!isFinite(t))return Qa;if(0>t)return Ht(qr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=GD;return new be(e,0)}var GD=4294967296,Qa=HD(0),zD=HD(1),EU=HD(16777216);function xi(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function sr(t){return-1==t.h}function Ht(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new be(n,~t.h).add(zD)}function Kp(t,e){return t.add(Ht(e))}function Qp(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Nl(t,e){this.g=t,this.h=e}function Yp(t,e){if(xi(e))throw Error("division by zero");if(xi(t))return new Nl(Qa,Qa);if(sr(t))return e=Yp(Ht(t),e),new Nl(Ht(e.g),Ht(e.h));if(sr(e))return e=Yp(t,Ht(e)),new Nl(Ht(e.g),e.h);if(30<t.g.length){if(sr(t)||sr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=zD,r=e;0>=r.X(t);)n=CU(n),r=CU(r);var i=Ya(n,1),s=Ya(r,1);for(r=Ya(r,2),n=Ya(n,2);!xi(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Ya(r,1),n=Ya(n,1)}return e=Kp(t,i.R(e)),new Nl(i,e)}for(i=Qa;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=qr(n)).R(e);sr(o)||0<o.X(t);)o=(s=qr(n-=r)).R(e);xi(s)&&(s=zD),i=i.add(s),t=Kp(t,o)}return new Nl(i,t)}function CU(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new be(n,t.h)}function Ya(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new be(i,t.h)}(P=be.prototype).ea=function(){if(sr(this))return-Ht(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:GD+r)*e,e*=GD}return t},P.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(xi(this))return"0";if(sr(this))return"-"+Ht(this).toString(t);for(var e=qr(Math.pow(t,6)),n=this,r="";;){var i=Yp(n,e).g,s=((0<(n=Kp(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(xi(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},P.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},P.X=function(t){return sr(t=Kp(this,t))?-1:xi(t)?0:1},P.abs=function(){return sr(this)?Ht(this):this},P.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new be(n,-2147483648&n[n.length-1]?-1:0)},P.R=function(t){if(xi(this)||xi(t))return Qa;if(sr(this))return sr(t)?Ht(this).R(Ht(t)):Ht(Ht(this).R(t));if(sr(t))return Ht(this.R(Ht(t)));if(0>this.X(EU)&&0>t.X(EU))return qr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,Qp(n,2*r+2*i),n[2*r+2*i+1]+=s*u,Qp(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Qp(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Qp(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new be(n,0)},P.gb=function(t){return Yp(this,t).h},P.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new be(n,this.h&t.h)},P.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new be(n,this.h|t.h)},P.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new be(n,this.h^t.h)},Wp.prototype.createWebChannel=Wp.prototype.g,jn.prototype.send=jn.prototype.u,jn.prototype.open=jn.prototype.m,jn.prototype.close=jn.prototype.close,Np.NO_ERROR=0,Np.TIMEOUT=8,Np.HTTP_ERROR=6,R2.COMPLETE="complete",O2.EventType=El,El.OPEN="a",El.CLOSE="b",El.ERROR="c",El.MESSAGE="d",At.prototype.listen=At.prototype.O,Ze.prototype.listenOnce=Ze.prototype.P,Ze.prototype.getLastError=Ze.prototype.Sa,Ze.prototype.getLastErrorCode=Ze.prototype.Ia,Ze.prototype.getStatus=Ze.prototype.da,Ze.prototype.getResponseJson=Ze.prototype.Wa,Ze.prototype.getResponseText=Ze.prototype.ja,Ze.prototype.send=Ze.prototype.ha,Ze.prototype.setWithCredentials=Ze.prototype.Oa,vr.prototype.digest=vr.prototype.l,vr.prototype.reset=vr.prototype.reset,vr.prototype.update=vr.prototype.j,be.prototype.add=be.prototype.add,be.prototype.multiply=be.prototype.R,be.prototype.modulo=be.prototype.gb,be.prototype.compare=be.prototype.X,be.prototype.toNumber=be.prototype.ea,be.prototype.toString=be.prototype.toString,be.prototype.getBits=be.prototype.D,be.fromNumber=qr,be.fromString=function IU(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Ht(IU(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=qr(Math.pow(e,8)),r=Qa,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=qr(Math.pow(e,s)),r=r.R(s).add(qr(o))):r=(r=r.R(n)).add(qr(o))}return r};var Woe=_r.createWebChannelTransport=function(){return new Wp},Koe=_r.getStatEventTarget=function(){return Rp()},qD=_r.ErrorCode=Np,Qoe=_r.EventType=R2,Yoe=_r.Event=oo,bU=_r.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Xoe=_r.FetchXmlHttpFactory=xl,Xp=_r.WebChannel=O2,Joe=_r.XhrIo=Ze,Zoe=_r.Md5=vr,Xa=_r.Integer=be;const DU="@firebase/firestore";class xt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xt.UNAUTHENTICATED=new xt(null),xt.GOOGLE_CREDENTIALS=new xt("google-credentials-uid"),xt.FIRST_PARTY=new xt("first-party-uid"),xt.MOCK_USER=new xt("mock-user");let Ja="9.22.1";const us=new Oa("@firebase/firestore");function WD(){return us.logLevel}function T(t,...e){if(us.logLevel<=fe.DEBUG){const n=e.map(KD);us.debug(`Firestore (${Ja}): ${t}`,...n)}}function ot(t,...e){if(us.logLevel<=fe.ERROR){const n=e.map(KD);us.error(`Firestore (${Ja}): ${t}`,...n)}}function wr(t,...e){if(us.logLevel<=fe.WARN){const n=e.map(KD);us.warn(`Firestore (${Ja}): ${t}`,...n)}}function KD(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function O(t="Unexpected state"){const e=`FIRESTORE (${Ja}) INTERNAL ASSERTION FAILED: `+t;throw ot(e),new Error(e)}function U(t,e){t||O()}function k(t,e){return t}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class b extends yr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Et{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class TU{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eae{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(xt.UNAUTHENTICATED))}shutdown(){}}class tae{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class nae{constructor(e){this.t=e,this.currentUser=xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new Et;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Et,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(y(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{T("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(T("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Et)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(T("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(U("string"==typeof r.accessToken),new TU(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return U(null===e||"string"==typeof e),new xt(e)}}class rae{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=xt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class iae{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new rae(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class SU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sae{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&T("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,T("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{T("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):T("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(U("string"==typeof n.token),this.T=n.token,new SU(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function oae(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class AU{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=oae(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function X(t,e){return t<e?-1:t>e?1:0}function Za(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class We{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new b(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new b(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new b(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new b(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return We.fromMillis(Date.now())}static fromDate(e){return We.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new We(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?X(this.nanoseconds,e.nanoseconds):X(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class B{constructor(e){this.timestamp=e}static fromTimestamp(e){return new B(e)}static min(){return new B(new We(0,0))}static max(){return new B(new We(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ol{constructor(e,n,r){void 0===n?n=0:n>e.length&&O(),void 0===r?r=e.length-n:r>e.length-n&&O(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Ol.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ol?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class me extends Ol{construct(e,n,r){return new me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new b(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new me(n)}static emptyPath(){return new me([])}}const aae=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class at extends Ol{construct(e,n,r){return new at(e,n,r)}static isValidIdentifier(e){return aae.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),at.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new at(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new b(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new b(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new b(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new b(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new at(n)}static emptyPath(){return new at([])}}class x{constructor(e){this.path=e}static fromPath(e){return new x(me.fromString(e))}static fromName(e){return new x(me.fromString(e).popFirst(5))}static empty(){return new x(me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===me.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new x(new me(e.slice()))}}function kU(t){return new Hn(t.readTime,t.key,-1)}class Hn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Hn(B.min(),x.empty(),-1)}static max(){return new Hn(B.max(),x.empty(),-1)}}function YD(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=x.comparator(t.documentKey,e.documentKey),0!==n?n:X(t.largestBatchId,e.largestBatchId))}const PU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lae{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function cs(t){return XD.apply(this,arguments)}function XD(){return XD=y(function*(t){if(t.code!==I.FAILED_PRECONDITION||t.message!==PU)throw t;T("LocalStore","Unexpectedly lost primary lease")}),XD.apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&O(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof w?n:w.resolve(n)}catch(n){return w.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):w.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):w.reject(n)}static resolve(e){return new w((n,r)=>{n(e)})}static reject(e){return new w((n,r)=>{r(e)})}static waitFor(e){return new w((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=w.resolve(!1);for(const r of e)n=n.next(i=>i?w.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new w((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new w((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function ls(t){return"IndexedDbTransactionError"===t.name}let Gn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function Vl(t){return null==t}function Ul(t){return 0===t&&1/t==-1/0}function $U(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ds(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function jU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Re{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new Re(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new Re(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ng(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ng(this.root,e,this.comparator,!1)}getReverseIterator(){return new ng(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ng(this.root,e,this.comparator,!0)}}class ng{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Gt.RED,this.left=i??Gt.EMPTY,this.right=s??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Gt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Gt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw O();const e=this.left.check();if(e!==this.right.check())throw O();return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1,Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw O()}get value(){throw O()}get color(){throw O()}get left(){throw O()}get right(){throw O()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Gt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Le{constructor(e){this.comparator=e,this.data=new Re(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new HU(this.data.getIterator())}getIteratorFrom(e){return new HU(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Le)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Le(this.comparator);return n.data=e,n}}class HU{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sn{constructor(e){this.fields=e,e.sort(at.comparator)}static empty(){return new Sn([])}unionWith(e){let n=new Le(at.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Za(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class GU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ct{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new GU("Invalid base64 string: "+i):i}}(e);return new Ct(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Ct(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return X(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ct.EMPTY_BYTE_STRING=new Ct("");const Rae=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hs(t){if(U(!!t),"string"==typeof t){let e=0;const n=Rae.exec(t);if(U(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:et(t.seconds),nanos:et(t.nanos)}}function et(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Mi(t){return"string"==typeof t?Ct.fromBase64String(t):Ct.fromUint8Array(t)}function rg(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ig(t){const e=t.mapValue.fields.__previous_value__;return rg(e)?ig(e):e}function Bl(t){const e=hs(t.mapValue.fields.__local_write_time__.timestampValue);return new We(e.seconds,e.nanos)}class Nae{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class fo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new fo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof fo&&e.projectId===this.projectId&&e.database===this.database}}const fs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ps(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rg(t)?4:KU(t)?9007199254740991:10:O()}function Kr(t,e){if(t===e)return!0;const n=ps(t);if(n!==ps(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Bl(t).isEqual(Bl(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=hs(r.timestampValue),o=hs(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Mi(t.bytesValue).isEqual(Mi(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return et(r.geoPointValue.latitude)===et(i.geoPointValue.latitude)&&et(r.geoPointValue.longitude)===et(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return et(r.integerValue)===et(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=et(r.doubleValue),o=et(i.doubleValue);return s===o?Ul(s)===Ul(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Za(t.arrayValue.values||[],e.arrayValue.values||[],Kr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if($U(s)!==$U(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Kr(s[a],o[a])))return!1;return!0}(t,e);default:return O()}var i}function $l(t,e){return void 0!==(t.values||[]).find(n=>Kr(n,e))}function gs(t,e){if(t===e)return 0;const n=ps(t),r=ps(e);if(n!==r)return X(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return X(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=et(i.integerValue||i.doubleValue),a=et(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return zU(t.timestampValue,e.timestampValue);case 4:return zU(Bl(t),Bl(e));case 5:return X(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Mi(i),a=Mi(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=X(o[u],a[u]);if(0!==c)return c}return X(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=X(et(i.latitude),et(s.latitude));return 0!==o?o:X(et(i.longitude),et(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=gs(o[u],a[u]);if(c)return c}return X(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===fs.mapValue&&s===fs.mapValue)return 0;if(i===fs.mapValue)return 1;if(s===fs.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=X(a[l],c[l]);if(0!==d)return d;const h=gs(o[a[l]],u[c[l]]);if(0!==h)return h}return X(a.length,c.length)}(t.mapValue,e.mapValue);default:throw O()}}function zU(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return X(t,e);const n=hs(t),r=hs(e),i=X(n.seconds,r.seconds);return 0!==i?i:X(n.nanos,r.nanos)}function tu(t){return e0(t)}function e0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=hs(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Mi(t.bytesValue).toBase64():"referenceValue"in t?x.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=e0(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${e0(r.fields[a])}`;return s+"}"}(t.mapValue):O();var e}function po(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function t0(t){return!!t&&"integerValue"in t}function jl(t){return!!t&&"arrayValue"in t}function qU(t){return!!t&&"nullValue"in t}function WU(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ag(t){return!!t&&"mapValue"in t}function Hl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ds(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Hl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Hl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function KU(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class zt{constructor(e){this.value=e}static empty(){return new zt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ag(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hl(n)}setAll(e){let n=at.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Hl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ag(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Kr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ag(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ds(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new zt(Hl(this.value))}}function XU(t){const e=[];return ds(t.fields,(n,r)=>{const i=new at([n]);if(ag(r)){const s=XU(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Sn(e)}class Ve{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ve(e,0,B.min(),B.min(),B.min(),zt.empty(),0)}static newFoundDocument(e,n,r,i){return new Ve(e,1,n,B.min(),r,i,0)}static newNoDocument(e,n){return new Ve(e,2,n,B.min(),B.min(),zt.empty(),0)}static newUnknownDocument(e,n){return new Ve(e,3,n,B.min(),B.min(),zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(B.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=B.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ve&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ve(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ms{constructor(e,n){this.position=e,this.inclusive=n}}function JU(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?x.comparator(x.fromName(o.referenceValue),n.key):gs(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function ZU(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Kr(t.position[n],e.position[n]))return!1;return!0}class nu{constructor(e,n="asc"){this.field=e,this.dir=n}}function Lae(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class eB{}class he extends eB{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Vae(e,n,r):"array-contains"===n?new $ae(e,r):"in"===n?new oB(e,r):"not-in"===n?new jae(e,r):"array-contains-any"===n?new Hae(e,r):new he(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Uae(e,r):new Bae(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(gs(n,this.value)):null!==n&&ps(this.value)===ps(n)&&this.matchesComparison(gs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return O()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class De extends eB{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new De(e,n)}matches(e){return ru(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function ru(t){return"and"===t.op}function r0(t){return function tB(t){for(const e of t.filters)if(e instanceof De)return!1;return!0}(t)&&ru(t)}function s0(t){if(t instanceof he)return t.field.canonicalString()+t.op.toString()+tu(t.value);if(r0(t))return t.filters.map(e=>s0(e)).join(",");{const e=t.filters.map(n=>s0(n)).join(",");return`${t.op}(${e})`}}function nB(t,e){return t instanceof he?(n=t,(r=e)instanceof he&&n.op===r.op&&n.field.isEqual(r.field)&&Kr(n.value,r.value)):t instanceof De?function(n,r){return r instanceof De&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&nB(s,r.filters[o]),!0)}(t,e):void O();var n,r}function iB(t){return t instanceof he?function(e){return`${e.field.canonicalString()} ${e.op} ${tu(e.value)}`}(t):t instanceof De?function(e){return e.op.toString()+" {"+e.getFilters().map(iB).join(" ,")+"}"}(t):"Filter"}class Vae extends he{constructor(e,n,r){super(e,n,r),this.key=x.fromName(r.referenceValue)}matches(e){const n=x.comparator(e.key,this.key);return this.matchesComparison(n)}}class Uae extends he{constructor(e,n){super(e,"in",n),this.keys=sB(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Bae extends he{constructor(e,n){super(e,"not-in",n),this.keys=sB(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function sB(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>x.fromName(r.referenceValue))}class $ae extends he{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jl(n)&&$l(n.arrayValue,this.value)}}class oB extends he{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&$l(this.value.arrayValue,n)}}class jae extends he{constructor(e,n){super(e,"not-in",n)}matches(e){if($l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!$l(this.value.arrayValue,n)}}class Hae extends he{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>$l(this.value.arrayValue,r))}}class Gae{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function o0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Gae(t,e,n,r,i,s,o)}function go(t){const e=k(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>s0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Vl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>tu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>tu(r)).join(",")),e.dt=n}return e.dt}function Gl(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Lae(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!nB(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ZU(t.startAt,e.startAt)&&ZU(t.endAt,e.endAt)}function ug(t){return x.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class ki{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function iu(t){return new ki(t)}function lB(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function a0(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function lg(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function u0(t){return null!==t.collectionGroup}function mo(t){const e=k(t);if(null===e.wt){e.wt=[];const n=lg(e),r=a0(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new nu(n)),e.wt.push(new nu(at.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new nu(at.keyField(),s))}}}return e.wt}function yn(t){const e=k(t);if(!e._t)if("F"===e.limitType)e._t=o0(e.path,e.collectionGroup,mo(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of mo(e))n.push(new nu(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new ms(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ms(e.startAt.position,e.startAt.inclusive):null;e._t=o0(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function c0(t,e){e.getFirstInequalityField(),lg(t);const n=t.filters.concat([e]);return new ki(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function dg(t,e,n){return new ki(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zl(t,e){return Gl(yn(t),yn(e))&&t.limitType===e.limitType}function dB(t){return`${go(yn(t))}|lt:${t.limitType}`}function l0(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>iB(r)).join(", ")}]`),Vl(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>tu(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>tu(r)).join(",")),`Target(${n})`}(yn(t))}; limitType=${t.limitType})`}function ql(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):x.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of mo(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=JU(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,mo(n),r)||n.endAt&&!function(i,s,o){const a=JU(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,mo(n),r)));var n,r}function fB(t){return(e,n)=>{let r=!1;for(const i of mo(t)){const s=zae(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function zae(t,e,n){const r=t.field.isKeyField()?x.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?gs(a,u):O()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return O()}}class Pi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ds(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return jU(this.inner)}size(){return this.innerSize}}const qae=new Re(x.comparator);function An(){return qae}const pB=new Re(x.comparator);function Wl(...t){let e=pB;for(const n of t)e=e.insert(n.key,n);return e}function gB(t){let e=pB;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Qr(){return Kl()}function mB(){return Kl()}function Kl(){return new Pi(t=>t.toString(),(t,e)=>t.isEqual(e))}const Wae=new Re(x.comparator),Kae=new Le(x.comparator);function se(...t){let e=Kae;for(const n of t)e=e.add(n);return e}const Qae=new Le(X);function yB(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ul(e)?"-0":e}}function _B(t){return{integerValue:""+t}}function vB(t,e){return function NU(t){return"number"==typeof t&&Number.isInteger(t)&&!Ul(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?_B(e):yB(t,e)}class hg{constructor(){this._=void 0}}function Yae(t,e,n){return t instanceof su?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&rg(i)&&(i=ig(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof yo?IB(t,e):t instanceof _o?EB(t,e):function(r,i){const s=wB(r,i),o=CB(s)+CB(r.gt);return t0(s)&&t0(r.gt)?_B(o):yB(r.serializer,o)}(t,e)}function Xae(t,e,n){return t instanceof yo?IB(t,e):t instanceof _o?EB(t,e):n}function wB(t,e){return t instanceof ou?t0(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class su extends hg{}class yo extends hg{constructor(e){super(),this.elements=e}}function IB(t,e){const n=bB(e);for(const r of t.elements)n.some(i=>Kr(i,r))||n.push(r);return{arrayValue:{values:n}}}class _o extends hg{constructor(e){super(),this.elements=e}}function EB(t,e){let n=bB(e);for(const r of t.elements)n=n.filter(i=>!Kr(i,r));return{arrayValue:{values:n}}}class ou extends hg{constructor(e,n){super(),this.serializer=e,this.gt=n}}function CB(t){return et(t.integerValue||t.doubleValue)}function bB(t){return jl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Zae{constructor(e,n){this.version=e,this.transformResults=n}}class He{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new He}static exists(e){return new He(void 0,e)}static updateTime(e){return new He(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fg(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class pg{}function DB(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new uu(t.key,He.none()):new au(t.key,t.data,He.none());{const n=t.data,r=zt.empty();let i=new Le(at.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Ri(t.key,r,new Sn(i.toArray()),He.none())}}function eue(t,e,n){t instanceof au?function(r,i,s){const o=r.value.clone(),a=AB(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Ri?function(r,i,s){if(!fg(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=AB(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(SB(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Yl(t,e,n,r){return t instanceof au?function(i,s,o,a){if(!fg(i.precondition,s))return o;const u=i.value.clone(),c=xB(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ri?function(i,s,o,a){if(!fg(i.precondition,s))return o;const u=xB(i.fieldTransforms,a,s),c=s.data;return c.setAll(SB(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,fg(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function tue(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=wB(r.transform,i||null);null!=s&&(null===n&&(n=zt.empty()),n.set(r.field,s))}return n||null}function TB(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&Za(n,r,(i,s)=>function Jae(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof yo&&r instanceof yo||n instanceof _o&&r instanceof _o?Za(n.elements,r.elements,Kr):n instanceof ou&&r instanceof ou?Kr(n.gt,r.gt):n instanceof su&&r instanceof su);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class au extends pg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ri extends pg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function SB(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function AB(t,e,n){const r=new Map;U(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Xae(o,a,n[i]))}return r}function xB(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Yae(s,o,e))}return r}class uu extends pg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class h0 extends pg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class f0{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&eue(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Yl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Yl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=mB();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=DB(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(B.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),se())}isEqual(e){return this.batchId===e.batchId&&Za(this.mutations,e.mutations,(n,r)=>TB(n,r))&&Za(this.baseMutations,e.baseMutations,(n,r)=>TB(n,r))}}class p0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){U(e.mutations.length===r.length);let i=Wae;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new p0(e,n,r,i)}}class g0{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class rue{constructor(e,n){this.count=e,this.unchangedNames=n}}var mt,ye;function kB(t){if(void 0===t)return ot("GRPC error has no .code"),I.UNKNOWN;switch(t){case mt.OK:return I.OK;case mt.CANCELLED:return I.CANCELLED;case mt.UNKNOWN:return I.UNKNOWN;case mt.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case mt.INTERNAL:return I.INTERNAL;case mt.UNAVAILABLE:return I.UNAVAILABLE;case mt.UNAUTHENTICATED:return I.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case mt.NOT_FOUND:return I.NOT_FOUND;case mt.ALREADY_EXISTS:return I.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return I.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case mt.ABORTED:return I.ABORTED;case mt.OUT_OF_RANGE:return I.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return I.UNIMPLEMENTED;case mt.DATA_LOSS:return I.DATA_LOSS;default:return O()}}(ye=mt||(mt={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";class m0{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return gg}static getOrCreateInstance(){return null===gg&&(gg=new m0),gg}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let gg=null;const iue=new Xa([4294967295,4294967295],0);function RB(t){const e=function PB(){return new TextEncoder}().encode(t),n=new Zoe;return n.update(e),new Uint8Array(n.digest())}function NB(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Xa([n,r],0),new Xa([i,s],0)]}class y0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xl(`Invalid padding: ${n}`);if(r<0)throw new Xl(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Xl(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Xl(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Xa.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Xa.fromNumber(r)));return 1===i.compare(iue)&&(i=new Xa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=RB(e),[r,i]=NB(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new y0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=RB(e),[r,i]=NB(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Jl{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Zl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Jl(B.min(),i,new Re(X),An(),se())}}class Zl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Zl(r,n,se(),se(),se())}}class mg{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class OB{constructor(e,n){this.targetId=e,this.Vt=n}}class FB{constructor(e,n,r=Ct.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class LB{constructor(){this.St=0,this.Dt=UB(),this.Ct=Ct.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=se(),n=se(),r=se();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:O()}}),new Zl(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=UB()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class sue{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=An(),this.zt=VB(),this.Wt=new Re(X)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:O()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(ug(o))if(0===i){const a=new x(o.path);this.Yt(r,a,Ve.newNoDocument(a,B.min()))}else U(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=m0.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,g,m,_;const E={localCacheCount:l,existenceFilterCount:d.count},v=d.unchangedNames;return v&&(E.bloomFilter={applied:0===c,hashCount:null!==(h=v?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(g=null===(p=null===(f=v?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==g?g:0,padding:null!==(_=null===(m=v?.bits)||void 0===m?void 0:m.padding)&&void 0!==_?_:0}),E}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=Mi(s).toUint8Array()}catch(l){if(l instanceof GU)return wr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new y0(u,o,a)}catch(l){return wr(l instanceof Xl?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&ug(a.target)){const u=new x(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,Ve.newNoDocument(u,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=se();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new Jl(e,n,this.Wt,this.jt,r);return this.jt=An(),this.zt=VB(),this.Wt=new Re(X),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new LB,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Le(X),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||T("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new LB),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function VB(){return new Re(x.comparator)}function UB(){return new Re(x.comparator)}const oue={asc:"ASCENDING",desc:"DESCENDING"},aue={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uue={and:"AND",or:"OR"};class cue{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function _0(t,e){return t.useProto3Json||Vl(e)?e:{value:e}}function cu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BB(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function lue(t,e){return cu(t,e.toTimestamp())}function ut(t){return U(!!t),B.fromTimestamp(function(e){const n=hs(e);return new We(n.seconds,n.nanos)}(t))}function v0(t,e){return(n=t,new me(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function $B(t){const e=me.fromString(t);return U(YB(e)),e}function ed(t,e){return v0(t.databaseId,e.path)}function Yr(t,e){const n=$B(e);if(n.get(1)!==t.databaseId.projectId)throw new b(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new b(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new x(HB(n))}function w0(t,e){return v0(t.databaseId,e)}function td(t){return new me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function HB(t){return U(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function GB(t,e,n){return{name:ed(t,e),fields:n.value.mapValue.fields}}function qB(t,e){return{documents:[w0(t,e.path)]}}function E0(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=w0(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=w0(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return QB(De.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:ys((l=c).field),direction:gue(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=_0(t,e.limit);var a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function WB(t){let e=function jB(t){const e=$B(t);return 4===e.length?me.emptyPath():HB(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){U(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=KB(l);return d instanceof De&&r0(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new nu(lu((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,Vl(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new ms((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new ms(l.values||[],!l.before)}(n.endAt)),function cB(t,e,n,r,i,s,o,a){return new ki(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function KB(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=lu(e.unaryFilter.field);return he.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=lu(e.unaryFilter.field);return he.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=lu(e.unaryFilter.field);return he.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=lu(e.unaryFilter.field);return he.create(s,"!=",{nullValue:"NULL_VALUE"});default:return O()}}(t):void 0!==t.fieldFilter?function(e){return he.create(lu(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return O()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(e){return De.create(e.compositeFilter.filters.map(n=>KB(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return O()}}(e.compositeFilter.op))}(t):O()}function gue(t){return oue[t]}function mue(t){return aue[t]}function yue(t){return uue[t]}function ys(t){return{fieldPath:t.canonicalString()}}function lu(t){return at.fromServerFormat(t.fieldPath)}function QB(t){return t instanceof he?function(e){if("=="===e.op){if(WU(e.value))return{unaryFilter:{field:ys(e.field),op:"IS_NAN"}};if(qU(e.value))return{unaryFilter:{field:ys(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(WU(e.value))return{unaryFilter:{field:ys(e.field),op:"IS_NOT_NAN"}};if(qU(e.value))return{unaryFilter:{field:ys(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ys(e.field),op:mue(e.op),value:e.value}}}(t):t instanceof De?function(e){const n=e.getFilters().map(r=>QB(r));return 1===n.length?n[0]:{compositeFilter:{op:yue(e.op),filters:n}}}(t):O()}function _ue(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function YB(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Ni{constructor(e,n,r,i,s=B.min(),o=B.min(),a=Ct.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Ni(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class XB{constructor(e){this.fe=e}}function C0(t){const e=WB({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?dg(e,e.limit,"L"):e}class Eo{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(et(e.integerValue));else if("doubleValue"in e){const r=et(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),Ul(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Mi(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?KU(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):O()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),x.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Eo.Ve=new Eo;class Sue{constructor(){this.rn=new x0}addToCollectionParentIndex(e,n){return this.rn.add(n),w.resolve()}getCollectionParents(e,n){return w.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return w.resolve()}deleteFieldIndex(e,n){return w.resolve()}getDocumentsMatchingTarget(e,n){return w.resolve(null)}getIndexType(e,n){return w.resolve(0)}getFieldIndexes(e,n){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,n){return w.resolve(Hn.min())}getMinOffsetFromCollectionGroup(e,n){return w.resolve(Hn.min())}updateCollectionGroup(e,n,r){return w.resolve()}updateIndexEntries(e,n){return w.resolve()}}class x0{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Le(me.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Le(me.comparator)).toArray()}}new Uint8Array(0);class rn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(41943040,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);class bo{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new bo(0)}static Mn(){return new bo(-1)}}class Rue{constructor(){this.changes=new Pi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ve.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?w.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Fue{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class C${constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Yl(r.mutation,i,Sn.empty(),We.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=se()){const i=Qr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Wl();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Qr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,se()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=An();const o=Kl(),a=Kl();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof Ri)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),Yl(l.mutation,c,l.mutation.getFieldMask(),We.now())):o.set(c.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new Fue(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Kl();let i=new Re((o,a)=>o-a),s=se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||Sn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||se()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=mB();l.forEach(h=>{if(!s.has(h)){const f=DB(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return w.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return x.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):u0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):w.resolve(Qr());let a=-1,u=s;return o.next(c=>w.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?w.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,se())).next(l=>({batchId:a,changes:gB(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new x(n)).next(r=>{let i=Wl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Wl();return this.indexManager.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const u=(c=n,l=a.child(i),new ki(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,Ve.newInvalidDocument(c)))});let o=Wl();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&Yl(c.mutation,u,Sn.empty(),We.now()),ql(n,u)&&(o=o.insert(a,u))}),o})}}class Lue{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return w.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:ut(r.createTime)}),w.resolve()}getNamedQuery(e,n){return w.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:C0(r.bundledQuery),readTime:ut(r.readTime)}),w.resolve();var r}}class Vue{constructor(){this.overlays=new Re(x.comparator),this.ls=new Map}getOverlay(e,n){return w.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Qr();return w.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),w.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),w.resolve()}getOverlaysForCollection(e,n,r){const i=Qr(),s=n.length+1,o=new x(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return w.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Re((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=Qr(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Qr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return w.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new g0(n,r));let s=this.ls.get(n);void 0===s&&(s=se(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class M0{constructor(){this.fs=new Le(kt.ds),this.ws=new Le(kt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new kt(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new kt(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new x(new me([])),r=new kt(n,e),i=new kt(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new x(new me([])),r=new kt(n,e),i=new kt(n,e+1);let s=se();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new kt(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class kt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return x.comparator(e.key,n.key)||X(e.As,n.As)}static _s(e,n){return X(e.As,n.As)||x.comparator(e.key,n.key)}}class Uue{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Le(kt.ds)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new f0(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new kt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,n){return w.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return w.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new kt(n,0),i=new kt(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Le(X);return n.forEach(i=>{const s=new kt(i,0),o=new kt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),w.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;x.isDocumentKey(s)||(s=s.child(""));const o=new kt(new x(s),0);let a=new Le(X);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),w.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){U(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return w.forEach(n.mutations,i=>{const s=new kt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new kt(n,0),i=this.Rs.firstAfterOrEqual(r);return w.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Bue{constructor(e){this.Ds=e,this.docs=new Re(x.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return w.resolve(r?r.document.mutableCopy():Ve.newInvalidDocument(n))}getEntries(e,n){let r=An();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ve.newInvalidDocument(i))}),w.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=An();const o=n.path,a=new x(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||YD(kU(l),r)<=0||(i.has(l.key)||ql(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return w.resolve(s)}getAllFromCollectionGroup(e,n,r,i){O()}Cs(e,n){return w.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new $ue(this)}getSize(e){return w.resolve(this.size)}}class $ue extends Rue{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),w.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class jue{constructor(e){this.persistence=e,this.xs=new Pi(n=>go(n),Gl),this.lastRemoteSnapshotVersion=B.min(),this.highestTargetId=0,this.Ns=0,this.ks=new M0,this.targetCount=0,this.Ms=bo.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),w.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new bo(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,w.resolve()}updateTargetData(e,n){return this.Fn(n),w.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return w.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),w.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),w.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return w.resolve(r)}containsKey(e,n){return w.resolve(this.ks.containsKey(n))}}class k0{constructor(e,n){this.$s={},this.overlays={},this.Os=new Gn(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new jue(this),this.indexManager=new Sue,this.remoteDocumentCache=new Bue(r=>this.referenceDelegate.Ls(r)),this.serializer=new XB(n),this.qs=new Lue(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Vue,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new Uue(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){T("MemoryPersistence","Starting transaction:",e);const i=new Hue(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return w.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class Hue extends lae{constructor(e){super(),this.currentSequenceNumber=e}}class Dg{constructor(e){this.persistence=e,this.Qs=new M0,this.js=null}static zs(e){return new Dg(e)}get Ws(){if(this.js)return this.js;throw O()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),w.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),w.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Ws,r=>{const i=x.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,B.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return w.or([()=>w.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class O0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=se(),i=se();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new O0(e,n.fromCache,r,i)}}class D${constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(lB(n))return w.resolve(null);let r=yn(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=dg(n,null,"F"),r=yn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=se(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,o,u.readTime)?this.Ki(e,dg(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return lB(n)||i.isEqual(B.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(WD()<=fe.DEBUG&&T("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),l0(n)),this.Wi(e,o,n,function MU(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=B.fromTimestamp(1e9===r?new We(n+1,0):new We(n,r));return new Hn(i,x.empty(),e)}(i,-1)))})}ji(e,n){let r=new Le(fB(e));return n.forEach((i,s)=>{ql(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return WD()<=fe.DEBUG&&T("QueryEngine","Using full collection scan to execute query:",l0(n)),this.Ui.getDocumentsMatchingQuery(e,n,Hn.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class zue{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Re(X),this.Yi=new Pi(s=>go(s),Gl),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new C$(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function S$(t,e){return F0.apply(this,arguments)}function F0(){return F0=y(function*(t,e){const n=k(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=se();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),F0.apply(this,arguments)}function A$(t){const e=k(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function Kue(t,e){const n=k(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function pu(t,e,n){return L0.apply(this,arguments)}function L0(){return L0=y(function*(t,e,n){const r=k(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!ls(o))throw o;T("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),L0.apply(this,arguments)}function Ag(t,e,n){const r=k(t);let i=B.min(),s=se();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=k(a),d=l.Yi.get(c);return void 0!==d?w.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,yn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:B.min(),n?s:se())).next(a=>(function P$(t,e,n){let r=t.Xi.get(e)||B.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function hB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class j0{constructor(){this.activeTargetIds=function d0(){return Qae}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class O${constructor(){this.Hr=new j0,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new j0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Xue{Yr(e){}shutdown(){}}class F${constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){T("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){T("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let kg=null;function G0(){return null===kg?kg=268435456+Math.round(2147483648*Math.random()):kg++,"0x"+kg.toString(16)}const Jue={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Zue{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const sn="WebChannelConnection";class ece extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=G0(),a=this.To(e,n);T("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(T("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw wr("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ja,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${Jue[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=G0();return new Promise((o,a)=>{const u=new Joe;u.setWithCredentials(!0),u.listenOnce(Qoe.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case qD.NO_ERROR:const l=u.getResponseJson();T(sn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case qD.TIMEOUT:T(sn,`RPC '${e}' ${s} timed out`),a(new b(I.DEADLINE_EXCEEDED,"Request time out"));break;case qD.HTTP_ERROR:const d=u.getStatus();if(T(sn,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(g){const m=g.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(m)>=0?m:I.UNKNOWN}(f.status);a(new b(p,f.message))}else a(new b(I.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new b(I.UNAVAILABLE,"Connection failed."));break;default:O()}}finally{T(sn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);T(sn,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=G0(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Woe(),a=Koe(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new Xoe({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=s.join("");T(sn,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new Zue({ro:m=>{f?T(sn,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(h||(T(sn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),T(sn,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},oo:()=>d.close()}),g=(m,_,E)=>{m.listen(_,v=>{try{E(v)}catch(M){setTimeout(()=>{throw M},0)}})};return g(d,Xp.EventType.OPEN,()=>{f||T(sn,`RPC '${e}' stream ${i} transport opened.`)}),g(d,Xp.EventType.CLOSE,()=>{f||(f=!0,T(sn,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(d,Xp.EventType.ERROR,m=>{f||(f=!0,wr(sn,`RPC '${e}' stream ${i} transport errored:`,m),p.wo(new b(I.UNAVAILABLE,"The operation could not be completed")))}),g(d,Xp.EventType.MESSAGE,m=>{var _;if(!f){const E=m.data[0];U(!!E);const M=E.error||(null===(_=E[0])||void 0===_?void 0:_.error);if(M){T(sn,`RPC '${e}' stream ${i} received error:`,M);const H=M.status;let q=function(Fi){const xu=mt[Fi];if(void 0!==xu)return kB(xu)}(H),Pt=M.message;void 0===q&&(q=I.INTERNAL,Pt="Unknown error status: "+H+" with message "+M.message),f=!0,p.wo(new b(q,Pt)),d.close()}else T(sn,`RPC '${e}' stream ${i} received:`,E),p._o(E)}}),g(a,Yoe.STAT_EVENT,m=>{m.stat===bU.PROXY?T(sn,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===bU.NOPROXY&&T(sn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function Pg(){return typeof document<"u"?document:null}function dd(t){return new cue(t,!0)}class z0{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&T("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class V${constructor(e,n,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new z0(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return y(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return y(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return y(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(ot(n.toString()),ot("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===I.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new b(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(y(function*(){e.state=0,e.start()}))}tu(e){return T("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(T("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class tce extends V${constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function hue(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:O(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(U(void 0===c||"string"==typeof c),Ct.fromBase64String(c||"")):(U(void 0===c||c instanceof Uint8Array),Ct.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?I.UNKNOWN:kB(u.code);return new b(c,u.message||"")}(o);n=new FB(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Yr(t,r.document.name),s=ut(r.document.updateTime),o=r.document.createTime?ut(r.document.createTime):B.min(),a=new zt({mapValue:{fields:r.document.fields}}),u=Ve.newFoundDocument(i,s,o,a);n=new mg(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Yr(t,r.document),s=r.readTime?ut(r.readTime):B.min(),o=Ve.newNoDocument(i,s);n=new mg([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Yr(t,r.document);n=new mg([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return O();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new rue(i,s);n=new OB(r.targetId,o)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return B.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?B.min():s.readTime?ut(s.readTime):B.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=td(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=ug(a)?{documents:qB(i,a)}:{query:E0(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=BB(i,s.resumeToken);const u=_0(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(B.min())>0){o.readTime=cu(i,s.snapshotVersion.toTimestamp());const u=_0(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function pue(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return O()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=td(this.serializer),n.removeTarget=e,this.Wo(n)}}class nce extends V${constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(U(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function fue(t,e){return t&&t.length>0?(U(void 0!==e),t.map(n=>function(r,i){let s=ut(r.updateTime?r.updateTime:i);return s.isEqual(B.min())&&(s=ut(i)),new Zae(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=ut(e.commitTime);return this.listener.cu(r,n)}return U(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=td(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function nd(t,e){let n;if(e instanceof au)n={update:GB(t,e.key,e.value)};else if(e instanceof uu)n={delete:ed(t,e.key)};else if(e instanceof Ri)n={update:GB(t,e.key,e.data),updateMask:_ue(e.fieldMask)};else{if(!(e instanceof h0))return O();n={verify:ed(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof su)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof yo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof _o)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof ou)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw O()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:lue(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:O()),n;var i}(this.serializer,r))};this.Wo(n)}}class rce extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new b(I.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new b(I.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new b(I.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class sce{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ot(n),this.mu=!1):T("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class oce{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(y(function*(){var u;Is(o)&&(T("RemoteStore","Restarting streams for network reachability change."),yield(u=y(function*(c){const l=k(c);l.vu.add(4),yield gu(l),l.bu.set("Unknown"),l.vu.delete(4),yield hd(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.bu=new sce(r,i)}}function hd(t){return W0.apply(this,arguments)}function W0(){return W0=y(function*(t){if(Is(t))for(const e of t.Ru)yield e(!0)}),W0.apply(this,arguments)}function gu(t){return K0.apply(this,arguments)}function K0(){return K0=y(function*(t){for(const e of t.Ru)yield e(!1)}),K0.apply(this,arguments)}function Rg(t,e){const n=k(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),X0(n)?Y0(n):yu(n).Ko()&&Q0(n,e))}function fd(t,e){const n=k(t),r=yu(n);n.Au.delete(e),r.Ko()&&U$(n,e),0===n.Au.size&&(r.Ko()?r.jo():Is(n)&&n.bu.set("Unknown"))}function Q0(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(B.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yu(t).su(e)}function U$(t,e){t.Vu.qt(e),yu(t).iu(e)}function Y0(t){t.Vu=new sue({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),yu(t).start(),t.bu.gu()}function X0(t){return Is(t)&&!yu(t).Uo()&&t.Au.size>0}function Is(t){return 0===k(t).vu.size}function B$(t){t.Vu=void 0}function ace(t){return J0.apply(this,arguments)}function J0(){return J0=y(function*(t){t.Au.forEach((e,n)=>{Q0(t,e)})}),J0.apply(this,arguments)}function uce(t,e){return Z0.apply(this,arguments)}function Z0(){return Z0=y(function*(t,e){B$(t),X0(t)?(t.bu.Iu(e),Y0(t)):t.bu.set("Unknown")}),Z0.apply(this,arguments)}function cce(t,e,n){return eT.apply(this,arguments)}function eT(){return eT=y(function*(t,e,n){if(t.bu.set("Online"),e instanceof FB&&2===e.state&&e.cause)try{yield(r=y(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){T("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Ng(t,r)}else if(e instanceof mg?t.Vu.Ht(e):e instanceof OB?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(B.min()))try{const r=yield A$(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(Ct.EMPTY_BYTE_STRING,c.snapshotVersion)),U$(i,a);const l=new Ni(c.target,a,u,c.sequenceNumber);Q0(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){T("RemoteStore","Failed to raise snapshot:",r),yield Ng(t,r)}var r}),eT.apply(this,arguments)}function Ng(t,e,n){return tT.apply(this,arguments)}function tT(){return tT=y(function*(t,e,n){if(!ls(e))throw e;t.vu.add(1),yield gu(t),t.bu.set("Offline"),n||(n=()=>A$(t.localStore)),t.asyncQueue.enqueueRetryable(y(function*(){T("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield hd(t)}))}),tT.apply(this,arguments)}function $$(t,e){return e().catch(n=>Ng(t,n,e))}function mu(t){return nT.apply(this,arguments)}function nT(){return nT=y(function*(t){const e=k(t),n=Es(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;lce(e);)try{const i=yield Kue(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,dce(e,i)}catch(i){yield Ng(e,i)}j$(e)&&H$(e)}),nT.apply(this,arguments)}function lce(t){return Is(t)&&t.Eu.length<10}function dce(t,e){t.Eu.push(e);const n=Es(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function j$(t){return Is(t)&&!Es(t).Uo()&&t.Eu.length>0}function H$(t){Es(t).start()}function hce(t){return rT.apply(this,arguments)}function rT(){return rT=y(function*(t){Es(t).hu()}),rT.apply(this,arguments)}function fce(t){return iT.apply(this,arguments)}function iT(){return iT=y(function*(t){const e=Es(t);for(const n of t.Eu)e.uu(n.mutations)}),iT.apply(this,arguments)}function pce(t,e,n){return sT.apply(this,arguments)}function sT(){return sT=y(function*(t,e,n){const r=t.Eu.shift(),i=p0.from(r,e,n);yield $$(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield mu(t)}),sT.apply(this,arguments)}function gce(t,e){return oT.apply(this,arguments)}function oT(){return oT=y(function*(t,e){var n;e&&Es(t).ou&&(yield(n=y(function*(r,i){if(function MB(t){switch(t){default:return O();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}(s=i.code)&&s!==I.ABORTED){const o=r.Eu.shift();Es(r).Qo(),yield $$(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield mu(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),j$(t)&&H$(t)}),oT.apply(this,arguments)}function G$(t,e){return aT.apply(this,arguments)}function aT(){return aT=y(function*(t,e){const n=k(t);n.asyncQueue.verifyOperationInProgress(),T("RemoteStore","RemoteStore received new credentials");const r=Is(n);n.vu.add(3),yield gu(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield hd(n)}),aT.apply(this,arguments)}function cT(){return cT=y(function*(t,e){const n=k(t);e?(n.vu.delete(2),yield hd(n)):e||(n.vu.add(2),yield gu(n),n.bu.set("Unknown"))}),cT.apply(this,arguments)}function yu(t){return t.Su||(t.Su=function(e,n,r){const i=k(e);return i.fu(),new tce(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:ace.bind(null,t),ao:uce.bind(null,t),nu:cce.bind(null,t)}),t.Ru.push(function(){var e=y(function*(n){n?(t.Su.Qo(),X0(t)?Y0(t):t.bu.set("Unknown")):(yield t.Su.stop(),B$(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function Es(t){return t.Du||(t.Du=function(e,n,r){const i=k(e);return i.fu(),new nce(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:hce.bind(null,t),ao:gce.bind(null,t),au:fce.bind(null,t),cu:pce.bind(null,t)}),t.Ru.push(function(){var e=y(function*(n){n?(t.Du.Qo(),yield mu(t)):(yield t.Du.stop(),t.Eu.length>0&&(T("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class lT{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Et,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new lT(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new b(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _u(t,e){if(ot("AsyncQueue",`${e}: ${t}`),ls(t))return new b(I.UNAVAILABLE,`${e}: ${t}`);throw t}class vu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||x.comparator(n.key,r.key):(n,r)=>x.comparator(n.key,r.key),this.keyedMap=Wl(),this.sortedSet=new Re(this.comparator)}static emptySet(e){return new vu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new vu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class z${constructor(){this.Cu=new Re(x.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):O():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class wu{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new wu(e,n,vu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class mce{constructor(){this.Nu=void 0,this.listeners=[]}}class yce{constructor(){this.queries=new Pi(e=>dB(e),zl),this.onlineState="Unknown",this.ku=new Set}}function hT(){return hT=y(function*(t,e){const n=k(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new mce),i)try{s.Nu=yield n.onListen(r)}catch(o){const a=_u(o,`Initialization of query '${l0(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&gT(n)}),hT.apply(this,arguments)}function pT(){return pT=y(function*(t,e){const n=k(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),pT.apply(this,arguments)}function _ce(t,e){const n=k(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&gT(n)}function vce(t,e,n){const r=k(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function gT(t){t.ku.forEach(e=>{e.next()})}class mT{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new wu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=wu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class K${constructor(e){this.key=e}}class Q${constructor(e){this.key=e}}class Y${constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=se(),this.mutatedKeys=se(),this.tc=fB(e),this.ec=new vu(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new z$,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=ql(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.rc(h,f)||(r.track({type:2,doc:f}),m=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(u||c)&&(a=!0)),m&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return O()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new wu(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new z$,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=se(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new Q$(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new K$(r))}),n}hc(e){this.Yu=e.ir,this.Zu=se();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return wu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Ece{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Cce{constructor(e){this.key=e,this.fc=!1}}class bce{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Pi(a=>dB(a),zl),this._c=new Map,this.mc=new Set,this.gc=new Re(x.comparator),this.yc=new Map,this.Ic=new M0,this.Tc={},this.Ec=new Map,this.Ac=bo.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Dce(t,e){return yT.apply(this,arguments)}function yT(){return yT=y(function*(t,e){const n=function BT(t){const e=k(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=X$.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Nce.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ace.bind(null,e),e.dc.nu=_ce.bind(null,e.eventManager),e.dc.Pc=vce.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function fu(t,e){const n=k(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new Ni(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,yn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function _T(t,e,n,r,i){return vT.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&Rg(n.remoteStore,o)}return i}),yT.apply(this,arguments)}function vT(){return vT=y(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(p=y(function*(g,m,_,E){let v=m.view.sc(_);v.zi&&(v=yield Ag(g.localStore,m.query,!1).then(({documents:q})=>m.view.sc(q,v)));const M=E&&E.targetChanges.get(m.targetId),H=m.view.applyChanges(v,g.isPrimaryClient,M);return xT(g,m.targetId,H.cc),H.snapshot}),function(g,m,_,E){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield Ag(t.localStore,e,!0),o=new Y$(e,s.ir),a=o.sc(s.documents),u=Zl.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);xT(t,n,c.cc);const l=new Ece(e,n,o);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}),vT.apply(this,arguments)}function Tce(t,e){return wT.apply(this,arguments)}function wT(){return wT=y(function*(t,e){const n=k(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!zl(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield pu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),fd(n.remoteStore,r.targetId),Iu(n,r.targetId)}).catch(cs))):(Iu(n,r.targetId),yield pu(n.localStore,r.targetId,!0))}),wT.apply(this,arguments)}function IT(){return IT=y(function*(t,e,n){const r=function $T(t){const e=k(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xce.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Mce.bind(null,e),e}(t);try{const i=yield function(s,o){const a=k(s),u=We.now(),c=o.reduce((h,f)=>h.add(f.key),se());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=An(),p=se();return a.Zi.getEntries(h,c).next(g=>{f=g,f.forEach((m,_)=>{_.isValidDocument()||(p=p.add(m))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{l=g;const m=[];for(const _ of o){const E=tue(_,l.get(_.key).overlayedDocument);null!=E&&m.push(new Ri(_.key,E,XU(E.value.mapValue),He.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,m,o)}).next(g=>{d=g;const m=g.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,m)})}).then(()=>({batchId:d.batchId,changes:gB(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Tc[s.currentUser.toKey()];u||(u=new Re(X)),u=u.insert(o,a),s.Tc[s.currentUser.toKey()]=u}(r,i.batchId,n),yield Oi(r,i.changes),yield mu(r.remoteStore)}catch(i){const s=_u(i,"Failed to persist write");n.reject(s)}}),IT.apply(this,arguments)}function X$(t,e){return ET.apply(this,arguments)}function ET(){return ET=y(function*(t,e){const n=k(t);try{const r=yield function Wue(t,e){const n=k(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,m;null!==e.targetMismatches.get(d)?f=f.withResumeToken(Ct.EMPTY_BYTE_STRING,B.min()).withLastLimboFreeSnapshotVersion(B.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),g=f,m=l,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,f))});let u=An(),c=se();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function x$(t,e,n){let r=se(),i=se();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=An();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(B.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):T("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(B.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(U(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?U(o.fc):i.removedDocuments.size>0&&(U(o.fc),o.fc=!1))}),yield Oi(n,r,e)}catch(r){yield cs(r)}}),ET.apply(this,arguments)}function J$(t,e,n){const r=k(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=k(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&gT(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Ace(t,e,n){return CT.apply(this,arguments)}function CT(){return CT=y(function*(t,e,n){const r=k(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Re(x.comparator);o=o.insert(s,Ve.newNoDocument(s,B.min()));const a=se().add(s),u=new Jl(B.min(),new Map,new Re(X),o,a);yield X$(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),MT(r)}else yield pu(r.localStore,e,!1).then(()=>Iu(r,e,n)).catch(cs)}),CT.apply(this,arguments)}function xce(t,e){return bT.apply(this,arguments)}function bT(){return bT=y(function*(t,e){const n=k(t),r=e.batch.batchId;try{const i=yield function que(t,e){const n=k(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=w.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const g=u.docVersions.get(f);U(null!==g),p.version.compareTo(g)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=se();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);AT(n,r,null),ST(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Oi(n,i)}catch(i){yield cs(i)}}),bT.apply(this,arguments)}function Mce(t,e,n){return DT.apply(this,arguments)}function DT(){return DT=y(function*(t,e,n){const r=k(t);try{const i=yield function(s,o){const a=k(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>(U(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);AT(r,e,n),ST(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Oi(r,i)}catch(i){yield cs(i)}}),DT.apply(this,arguments)}function ST(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function AT(t,e,n){const r=k(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Iu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||Z$(t,r)})}function Z$(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(fd(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),MT(t))}function xT(t,e,n){for(const r of n)r instanceof K$?(t.Ic.addReference(r.key,e),Pce(t,r)):r instanceof Q$?(T("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||Z$(t,r.key)):O()}function Pce(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(T("SyncEngine","New document in limbo: "+n),t.mc.add(r),MT(t))}function MT(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new x(me.fromString(e)),r=t.Ac.next();t.yc.set(r,new Cce(n)),t.gc=t.gc.insert(n,r),Rg(t.remoteStore,new Ni(yn(iu(n.path)),r,"TargetPurposeLimboResolution",Gn.ct))}}function Oi(t,e,n){return kT.apply(this,arguments)}function kT(){return kT=y(function*(t,e,n){const r=k(t),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=O0.Li(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=y(function*(u,c){const l=k(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(c,h=>w.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!ls(d))throw d;T("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,g)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),kT.apply(this,arguments)}function Rce(t,e){return PT.apply(this,arguments)}function PT(){return PT=y(function*(t,e){const n=k(t);if(!n.currentUser.isEqual(e)){T("SyncEngine","User change. New user:",e.toKey());const r=yield S$(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new b(I.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Oi(n,r.er)}var i}),PT.apply(this,arguments)}function Nce(t,e){const n=k(t),r=n.yc.get(e);if(r&&r.fc)return se().add(r.key);{let i=se();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class Og{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return y(function*(){n.serializer=dd(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function T$(t,e,n,r){return new zue(t,e,n,r)}(this.persistence,new D$,e.initialUser,this.serializer)}createPersistence(e){return new k0(Dg.zs,this.serializer)}createSharedClientState(e){return new O$}terminate(){var e=this;return y(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Eu{initialize(e,n){var r=this;return y(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>J$(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Rce.bind(null,r.syncEngine),yield function uT(t,e){return cT.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new yce}createDatastore(e){const n=dd(e.databaseInfo.databaseId),r=new ece(e.databaseInfo);return new rce(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>J$(this.syncEngine,a,0),o=F$.D()?new F$:new Xue,new oce(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new bce(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(){var e=y(function*(n){const r=k(n);T("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield gu(r),r.Pu.shutdown(),r.bu.set("Unknown")});return function(n){return e.apply(this,arguments)}}()(this.remoteStore)}}class Fg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ot("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Wce{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=xt.UNAUTHENTICATED,this.clientId=AU.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=y(function*(a){T("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(T("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return y(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new b(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Et;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(y(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=_u(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function Lg(t,e){return jT.apply(this,arguments)}function jT(){return jT=y(function*(t,e){t.asyncQueue.verifyOperationInProgress(),T("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=y(function*(s){r.isEqual(s)||(yield S$(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),jT.apply(this,arguments)}function HT(t,e){return GT.apply(this,arguments)}function GT(){return GT=y(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function zT(t){return qT.apply(this,arguments)}(t);T("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>G$(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>G$(e.remoteStore,s)),t._onlineComponents=e}),GT.apply(this,arguments)}function qT(){return qT=y(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){T("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Lg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function sj(t){return"FirebaseError"===t.name?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;wr("Error using user provided cache. Falling back to memory cache: "+n),yield Lg(t,new Og)}}else T("FirestoreClient","Using default OfflineComponentProvider"),yield Lg(t,new Og);return t._offlineComponents}),qT.apply(this,arguments)}function Vg(t){return WT.apply(this,arguments)}function WT(){return WT=y(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(T("FirestoreClient","Using user provided OnlineComponentProvider"),yield HT(t,t._uninitializedComponentsProvider._online)):(T("FirestoreClient","Using default OnlineComponentProvider"),yield HT(t,new Eu))),t._onlineComponents}),WT.apply(this,arguments)}function Cu(t){return QT.apply(this,arguments)}function QT(){return QT=y(function*(t){const e=yield Vg(t),n=e.eventManager;return n.onListen=Dce.bind(null,e.syncEngine),n.onUnlisten=Tce.bind(null,e.syncEngine),n}),QT.apply(this,arguments)}function dj(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const hj=new Map;function YT(t,e,n){if(!n)throw new b(I.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function fj(t){if(!x.isDocumentKey(t))throw new b(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function pj(t){if(x.isDocumentKey(t))throw new b(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Bg(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":O()}function pe(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new b(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Bg(t);throw new b(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class mj{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new b(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new b(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function nle(t,e,n,r){if(!0===e&&!0===r)throw new b(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=dj(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new b(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new b(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new b(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mj({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new b(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new b(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mj(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new eae;switch(n.type){case"firstParty":return new iae(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new b(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=hj.get(e);n&&(T("ComponentProvider","Removing Datastore"),hj.delete(e),n.terminate())}(this),Promise.resolve()}}class ct{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ct(this.firestore,e,this._key)}}class qt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qt(this.firestore,e,this._query)}}class Xr extends qt{constructor(e,n,r){super(e,n,iu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ct(this.firestore,null,new x(e))}withConverter(e){return new Xr(this.firestore,e,this._path)}}function ile(t,e,...n){if(t=Ut(t),YT("collection","path",e),t instanceof pd){const r=me.fromString(e,...n);return pj(r),new Xr(t,null,r)}{if(!(t instanceof ct||t instanceof Xr))throw new b(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(me.fromString(e,...n));return pj(r),new Xr(t.firestore,null,r)}}function yj(t,e,...n){if(t=Ut(t),1===arguments.length&&(e=AU.A()),YT("doc","path",e),t instanceof pd){const r=me.fromString(e,...n);return fj(r),new ct(t,null,new x(r))}{if(!(t instanceof ct||t instanceof Xr))throw new b(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(me.fromString(e,...n));return fj(r),new ct(t.firestore,t instanceof Xr?t.converter:null,new x(r))}}class sle{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new z0(this,"async_queue_retry"),this.Xc=()=>{const n=Pg();n&&T("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Pg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Pg();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Et;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return y(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!ls(n))throw n;T("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,ot("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=lT.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&O()}verifyOperationInProgress(){}sa(){var e=this;return y(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function XT(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Ue extends pd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new sle,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||vj(this),this._firestoreClient.terminate()}}function ale(t,e){const r="string"==typeof t?t:e||"(default)",i=Qf("object"==typeof t?t:wF(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=qX("firestore");s&&function rle(t,e,n,r={}){var i;const s=(t=pe(t,pd))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&wr("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=xt.MOCK_USER;else{o=function KX(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[jf(JSON.stringify({alg:"none",type:"JWT"})),jf(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new b(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new xt(u)}t._authCredentials=new tae(new TU(o,a))}}(i,...s)}return i}function yt(t){return t._firestoreClient||vj(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function vj(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Nae(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,dj(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new Wce(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class To{constructor(e){this._byteString=e}static fromBase64String(e){try{return new To(Ct.fromBase64String(e))}catch(n){throw new b(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new To(Ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class bu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new b(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new at(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class JT{constructor(e){this._methodName=e}}class ZT{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new b(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new b(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return X(this._lat,e._lat)||X(this._long,e._long)}}const cle=/^__.*__$/;class lle{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Ri(e,this.data,this.fieldMask,n,this.fieldTransforms):new au(e,this.data,n,this.fieldTransforms)}}class Ej{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ri(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Cj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw O()}}class $g{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new $g(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Hg(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Cj(this.ca)&&cle.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class dle{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||dd(e)}ya(e,n,r,i=!1){return new $g({ca:e,methodName:n,ga:r,path:at.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Du(t){const e=t._freezeSettings(),n=dd(t._databaseId);return new dle(t._databaseId,!!e.ignoreUndefinedProperties,n)}function eS(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);nS("Data must be an object, but it was:",o,r);const a=Aj(r,o);let u,c;if(s.merge)u=new Sn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=yd(e,d,n);if(!o.contains(h))throw new b(I.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Mj(l,h)||l.push(h)}u=new Sn(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new lle(new zt(a),u,c)}class md extends JT{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof md}}function Sj(t,e,n,r=!1){return So(n,t.ya(r?4:3,e))}function So(t,e){if(xj(t=Ut(t)))return nS("Unsupported field value:",e,t),Aj(t,e);if(t instanceof JT)return function(n,r){if(!Cj(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=So(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=Ut(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return vB(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=We.fromDate(n);return{timestampValue:cu(r.serializer,i)}}if(n instanceof We){const i=new We(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:cu(r.serializer,i)}}if(n instanceof ZT)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof To)return{bytesValue:BB(r.serializer,n._byteString)};if(n instanceof ct){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:v0(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Bg(n)}`)}(t,e)}function Aj(t,e){const n={};return jU(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ds(t,(r,i)=>{const s=So(i,e.ha(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function xj(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof We||t instanceof ZT||t instanceof To||t instanceof ct||t instanceof JT)}function nS(t,e,n){if(!xj(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Bg(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function yd(t,e,n){if((e=Ut(e))instanceof bu)return e._internalPath;if("string"==typeof e)return jg(t,e);throw Hg("Field path arguments must be of type string or ",t,!1,void 0,n)}const gle=new RegExp("[~\\*/\\[\\]]");function jg(t,e,n){if(e.search(gle)>=0)throw Hg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new bu(...e.split("."))._internalPath}catch{throw Hg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Hg(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new b(I.INVALID_ARGUMENT,a+t+u)}function Mj(t,e){return t.some(n=>n.isEqual(e))}class rS{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ct(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new mle(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Gg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class mle extends rS{data(){return super.data()}}function Gg(t,e){return"string"==typeof e?jg(t,e):e instanceof bu?e._internalPath:e._delegate._internalPath}class iS{}class zg extends iS{}function yle(t,e,...n){let r=[];e instanceof iS&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof Tu).length,o=i.filter(a=>a instanceof _d).length;if(s>1||s>0&&o>0)throw new b(I.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class _d extends zg{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new _d(e,n,r)}_apply(e){const n=this._parse(e);return Oj(e._query,n),new qt(e.firestore,e.converter,c0(e._query,n))}_parse(e){const n=Du(e.firestore);return function(i,s,o,a,u,c,l){let d;if(u.isKeyField()){if("array-contains"===c||"array-contains-any"===c)throw new b(I.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if("in"===c||"not-in"===c){Nj(l,c);const h=[];for(const f of l)h.push(Rj(a,i,f));d={arrayValue:{values:h}}}else d=Rj(a,i,l)}else"in"!==c&&"not-in"!==c&&"array-contains-any"!==c||Nj(l,c),d=Sj(o,"where",l,"in"===c||"not-in"===c);return he.create(u,c,d)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class Tu extends iS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Tu(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:De.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)Oj(s,a),s=c0(s,a)}(e._query,n),new qt(e.firestore,e.converter,c0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class sS extends zg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new sS(e,n)}_apply(e){const n=function(r,i,s){if(null!==r.startAt)throw new b(I.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new b(I.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new nu(i,s);return function(a,u){if(null===a0(a)){const c=lg(a);null!==c&&Fj(0,c,u.field)}}(r,o),o}(e._query,this._field,this._direction);return new qt(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new ki(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function _le(t,e="asc"){const n=e,r=Gg("orderBy",t);return sS._create(r,n)}class qg extends zg{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new qg(e,n,r)}_apply(e){return new qt(e.firestore,e.converter,dg(e._query,this._limit,this._limitType))}}function vle(t){return function gj(t,e){if(e<=0)throw new b(I.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}("limit",t),qg._create("limit",t,"F")}class Wg extends zg{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Wg(e,n,r)}_apply(e){const n=function Pj(t,e,n,r){if(n[0]=Ut(n[0]),n[0]instanceof rS)return function(i,s,o,a,u){if(!a)throw new b(I.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const c=[];for(const l of mo(i))if(l.field.isKeyField())c.push(po(s,a.key));else{const d=a.data.field(l.field);if(rg(d))throw new b(I.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+l.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===d){const h=l.field.canonicalString();throw new b(I.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${h}' (used as the orderBy) does not exist.`)}c.push(d)}return new ms(c,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Du(t.firestore);return function(s,o,a,u,c,l){const d=s.explicitOrderBy;if(c.length>d.length)throw new b(I.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const h=[];for(let f=0;f<c.length;f++){const p=c[f];if(d[f].field.isKeyField()){if("string"!=typeof p)throw new b(I.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof p}`);if(!u0(s)&&-1!==p.indexOf("/"))throw new b(I.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${p}' contains a slash.`);const g=s.path.child(me.fromString(p));if(!x.isDocumentKey(g))throw new b(I.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${g}' is not because it contains an odd number of segments.`);const m=new x(g);h.push(po(o,m))}else{const g=Sj(a,u,p);h.push(g)}}return new ms(h,l)}(t._query,t.firestore._databaseId,i,e,n,r)}}(e,this.type,this._docOrFields,this._inclusive);return new qt(e.firestore,e.converter,(i=n,new ki((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}function wle(...t){return Wg._create("startAfter",t,!1)}function Rj(t,e,n){if("string"==typeof(n=Ut(n))){if(""===n)throw new b(I.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!u0(e)&&-1!==n.indexOf("/"))throw new b(I.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(me.fromString(n));if(!x.isDocumentKey(r))throw new b(I.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return po(t,new x(r))}if(n instanceof ct)return po(t,n._key);throw new b(I.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bg(n)}.`)}function Nj(t,e){if(!Array.isArray(t)||0===t.length)throw new b(I.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Oj(t,e){if(e.isInequality()){const r=lg(t),i=e.field;if(null!==r&&!r.isEqual(i))throw new b(I.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=a0(t);null!==s&&Fj(0,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new b(I.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function Fj(t,e,n){if(!n.isEqual(e))throw new b(I.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Ile{convertValue(e,n="none"){switch(ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Mi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw O()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ds(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new ZT(et(e.latitude),et(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ig(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Bl(e));default:return null}}convertTimestamp(e){const n=hs(e);return new We(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=me.fromString(e);U(YB(r));const i=new fo(r.get(1),r.get(3)),s=new x(r.popFirst(5));return i.isEqual(n)||ot(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class Ao{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Su extends rS{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Qg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Gg("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Qg extends Su{data(e={}){return super.data(e)}}class Au{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ao(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Qg(this._firestore,this._userDataWriter,r.key,r,new Ao(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new b(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Qg(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ao(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Qg(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ao(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:Cle(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Cle(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return O()}}class Cs extends Ile{constructor(e){super(),this.firestore=e}convertBytes(e){return new To(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ct(this.firestore,null,n)}}function ble(t,e,n,...r){t=pe(t,ct);const i=pe(t.firestore,Ue),s=Du(i);let o;return o="string"==typeof(e=Ut(e))||e instanceof bu?function Tj(t,e,n,r,i,s){const o=t.ya(1,e,n),a=[yd(e,r,n)],u=[i];if(s.length%2!=0)throw new b(I.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(yd(e,s[h])),u.push(s[h+1]);const c=[],l=zt.empty();for(let h=a.length-1;h>=0;--h)if(!Mj(c,a[h])){const f=a[h];let p=u[h];p=Ut(p);const g=o.da(f);if(p instanceof md)c.push(f);else{const m=So(p,g);null!=m&&(c.push(f),l.set(f,m))}}const d=new Sn(c);return new Ej(l,d,o.fieldTransforms)}(s,"updateDoc",t._key,e,n,r):function Dj(t,e,n,r){const i=t.ya(1,e,n);nS("Data must be an object, but it was:",i,r);const s=[],o=zt.empty();ds(r,(u,c)=>{const l=jg(e,u,n);c=Ut(c);const d=i.da(l);if(c instanceof md)s.push(l);else{const h=So(c,d);null!=h&&(s.push(l),o.set(l,h))}});const a=new Sn(s);return new Ej(o,a,i.fieldTransforms)}(s,"updateDoc",t._key,e),vd(i,[o.toMutation(t._key,He.exists(!0))])}function Dle(t){return vd(pe(t.firestore,Ue),[new uu(t._key,He.none())])}function Tle(t,e){const n=pe(t.firestore,Ue),r=yj(t),i=function oS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return vd(n,[eS(Du(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,He.exists(!1))]).then(()=>r)}function vd(t,e){return function(n,r){const i=new Et;return n.asyncQueue.enqueueAndForget(y(function*(){return function Sce(t,e,n){return IT.apply(this,arguments)}(yield function KT(t){return Vg(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(yt(t),e)}!function(t,e=!0){Ja=Xc,pn(new Zt("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Ue(new nae(n.getProvider("auth-internal")),new sae(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new b(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fo(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),st(DU,"3.12.1",t),st(DU,"3.12.1","esm2017")}();var Ule={includeMetadataChanges:!1};function uS(t,e){return void 0===e&&(e=Ule),new Be(function(n){var r=function Sle(t,...e){var n,r,i;t=Ut(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||XT(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(XT(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof ct)c=pe(t.firestore,Ue),l=iu(t._key.path),u={next:d=>{e[o]&&e[o](function aS(t,e,n){const r=n.docs.get(e._key),i=new Cs(t);return new Su(t,i,e._key,r,new Ao(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=pe(t,qt);c=pe(d.firestore,Ue),l=d._query;const h=new Cs(c);u={next:f=>{e[o]&&e[o](new Au(c,h,d,f))},error:e[o+1],complete:e[o+2]},function kj(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new b(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const g=new Fg(p),m=new mT(h,g,f);return d.asyncQueue.enqueueAndForget(y(function*(){return function dT(t,e){return hT.apply(this,arguments)}(yield Cu(d),m)})),()=>{g.Dc(),d.asyncQueue.enqueueAndForget(y(function*(){return function fT(t,e){return pT.apply(this,arguments)}(yield Cu(d),m)}))}}(yt(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function qle(t,e){return void 0===e&&(e={}),function zle(t){return uS(t,{includeMetadataChanges:!0}).pipe(ie(function(e){return e.docs}))}(t).pipe(ie(function(n){return n.map(function(r){return function Uj(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class Xg{constructor(e){return e}}const Hj="firestore",dS=new F("angularfire2.firestore-instances");function Qle(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Xg(r)}}const Yle={provide:class Wle{constructor(){return ME(Hj)}},deps:[[new cn,dS]]},Xle={provide:Xg,useFactory:function Kle(t,e){const n=function xE(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(Hj,t,e);return n&&new Xg(n)},deps:[[new cn,dS],Ba]};let Jle=(()=>{class t{constructor(){st("angularfire",IE.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=kn({type:t}),t.\u0275inj=_n({providers:[Xle,Yle]}),t})();function Zle(t,...e){return{ngModule:Jle,providers:[{provide:dS,useFactory:Qle(t),multi:!0,deps:[je,Yn,OL,FL,[new cn,BV],[new cn,u2],...e]}]}}const Gj=rr(qle,!0),ede=rr(Tle,!0),hS=rr(ile,!0),tde=rr(Dle,!0),zj=rr(yj,!0),nde=rr(ale,!0),rde=rr(vle,!0),ide=rr(_le,!0),sde=rr(yle,!0),ode=rr(wle,!0),ade=rr(ble,!0);let ude=(()=>{class t{constructor(n,r){this.http=n,this.firestore=r,this.ApiFirebase="https://shopping-list-c69d4-default-rtdb.firebaseio.com"}getProducts(){return this.http.get(`${this.ApiFirebase}/productos.json`)}getProduct(n){return this.http.get(`${this.ApiFirebase}/productos/${n}.json`)}create(n){return this.http.post(this.ApiFirebase,n)}delete(n){return this.http.delete(`${this.ApiFirebase}/productos/${n.id}.json`)}update(n,r){return this.http.put(`${this.ApiFirebase}/productos/${n}.json`,r)}createFirestore(n){const r=hS(this.firestore,"productos");return ede(r,n)}getFirestore(){const n=hS(this.firestore,"productos");return Gj(n,{idField:"id"})}deleteFirestore(n){const r=zj(this.firestore,`productos/${n.id}`);return tde(r)}updateFirestore(n,r){const i=zj(this.firestore,`productos/${n}`);return ade(i,r)}getPageFirestore(n,r){const i=hS(this.firestore,"productos");return Gj(sde(i,ide("id"),rde(r),ode(n)))}}return t.\u0275fac=function(n){return new(n||t)(L(TR),L(Xg))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function cde(t,e){if(1&t){const n=vh();V(0,"img",2),_e("load",function(){return Vo(n),Uo(Pr().imgLoaded())})("error",function(){return Vo(n),Uo(Pr().imgError())}),j()}2&t&&Qe("src",Pr().img,tc)}function lde(t,e){if(1&t&&(V(0,"p"),ne(1,"[app-img]: img is empty"),j(),Jn(2,"img",3)),2&t){const n=Pr();Te(2),Qe("src",n.imgDefault,tc)}}let dde=(()=>{class t{set img2(n){console.log("set img2: ",n),this.new_img=n}constructor(){this.valor="valor inicial en img component",this.img="",this.imgDefault="https://www.meteorologiaenred.com/wp-content/uploads/2018/07/Planeta-J%C3%BApiter.png",this.imgLoadedEvent=new ke,this.counter=0,this.new_img=""}ngOnChanges(n){}ngOnInit(){}ngAfterViewInit(){}ngOnDestroy(){}imgError(){this.img=this.imgDefault}imgLoaded(){this.imgLoadedEvent.emit(this.img)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Ui({type:t,selectors:[["app-img"]],inputs:{valor:"valor",img:"img",img2:"img2"},outputs:{imgLoadedEvent:"imgLoadedEvent"},features:[Nn],decls:3,vars:2,consts:[["alt","image",3,"src","load","error",4,"ngIf","ngIfElse"],["elsetemplate",""],["alt","image",3,"src","load","error"],["alt","image","width","200",3,"src"]],template:function(n,r){if(1&n&&(Os(0,cde,1,1,"img",0),Os(1,lde,3,1,"ng-template",null,1,m_)),2&n){const i=Fs(2);Qe("ngIf",r.img)("ngIfElse",i)}},dependencies:[Y_],styles:["img[_ngcontent-%COMP%]{width:20em;height:200px;border-radius:5px;object-fit:cover;max-width:100%}"]}),t})();function hde(t,e){1&t&&Jn(0,"app-img",7),2&t&&Qe("img",Pr().product.images[0])}function fde(t,e){if(1&t&&(V(0,"p"),ne(1,"[app-product]: images array is empty"),j(),Jn(2,"app-img",8)),2&t){const n=Pr();Te(2),Qe("img",n.product.image)}}let pde=(()=>{class t{constructor(){this.product={id:"",title:"",price:0,image:"",images:[],category:{id:"",name:""},description:""},this.addedProduct=new ke,this.showDetailProduct=new ke}ngOnInit(){}addProduct(){this.addedProduct.emit(this.product)}showDetail(){this.showDetailProduct.emit(this.product.id)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Ui({type:t,selectors:[["app-product"]],inputs:{product:"product"},outputs:{addedProduct:"addedProduct",showDetailProduct:"showDetailProduct"},decls:14,vars:11,consts:[[1,"producto"],[3,"img",4,"ngIf","ngIfElse"],["elsetemplate",""],[1,"nombre-producto","text-center"],[1,"precio-producto","text-center"],["appHighlight","",1,"boton-producto",3,"click"],[1,"boton-detail",3,"click"],[3,"img"],["alt","image",3,"img"]],template:function(n,r){if(1&n&&(V(0,"div",0),Os(1,hde,1,1,"app-img",1),Os(2,fde,3,1,"ng-template",null,2,m_),V(4,"p",3),ne(5),ya(6,"slice"),j(),V(7,"h2",4),ne(8),ya(9,"currency"),j(),V(10,"button",5),_e("click",function(){return r.addProduct()}),ne(11,"Agregar al carrito"),j(),V(12,"button",6),_e("click",function(){return r.showDetail()}),ne(13,"Ver detalle"),j()()),2&n){const i=Fs(3);Te(1),Qe("ngIf",r.product.images&&r.product.images.length>0)("ngIfElse",i),Te(4),hr("Nombre: ",function wk(t,e,n,r,i){const s=t+Oe,o=C(),a=Lo(o,s);return _c(o,s)?yk(o,an(),e,a.transform,n,r,i,a):a.transform(n,r,i)}(6,4,r.product.title,0,12),""),Te(3),hr("Precio: ",yc(9,8,r.product.price,"COP"),"")}},dependencies:[Y_,dde,WP,Yh],styles:[".producto[_ngcontent-%COMP%]{margin:1em;padding:10px;border:1px solid #ccc;border-radius:5px;background-color:#fff;box-shadow:0 0 5px #ccc;transition:all .3s ease-in-out;cursor:pointer}.producto[_ngcontent-%COMP%]:hover{box-shadow:0 0 10px #4f4f4f}.producto[_ngcontent-%COMP%]   .img-producto[_ngcontent-%COMP%]{width:20em;height:200px;border-radius:5px;object-fit:cover}.producto[_ngcontent-%COMP%]   .nombre-producto[_ngcontent-%COMP%], .producto[_ngcontent-%COMP%]   .precio-producto[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;margin:10px 0}.producto[_ngcontent-%COMP%]   .boton-producto[_ngcontent-%COMP%]{background-color:#3cd880;color:#fff;border:0;padding:10px;width:100%;border-radius:10px;margin:auto;display:block}.producto[_ngcontent-%COMP%]   .boton-detail[_ngcontent-%COMP%]{background-color:#3cd880;color:#fff;border:0;padding:10px;width:100%;border-radius:10px;margin:.5em auto;display:block}"]}),t})();const fS=function(t){return{invalid:t}},qj=function(t,e){return{valid:t,invalid:e}},gde=function(t){return{success:t}};let mde=(()=>{class t{constructor(){this.status=!1,this.product={id:"",title:"",price:0,image:"",images:[""],category:{id:"",name:""},description:""},this.newProduct={title:"Producto nuevo",price:1e3,image:"https://picsum.photos/200/300",images:[],categoryId:4,description:"Description"},this.newProductEvent=new ke}ngOnInit(){}onCreate(){this.newProductEvent.emit(this.product)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Ui({type:t,selectors:[["app-new-product"]],outputs:{newProductEvent:"newProductEvent"},decls:26,vars:24,consts:[[1,"form-create"],[3,"ngSubmit"],["myForm","ngForm"],[1,"input-group"],["for","form-title"],["type","text","id","form-title","name","title","required","",3,"ngClass","ngModel","ngModelChange"],["productTitle","ngModel"],["for","form-price"],["type","text","id","form-price","name","price","required","",3,"ngClass","ngModel","ngModelChange"],["productPrice","ngModel"],["for","form-image"],["type","text","id","form-image","name","image","required","",3,"ngClass","ngModel","ngModelChange"],["productImage","ngModel"],[1,"form-message",3,"ngClass"],["type","submit",1,"form-button",3,"disabled","ngClass"]],template:function(n,r){if(1&n&&(V(0,"div",0)(1,"form",1,2),_e("ngSubmit",function(){return r.onCreate()}),V(3,"h3"),ne(4,"Registro de Producto"),j(),V(5,"div",3)(6,"label",4),ne(7,"Nombre:"),j(),V(8,"input",5,6),_e("ngModelChange",function(s){return r.product.title=s}),j()(),V(10,"div",3)(11,"label",7),ne(12,"Price:"),j(),V(13,"input",8,9),_e("ngModelChange",function(s){return r.product.price=s}),j()(),V(15,"div",3)(16,"label",10),ne(17,"Image:"),j(),V(18,"input",11,12),_e("ngModelChange",function(s){return r.product.image=s}),j()(),V(20,"p",13),ne(21,"Complete los campos"),j(),V(22,"p",13),ne(23,"Registro exitoso!"),j(),V(24,"button",14),ne(25,"Enviar"),j()()()),2&n){const i=Fs(2),s=Fs(9),o=Fs(14),a=Fs(19);Te(8),Qe("ngClass",li(10,fS,!s.valid&&s.touched))("ngModel",r.product.title),Te(5),Qe("ngClass",li(12,fS,!o.valid&&o.touched))("ngModel",r.product.price),Te(5),Qe("ngClass",li(14,fS,!a.valid&&a.touched))("ngModel",r.product.image),Te(2),Qe("ngClass",a_(16,qj,s.valid,!s.valid&&(s.touched||o.touched||a.touched))),Te(2),Qe("ngClass",li(19,gde,r.status)),Te(2),Qe("disabled",!i.valid)("ngClass",a_(21,qj,s.valid&&o.valid&&a.valid,!s.valid||!o.valid||!a.valid))}},dependencies:[Qh,bN,af,cN,lN,vf,xv,_f],styles:[".form-create[_ngcontent-%COMP%]{width:100%;max-width:330px;padding:15px;margin:auto;border-radius:10px;background-color:#b4c3c7;display:flex;flex-direction:column;justify-content:center;align-items:center}.form-create[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .form-create[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:1em 0;color:#fff;font-size:2em}.input-group[_ngcontent-%COMP%]{margin-bottom:10px}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:10px;border:0;padding:10px;width:90%}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.input-group[_ngcontent-%COMP%]   input.invalid[_ngcontent-%COMP%]{border:1px solid #dc3545}.input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:#fff}.form-message[_ngcontent-%COMP%]{opacity:0}.form-message.invalid[_ngcontent-%COMP%]{background-color:#dc3545;opacity:1;margin-top:10px;padding:10px;border-radius:10px;color:#fff}.form-message.valid[_ngcontent-%COMP%]{opacity:0;margin-top:0;padding:0}.form-message.success[_ngcontent-%COMP%]{opacity:1;margin-top:10px;padding:10px;border-radius:10px;color:#fff;background-color:#75e49f}.form-button[_ngcontent-%COMP%]{background-color:#fff;color:#74ac95;border:0;padding:10px;width:70%;border-radius:10px;margin:auto;display:block}.form-button.valid[_ngcontent-%COMP%]{background-color:#fff;color:#74ac95}.form-button.invalid[_ngcontent-%COMP%]{background-color:#3cd880;color:#fff}.form-button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}"]}),t})();function yde(t,e){if(1&t){const n=vh();V(0,"app-product",22),_e("addedProduct",function(i){return Vo(n),Uo(Pr().addToCart(i))})("showDetailProduct",function(i){return Vo(n),Uo(Pr().onShowDetail(i))}),j()}2&t&&Qe("product",e.$implicit)}const Wj=function(t){return{active:t}};let _de=(()=>{class t{constructor(n,r){this.storeService=n,this.productsService=r,this.cart=[],this.total=0,this.products=[],this.today=new Date,this.date=new Date(2021,5,1),this.detailState=!1,this.productDetail={id:"",title:"",price:0,image:"",images:[],category:{id:"",name:""},description:""},this.createState=!1,this.limit=10,this.offset=0,this.cart=this.storeService.getCart(),this.total=this.storeService.getTotal()}ngOnInit(){this.productsService.getPageFirestore(this.offset.toString(),this.limit).subscribe(n=>{this.products=n})}addToCart(n){this.storeService.addToCart(n),this.total=this.storeService.getTotal()}closeDetail(){this.detailState=!this.detailState}onShowDetail(n){this.detailState||(this.detailState=!0,this.createState=!1),this.productsService.getProduct(n).subscribe(r=>{this.productDetail=r})}closeCreateProduct(){this.createState=!this.createState,this.detailState=!1}onNewProduct(n){var r=this;return y(function*(){const i=yield r.productsService.createFirestore(n);console.log("response",i),r.products.push(n)})()}deleteProduct(n){this.productsService.deleteFirestore(n).then(()=>{this.products=this.products.filter(r=>r.id!==n.id)})}updateProduct(n){this.productsService.updateFirestore(n.id,n).then(()=>{this.products=this.products.map(i=>(i.id===n.id&&(i=n),i))})}nextPage(){this.offset+=this.limit,this.productsService.getPageFirestore(this.offset.toString(),this.limit).subscribe(n=>{this.products=n})}prevPage(){this.offset-=this.limit,this.productsService.getPageFirestore(this.offset.toString(),this.limit).subscribe(n=>{this.products=n})}}return t.\u0275fac=function(n){return new(n||t)(D(rF),D(ude))},t.\u0275cmp=Ui({type:t,selectors:[["app-products"]],decls:44,vars:19,consts:[[1,"catalogo"],[1,"catalogo-titulo"],[1,"fecha"],[3,"product","addedProduct","showDetailProduct",4,"ngFor","ngForOf"],[1,"paginador-container"],[1,"btn-paginador",3,"click"],[1,"total"],[1,"product-detail",3,"ngClass"],[1,"contenido"],[1,"detail-titulo"],[1,"btn-close",3,"click"],[1,"producto"],[1,"precio-producto","text-center"],[1,"nombre-producto","text-center"],[1,"descripcion-producto","text-center"],[1,"btn-container"],[1,"btn-update",3,"click"],[1,"btn-delete",3,"click"],[1,"btn-create",3,"click"],[1,"create-product",3,"ngClass"],[1,"create-titulo"],[3,"newProductEvent"],[3,"product","addedProduct","showDetailProduct"]],template:function(n,r){1&n&&(V(0,"div",0)(1,"h1",1),ne(2),V(3,"p",2),ne(4),ya(5,"date"),j()(),Os(6,yde,1,1,"app-product",3),V(7,"div",4)(8,"button",5),_e("click",function(){return r.prevPage()}),ne(9,"Anterior"),j(),V(10,"button",5),_e("click",function(){return r.nextPage()}),ne(11,"Siguiente"),j()()(),V(12,"p",6),ne(13),j(),V(14,"div",7)(15,"div",8)(16,"h1",9)(17,"p"),ne(18," Detalle del Producto "),j(),V(19,"button",10),_e("click",function(){return r.closeDetail()}),ne(20,"X"),j()(),V(21,"div",11)(22,"h2",12),ne(23),ya(24,"currency"),j(),V(25,"p",13),ne(26),j(),V(27,"p",14),ne(28),j()(),V(29,"div",15)(30,"button",16),_e("click",function(){return r.updateProduct(r.productDetail)}),ne(31,"Actualizar"),j(),V(32,"button",17),_e("click",function(){return r.deleteProduct(r.productDetail)}),ne(33,"Eliminar"),j()()()(),V(34,"button",18),_e("click",function(){return r.closeCreateProduct()}),ne(35,"+"),j(),V(36,"div",19)(37,"div",8)(38,"h1",20)(39,"p"),ne(40," Crear Producto "),j(),V(41,"button",10),_e("click",function(){return r.closeCreateProduct()}),ne(42,"X"),j()(),V(43,"app-new-product",21),_e("newProductEvent",function(s){return r.onNewProduct(s)}),j()()()),2&n&&(Te(2),hr(" Catalogo de Productos - Agregados: ",r.cart.length," "),Te(2),hr("Today: ",yc(5,9,r.today,"short"),""),Te(2),Qe("ngForOf",r.products),Te(7),hr("Total COP: ",r.total,"$"),Te(1),Qe("ngClass",li(15,Wj,r.detailState)),Te(9),hr("Precio: ",yc(24,12,r.productDetail.price,"COP"),""),Te(3),hr("Nombre: ",r.productDetail.title,""),Te(2),hr("Descripcion: ",r.productDetail.description,""),Te(8),Qe("ngClass",li(17,Wj,r.createState)))},dependencies:[Qh,Q_,pde,mde,Yh,zP],styles:[".catalogo[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around;margin:20px 0 2em;padding:0;list-style:none;width:100%;height:100%;background-color:#fff;border-radius:5px;box-shadow:0 0 5px #0003}.catalogo[_ngcontent-%COMP%]   .catalogo-titulo[_ngcontent-%COMP%]{display:flex;margin:.1em;padding:0 1em;width:100%;height:50px;background-color:#527dcc;border-radius:5px 5px 0 0;color:#fff;font-size:1.5rem;font-weight:700;text-align:center;line-height:50px;justify-content:space-between}.catalogo[_ngcontent-%COMP%]   .catalogo-titulo[_ngcontent-%COMP%]   .fecha[_ngcontent-%COMP%]{text-align:right;color:#fff;font-size:1.2rem}.paginador-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:.5em;width:100%}.paginador-container[_ngcontent-%COMP%]   .btn-paginador[_ngcontent-%COMP%]{width:20%;background-color:#3cd880;color:#fff;border:0;padding:10px;border-radius:10px;margin:.5em auto}.btn-paginador[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.total[_ngcontent-%COMP%]{bottom:0;margin:.1em 0 0;width:100%;height:50px;background-color:#527dcc;border-radius:5px 5px 0 0;color:#fff;font-size:1.5rem;font-weight:700;text-align:center;line-height:50px}.product-detail[_ngcontent-%COMP%]{position:fixed;inset:0 0 0 50%;background:white;box-shadow:0 0 5px #ccc;display:flex;flex-direction:column;justify-content:flex-start;transform:translate(100%);transition:all ease-out .3s;overflow-y:scroll}.product-detail.active[_ngcontent-%COMP%]{transform:translate(0)}.product-detail[_ngcontent-%COMP%]   .contenido[_ngcontent-%COMP%]{display:block}.product-detail[_ngcontent-%COMP%]   .contenido[_ngcontent-%COMP%]   .detail-titulo[_ngcontent-%COMP%]{display:flex;margin:.1em;padding:0 1em;width:auto;height:50px;background-color:#527dcc;border-radius:5px 5px 0 0;color:#fff;font-size:1.5rem;font-weight:700;text-align:center;line-height:50px;justify-content:space-between}.product-detail[_ngcontent-%COMP%]   .contenido[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{border:0;background:transparent;position:relative;top:0;right:0;padding:.1em;font-size:1.5em;color:#fff}.product-detail[_ngcontent-%COMP%]   .contenido[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{cursor:pointer;transform:rotate(180deg);transition:all ease-out .5s}.product-detail[_ngcontent-%COMP%]   .contenido[_ngcontent-%COMP%]   .producto[_ngcontent-%COMP%]{margin:1em;padding:10px;border:1px solid #ccc;border-radius:5px;background-color:#fff;box-shadow:0 0 5px #ccc;transition:all .3s ease-in-out;cursor:pointer}.product-detail[_ngcontent-%COMP%]   .contenido[_ngcontent-%COMP%]   .producto[_ngcontent-%COMP%]:hover{box-shadow:0 0 10px #4f4f4f}.product-detail[_ngcontent-%COMP%]   .contenido[_ngcontent-%COMP%]   .producto[_ngcontent-%COMP%]   .img-producto[_ngcontent-%COMP%]{width:20em;height:200px;border-radius:5px;object-fit:cover}.product-detail[_ngcontent-%COMP%]   .contenido[_ngcontent-%COMP%]   .producto[_ngcontent-%COMP%]   .nombre-producto[_ngcontent-%COMP%], .product-detail[_ngcontent-%COMP%]   .contenido[_ngcontent-%COMP%]   .producto[_ngcontent-%COMP%]   .precio-producto[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;margin:10px 0}.btn-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center;margin:.5em 0;width:100%}.product-detail[_ngcontent-%COMP%]   .contenido[_ngcontent-%COMP%]   .btn-update[_ngcontent-%COMP%]{width:50%;background-color:#3cd880;color:#fff;border:0;padding:10px;border-radius:10px;margin:.5em auto}.product-detail[_ngcontent-%COMP%]   .contenido[_ngcontent-%COMP%]   .btn-delete[_ngcontent-%COMP%]{width:50%;background-color:#dc3545;color:#fff;border:0;padding:10px;border-radius:10px;margin:.5em auto}.swiper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:60%;height:40%;overflow-y:auto}.swiper[_ngcontent-%COMP%]   .swiper-image[_ngcontent-%COMP%]{width:100%;height:100%}.btn-create[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;width:50px;height:50px;border-radius:50%;background-color:#2169ef;color:#fff;border:0;font-size:2em;box-shadow:0 0 5px #ccc}.btn-create[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#3cd880;transform:rotate(180deg);transition:all ease-out .5s}.create-product[_ngcontent-%COMP%]{position:fixed;inset:0 0 0 60%;background:white;box-shadow:0 0 5px #ccc;display:flex;flex-direction:column;justify-content:flex-start;transform:translate(100%);transition:all ease-out .3s;overflow-y:scroll}.create-product.active[_ngcontent-%COMP%]{transform:translate(0)}.create-product[_ngcontent-%COMP%]   .contenido[_ngcontent-%COMP%]{display:block}.create-product[_ngcontent-%COMP%]   .contenido[_ngcontent-%COMP%]   .create-titulo[_ngcontent-%COMP%]{display:flex;margin:.1em .1em 1em;padding:0 1em;width:auto;height:50px;background-color:#527dcc;border-radius:5px 5px 0 0;color:#fff;font-size:1.5rem;font-weight:700;text-align:center;line-height:50px;justify-content:space-between}.create-product[_ngcontent-%COMP%]   .contenido[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{border:0;background:transparent;position:relative;top:0;right:0;padding:.1em;font-size:1.5em;color:#fff}.create-product[_ngcontent-%COMP%]   .contenido[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{cursor:pointer;transform:rotate(180deg);transition:all ease-out .5s}@media screen and (min-width: 40em){.catalogo[_ngcontent-%COMP%]{width:100%;height:100%;margin:0;padding:0;border-radius:0;box-shadow:none}}@media screen and (max-width: 40em){.catalogo[_ngcontent-%COMP%]{width:100%;height:100%;margin:0;padding:0;border-radius:0;box-shadow:none}}"]}),t})(),vde=(()=>{class t{constructor(){this.title="shopping-list"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Ui({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(n,r){1&n&&Jn(0,"app-nav")(1,"app-products")},dependencies:[NX,_de]}),t})();const wde_firebase={projectId:"shopping-list-c69d4",appId:"1:657155028295:web:f308b5ac4b59b44a718862",databaseURL:"https://shopping-list-c69d4-default-rtdb.firebaseio.com",storageBucket:"shopping-list-c69d4.appspot.com",apiKey:"AIzaSyArsUIZ1uw7i0GO-_XIV4G4h6n8loqKQkE",authDomain:"shopping-list-c69d4.firebaseapp.com",messagingSenderId:"657155028295"};let Ide=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=kn({type:t,bootstrap:[vde]}),t.\u0275inj=_n({imports:[v8,PX,rQ,Q8,Mne(()=>kne(wde_firebase)),Zle(()=>nde())]}),t})();_8().bootstrapModule(Ide).catch(t=>console.error(t))}},Ae=>{Ae(Ae.s=487)}]);